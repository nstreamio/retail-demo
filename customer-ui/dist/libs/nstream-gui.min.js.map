{"version":3,"file":"nstream-gui.min.js","sources":["../../../../node_modules/tslib/tslib.es6.mjs","../../nstream-domain/main/Status.ts","../../nstream-domain/main/AspectTrait.ts","../../nstream-domain/main/EntityTrait.ts","../../nstream-domain/main/RelationTrait.ts","../../nstream-domain/main/CalendarService.ts","../../nstream-session/main/LoginController.ts","../../nstream-session/main/SessionController.ts","../../nstream-shell/main/AspectRowController.ts","../../nstream-shell/main/AspectBinderController.ts","../../nstream-shell/main/EntityRowController.ts","../../nstream-shell/main/EntityTableController.ts","../../nstream-shell/main/RelationTableController.ts","../../nstream-shell/main/EntityNavController.ts","../../nstream-shell/main/EntityFolioController.ts","../../nstream-atlas/main/AtlasController.ts","../../nstream-atlas/main/AtlasAspectTrait.ts","../../nstream-atlas/main/AtlasEntityTrait.ts","../../nstream-atlas/main/AtlasEntityController.ts","../../nstream-widget/main/TimeGaugeController.ts","../../nstream-widget/main/TimeSeriesController.ts","../../nstream-widget/main/TimeTableController.ts","../../nstream-widget/main/TimePieController.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Murmur3} from \"@swim/util\";\nimport type {Mutable} from \"@swim/util\";\nimport {Numbers} from \"@swim/util\";\nimport {Constructors} from \"@swim/util\";\nimport type {HashCode} from \"@swim/util\";\nimport type {Equivalent} from \"@swim/util\";\nimport {Mapping} from \"@swim/util\";\nimport {Constant} from \"@swim/util\";\nimport {Piecewise} from \"@swim/util\";\nimport type {Interpolate} from \"@swim/util\";\nimport {Interpolator} from \"@swim/util\";\nimport {LinearDomain} from \"@swim/util\";\nimport type {Output} from \"@swim/codec\";\nimport type {Debug} from \"@swim/codec\";\nimport {Format} from \"@swim/codec\";\nimport {Feel} from \"@swim/theme\";\nimport type {MoodVectorUpdates} from \"@swim/theme\";\n\n/** @public */\nexport class Status implements Interpolate<Status>, HashCode, Equivalent, Debug {\n  /** @internal */\n  constructor(unknown: number, warning: number, alert: number) {\n    this.unknown = unknown;\n    this.warning = warning;\n    this.alert = alert;\n  }\n\n  readonly unknown: number;\n\n  withUnknown(unknown?: number): Status {\n    if (unknown === void 0) {\n      unknown = 1;\n    } else if (isFinite(unknown)) {\n      unknown = Math.min(Math.max(0, unknown), 1);\n    } else {\n      throw new Error(\"invalid unknown level: \" + unknown);\n    }\n    return new Status(unknown, this.warning, this.alert);\n  }\n\n  readonly warning: number;\n\n  withWarning(warning?: number): Status {\n    if (warning === void 0) {\n      warning = 1;\n    } else if (isFinite(warning)) {\n      warning = Math.min(Math.max(0, warning), 1);\n    } else {\n      throw new Error(\"invalid warning level: \" + warning);\n    }\n    return new Status(this.unknown, warning, this.alert);\n  }\n\n  readonly alert: number;\n\n  withAlert(alert?: number): Status {\n    if (alert === void 0) {\n      alert = 1;\n    } else if (isFinite(alert)) {\n      alert = Math.min(Math.max(0, alert), 1);\n    } else {\n      throw new Error(\"invalid alert level: \" + alert);\n    }\n    return new Status(this.unknown, this.warning, alert);\n  }\n\n  get moodModifier(): MoodVectorUpdates {\n    return [[Feel.primary, 1],\n            [Feel.inactive, this.unknown !== 0 ? this.unknown : void 0],\n            [Feel.warning, this.warning !== 0 ? this.warning : void 0],\n            [Feel.alert, this.alert !== 0 ? this.alert : void 0]];\n  }\n\n  interpolateTo(that: Status): Interpolator<Status>;\n  interpolateTo(that: unknown): Interpolator<Status> | null;\n  interpolateTo(that: unknown): Interpolator<Status> | null {\n    if (that instanceof Status) {\n      return StatusInterpolator(this, that);\n    } else {\n      return null;\n    }\n  }\n\n  equivalentTo(that: unknown, epsilon?: number): boolean {\n    if (this === that) {\n      return true;\n    } else if (that instanceof Status) {\n      return Numbers.equivalent(this.unknown, that.unknown, epsilon)\n          && Numbers.equivalent(this.warning, that.warning, epsilon)\n          && Numbers.equivalent(this.alert, that.alert, epsilon);\n    }\n    return false;\n  }\n\n  canEqual(that: unknown): boolean {\n    return that instanceof Status;\n  }\n\n  equals(that: unknown): boolean {\n    if (this === that) {\n      return true;\n    } else if (that instanceof Status) {\n      return that.canEqual(this)\n          && this.unknown === that.unknown\n          && this.warning === that.warning\n          && this.alert === that.alert;\n    }\n    return false;\n  }\n\n  hashCode(): number {\n    return Murmur3.mash(Murmur3.mix(Murmur3.mix(Murmur3.mix(Constructors.hash(Status),\n        Numbers.hash(this.unknown)), Numbers.hash(this.warning)), Numbers.hash(this.alert)));\n  }\n\n  debug<T>(output: Output<T>): Output<T> {\n    const unknown = this.unknown;\n    const warning = this.warning;\n    const alert = this.alert;\n    output = output.write(\"Status\").write(46/*'.'*/);\n    if (unknown !== 0) {\n      output = output.write(\"unknown\").write(40/*'('*/);\n      if (unknown !== 1) {\n        output = output.debug(unknown);\n      }\n      output = output.write(41/*')'*/);\n      if (warning !== 0) {\n        output = output.write(46/*'.'*/).write(\"withWarning\").write(40/*'('*/);\n        if (warning !== 1) {\n          output = output.debug(warning);\n        }\n        output = output.write(41/*')'*/);\n      }\n      if (alert !== 0) {\n        output = output.write(46/*'.'*/).write(\"withAlert\").write(40/*'('*/);\n        if (alert !== 1) {\n          output = output.debug(alert);\n        }\n        output = output.write(41/*')'*/);\n      }\n    } else if (warning !== 0) {\n      output = output.write(\"warning\").write(40/*'('*/);\n      if (warning !== 1) {\n        output = output.debug(warning);\n      }\n      output = output.write(41/*')'*/);\n      if (alert !== 0) {\n        output = output.write(46/*'.'*/).write(\"withAlert\").write(40/*'('*/);\n        if (alert !== 1) {\n          output = output.debug(alert);\n        }\n        output = output.write(41/*')'*/);\n      }\n    } else if (alert !== 0) {\n      output = output.write(\"alert\").write(40/*'('*/);\n      if (alert !== 1) {\n        output = output.debug(alert);\n      }\n      output = output.write(41/*')'*/);\n    } else {\n      output = output.write(\"normal\").write(40/*'('*/).write(41/*')'*/);\n    }\n    return output;\n  }\n\n  toString(): string {\n    return Format.debug(this);\n  }\n\n  /** @internal */\n  static Normal: Status | null = null;\n  static normal(): Status {\n    let status = Status.Normal;\n    if (status === null) {\n      status = new Status(0, 0, 0);\n      Status.Normal = status;\n    }\n    return status;\n  }\n\n  /** @internal */\n  static Unknown: Status | null = null;\n  static unknown(unknown?: number): Status {\n    let status: Status | null;\n    if (unknown === void 0 || unknown === 1) {\n      status = Status.Unknown;\n      if (status === null) {\n        status = new Status(1, 0, 0);\n        Status.Unknown = status;\n      }\n    } else if (isFinite(unknown)) {\n      unknown = Math.min(Math.max(0, unknown), 1);\n      status = new Status(unknown, 0, 0);\n    } else {\n      throw new Error(\"invalid unknown level: \" + unknown);\n    }\n    return status;\n  }\n\n  /** @internal */\n  static Warning: Status | null = null;\n  static warning(warning?: number): Status {\n    let status: Status | null;\n    if (warning === void 0 || warning === 1) {\n      status = Status.Warning;\n      if (status === null) {\n        status = new Status(0, 1, 0);\n        Status.Warning = status;\n      }\n    } else if (isFinite(warning)) {\n      warning = Math.min(Math.max(0, warning), 1);\n      status = new Status(0, warning, 0);\n    } else {\n      throw new Error(\"invalid warning level: \" + warning);\n    }\n    return status;\n  }\n\n  /** @internal */\n  static Alert: Status | null = null;\n  static alert(alert?: number): Status {\n    let status: Status | null;\n    if (alert === void 0 || alert === 1) {\n      status = Status.Alert;\n      if (status === null) {\n        status = new Status(0, 1, 1);\n        Status.Alert = status;\n      }\n    } else if (isFinite(alert)) {\n      alert = Math.min(Math.max(0, alert), 1);\n      status = new Status(0, 1, alert);\n    } else {\n      throw new Error(\"invalid alert level: \" + alert);\n    }\n    return status;\n  }\n\n  /** @internal */\n  static NormalRange: Constant<Status> | null = null;\n  static normalRange(): Constant<Status> {\n    let range = Status.NormalRange;\n    if (range === null) {\n      range = Constant(Status.normal());\n      Status.NormalRange = range;\n    }\n    return range;\n  }\n\n  /** @internal */\n  static WarningAscending: Interpolator<Status> | null = null;\n  /** @internal */\n  static WarningDescending: Interpolator<Status> | null = null;\n  static warningRange(warning0?: number, warning1?: number): Interpolator<Status> {\n    if (warning0 === void 0) {\n      warning0 = 0;\n    } else if (isFinite(warning0)) {\n      warning0 = Math.min(Math.max(0, warning0), 1);\n    } else {\n      throw new Error(\"invalid warning level: \" + warning0);\n    }\n    if (warning1 === void 0) {\n      warning1 = 1;\n    } else if (isFinite(warning1)) {\n      warning1 = Math.min(Math.max(0, warning1), 1);\n    } else {\n      throw new Error(\"invalid warning level: \" + warning1);\n    }\n    let range: Interpolator<Status> | null;\n    if (warning0 === 0 && warning1 === 1) {\n      range = Status.WarningAscending;\n      if (range === null) {\n        range = Status.normal().interpolateTo(Status.warning());\n        Status.WarningAscending = range;\n      }\n    } else if (warning0 === 1 && warning1 === 0) {\n      range = Status.WarningDescending;\n      if (range === null) {\n        range = Status.warning().interpolateTo(Status.normal());\n        Status.WarningDescending = range;\n      }\n    } else {\n      range = new Status(0, warning0, 0).interpolateTo(new Status(0, warning1, 0));\n    }\n    return range;\n  }\n\n  /** @internal */\n  static AlertAscending: Interpolator<Status> | null = null;\n  static AlertDescending: Interpolator<Status> | null = null;\n  static alertRange(alert0?: number, alert1?: number): Interpolator<Status> {\n    if (alert0 === void 0) {\n      alert0 = 0;\n    } else if (isFinite(alert0)) {\n      alert0 = Math.min(Math.max(0, alert0), 1);\n    } else {\n      throw new Error(\"invalid alert level: \" + alert0);\n    }\n    if (alert1 === void 0) {\n      alert1 = 1;\n    } else if (isFinite(alert1)) {\n      alert1 = Math.min(Math.max(0, alert1), 1);\n    } else {\n      throw new Error(\"invalid alert level: \" + alert1);\n    }\n    let range: Interpolator<Status> | null;\n    if (alert0 === 0 && alert1 === 1) {\n      range = Status.AlertAscending;\n      if (range === null) {\n        range = Status.warning().interpolateTo(Status.alert());\n        Status.AlertAscending = range;\n      }\n    } else if (alert0 === 1 && alert1 === 0) {\n      range = Status.AlertDescending;\n      if (range === null) {\n        range = Status.alert().interpolateTo(Status.warning());\n        Status.AlertDescending = range;\n      }\n    } else {\n      range = new Status(0, 1, alert0).interpolateTo(new Status(0, 1, alert1));\n    }\n    return range;\n  }\n\n  /** @internal */\n  static PanicRange: Constant<Status> | null = null;\n  static panicRange(): Constant<Status> {\n    let range = Status.PanicRange;\n    if (range === null) {\n      range = Constant(Status.alert());\n      Status.PanicRange = range;\n    }\n    return range;\n  }\n\n  static worsening(lowerBound: number, warningThreshold: number, alertThreshold: number, panicThreshold: number, upperBound: number): Piecewise<number, Status> {\n    const normalMapping = Mapping(LinearDomain(lowerBound, warningThreshold), this.normalRange());\n    const warningMapping = Mapping(LinearDomain(warningThreshold, alertThreshold), this.warningRange(0, 1));\n    const alertMapping = Mapping(LinearDomain(alertThreshold, panicThreshold), this.alertRange(0, 1));\n    const panicMapping = Mapping(LinearDomain(panicThreshold, upperBound), this.panicRange());\n    return Piecewise(normalMapping, warningMapping, alertMapping, panicMapping);\n  }\n\n  static improving(lowerBound: number, panicThreshold: number, alertThreshold: number, warningThreshold: number, upperBound: number): Piecewise<number, Status> {\n    const panicMapping = Mapping(LinearDomain(lowerBound, panicThreshold), this.panicRange());\n    const alertMapping = Mapping(LinearDomain(panicThreshold, alertThreshold), this.alertRange(1, 0));\n    const warningMapping = Mapping(LinearDomain(alertThreshold, warningThreshold), this.warningRange(1, 0));\n    const normalMapping = Mapping(LinearDomain(warningThreshold, upperBound), this.normalRange());\n    return Piecewise(panicMapping, alertMapping, warningMapping, normalMapping);\n  }\n}\n\n/** @internal */\nexport const StatusInterpolator = (function (_super: typeof Interpolator) {\n  const StatusInterpolator = function (s0: Status, s1: Status): Interpolator<Status> {\n    const interpolator = function (u: number): Status {\n      const s0 = interpolator[0];\n      const s1 = interpolator[1];\n      const unknown = s0.unknown + u * (s1.unknown - s0.unknown);\n      const warning = s0.warning + u * (s1.warning - s0.warning);\n      const alert = s0.alert + u * (s1.alert - s0.alert);\n      return new Status(unknown, warning, alert);\n    } as Interpolator<Status>;\n    Object.setPrototypeOf(interpolator, StatusInterpolator.prototype);\n    (interpolator as Mutable<typeof interpolator>)[0] = s0;\n    (interpolator as Mutable<typeof interpolator>)[1] = s1;\n    return interpolator;\n  } as {\n    (s0: Status, s1: Status): Interpolator<Status>;\n\n    /** @internal */\n    prototype: Interpolator<Status>;\n  };\n\n  StatusInterpolator.prototype = Object.create(_super.prototype);\n  StatusInterpolator.prototype.constructor = StatusInterpolator;\n\n  return StatusInterpolator;\n})(Interpolator);\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {SelectableTrait} from \"@swim/model\";\nimport {Graphics} from \"@swim/graphics\";\nimport type {SheetController} from \"@swim/sheet\";\nimport {Status} from \"./Status\";\nimport {EntityTrait} from \"./\"; // forward import\n\n/** @public */\nexport interface AspectTraitObserver<T extends AspectTrait = AspectTrait> extends TraitObserver<T> {\n  traitDidSetTitle?(title: string, trait: T): void;\n\n  traitDidSetIcon?(icon: Graphics | null, trait: T): void;\n\n  traitDidSetStatus?(status: Status, trait: T): void;\n\n  traitWillAttachEntity?(entityTrait: EntityTrait, targetTrait: Trait | null, trait: T): void;\n\n  traitDidDetachEntity?(entityTrait: EntityTrait, trait: T): void;\n}\n\n/** @public */\nexport class AspectTrait extends Trait {\n  declare readonly observerType?: Class<AspectTraitObserver>;\n\n  @Property({valueType: String})\n  readonly id!: Property<this, string | undefined>;\n\n  @TraitRef({\n    get traitType(): typeof EntityTrait {\n      return EntityTrait;\n    },\n    willAttachTrait(entityTrait: EntityTrait, targetTrait: Trait | null): void {\n      this.owner.callObservers(\"traitWillAttachEntity\", entityTrait, targetTrait, this.owner);\n    },\n    initTrait(entityTrait: EntityTrait): void {\n      this.owner.status.bindInlet(entityTrait.status);\n    },\n    deinitTrait(entityTrait: EntityTrait): void {\n      this.owner.status.unbindInlet(entityTrait.status);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"traitDidDetachEntity\", entityTrait, this.owner);\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @Property({\n    valueType: String,\n    value: \"\",\n    didSetValue(newTitle: string, oldTitle: string): void {\n      this.owner.callObservers(\"traitDidSetTitle\", newTitle, this.owner);\n    },\n    equalValues(newTitle: string, oldTitle: string): boolean {\n      return newTitle === oldTitle;\n    },\n  })\n  readonly title!: Property<this, string>;\n\n  @Property({\n    valueType: Graphics,\n    value: null,\n    didSetValue(icon: Graphics | null): void {\n      this.owner.callObservers(\"traitDidSetIcon\", icon, this.owner);\n    },\n    equalValues(newIcon: Graphics | null, oldIcon: Graphics | null): boolean {\n      return newIcon === oldIcon;\n    },\n  })\n  readonly icon!: Property<this, Graphics | null>;\n\n  @Property({\n    valueType: Status,\n    value: Status.normal(),\n    didSetValue(status: Status): void {\n      this.owner.callObservers(\"traitDidSetStatus\", status, this.owner);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  createTabController(): SheetController | null {\n    return null;\n  }\n\n  protected override onAttachModel(model: Model): void {\n    super.onAttachModel(model);\n    if (model.getTrait(SelectableTrait) === null) {\n      model.appendTrait(SelectableTrait, \"selectable\");\n    }\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport type {Uri} from \"@swim/uri\";\nimport {UriPath} from \"@swim/uri\";\nimport {UriPathBuilder} from \"@swim/uri\";\nimport {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {TraitModelSet} from \"@swim/model\";\nimport {SelectableTrait} from \"@swim/model\";\nimport {Graphics} from \"@swim/graphics\";\nimport type {SheetController} from \"@swim/sheet\";\nimport {Status} from \"./Status\";\nimport {AspectTrait} from \"./AspectTrait\";\nimport {RelationTrait} from \"./\"; // forward import\n\n/** @public */\nexport interface EntityTraitObserver<T extends EntityTrait = EntityTrait> extends TraitObserver<T> {\n  traitDidSetPath?(path: UriPath | null, trait: T): void;\n\n  traitDidSetTitle?(title: string, trait: T): void;\n\n  traitDidSetIcon?(icon: Graphics | null, trait: T): void;\n\n  traitDidSetStatus?(status: Status, trait: T): void;\n\n  traitDidSetRelatable?(relatable: boolean, trait: T): void;\n\n  traitDidSetSearchable?(searchable: boolean, trait: T): void;\n\n  traitDidSetSearching?(searching: boolean, trait: T): void;\n\n  traitDidSetSearchQuery?(query: string, trait: T): void;\n\n  traitWillAttachAspect?(aspectTrait: AspectTrait, trait: T): void;\n\n  traitDidDetachAspect?(aspectTrait: AspectTrait, trait: T): void;\n\n  traitDidReinsertAspect?(aspectTrait: AspectTrait, targetTrait: AspectTrait | null, trait: T): void;\n\n  traitWillAttachRelation?(relationTrait: RelationTrait, trait: T): void;\n\n  traitDidDetachRelation?(relationTrait: RelationTrait, trait: T): void;\n\n  traitDidReinsertRelation?(relationTrait: RelationTrait, targetTrait: RelationTrait | null, trait: T): void;\n\n  traitDidSetRelationHidden?(hidden: boolean, relationTrait: RelationTrait, trait: T): void;\n\n  traitDidSetRelationDisclosed?(disclosed: boolean, relationTrait: RelationTrait, trait: T): void;\n\n  traitWillAttachRelatedEntity?(relatedEntityTrait: EntityTrait, relationTrait: RelationTrait, trait: T): void;\n\n  traitDidDetachRelatedEntity?(relatedEntityTrait: EntityTrait, relationTrait: RelationTrait, trait: T): void;\n}\n\n/** @public */\nexport class EntityTrait extends Trait {\n  declare readonly observerType?: Class<EntityTraitObserver>;\n\n  @Property({\n    extends: true,\n    inherits: false,\n  })\n  override get nodeUri(): Property<this, Uri | null> {\n    return Property.getter();\n  }\n\n  @Property({valueType: String})\n  readonly id!: Property<this, string | undefined>;\n\n  @Property({\n    valueType: UriPath,\n    value: null,\n    inherits: true,\n    get parentType(): typeof RelationTrait {\n      return RelationTrait;\n    },\n    deriveValue(basePath: UriPath | null): UriPath | null {\n      const id = this.owner.id.value;\n      if (id === void 0) {\n        return null;\n      }\n      const pathBuilder = new UriPathBuilder();\n      if (basePath !== null) {\n        pathBuilder.addPath(basePath);\n      }\n      pathBuilder.addSegment(id);\n      return pathBuilder.build();\n    },\n    didSetValue(newPath: UriPath | null, oldPath: UriPath | null): void {\n      this.owner.callObservers(\"traitDidSetPath\", newPath, this.owner);\n    },\n    onMount(): void {\n      super.onMount();\n      if (this.inherits && !this.derived) {\n        this.setValue(UriPath.slash(), Affinity.Reflexive);\n      }\n    },\n  })\n  readonly path!: Property<this, UriPath | null>;\n\n  @Property({\n    valueType: String,\n    value: \"\",\n    didSetValue(newTitle: string, oldTitle: string): void {\n      this.owner.callObservers(\"traitDidSetTitle\", newTitle, this.owner);\n    },\n    equalValues(newTitle: string, oldTitle: string): boolean {\n      return newTitle === oldTitle;\n    },\n  })\n  readonly title!: Property<this, string>;\n\n  @Property({\n    valueType: Graphics,\n    value: null,\n    didSetValue(icon: Graphics | null): void {\n      this.owner.callObservers(\"traitDidSetIcon\", icon, this.owner);\n    },\n    equalValues(newIcon: Graphics | null, oldIcon: Graphics | null): boolean {\n      return newIcon === oldIcon;\n    },\n  })\n  readonly icon!: Property<this, Graphics | null>;\n\n  @Property({\n    valueType: Status,\n    value: Status.normal(),\n    didSetValue(status: Status): void {\n      this.owner.callObservers(\"traitDidSetStatus\", status, this.owner);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  @TraitRef({\n    traitType: AspectTrait,\n  })\n  readonly aspect!: TraitRef<this, AspectTrait>;\n\n  @TraitModelSet({\n    traitType: AspectTrait,\n    traitKey: \"aspect\",\n    modelType: Model,\n    binds: true,\n    observes: true,\n    init(): void {\n      this.ids = {};\n    },\n    willAttachTrait(aspectTrait: AspectTrait): void {\n      if (aspectTrait.id.value !== void 0) {\n        this.ids[aspectTrait.id.value] = aspectTrait;\n      }\n      aspectTrait.entity.attachTrait(this.owner);\n      this.owner.callObservers(\"traitWillAttachAspect\", aspectTrait, this.owner);\n      if (this.owner.aspect.trait === null) {\n        this.owner.aspect.attachTrait(aspectTrait);\n      }\n    },\n    didDetachTrait(aspectTrait: AspectTrait): void {\n      if (this.owner.aspect.trait === aspectTrait) {\n        this.owner.aspect.detachTrait();\n      }\n      this.owner.callObservers(\"traitDidDetachAspect\", aspectTrait, this.owner);\n      aspectTrait.entity.detachTrait();\n      if (aspectTrait.id.value !== void 0) {\n        delete this.ids[aspectTrait.id.value];\n      }\n    },\n    modelDidAttachParent(parent: Model, model: Model): void {\n      const aspectTrait = this.detectModelTrait(model);\n      const targetModel = model.nextSibling;\n      const targetTrait = targetModel !== null ? this.detectModelTrait(targetModel) : null;\n      if (aspectTrait !== null) {\n        this.owner.callObservers(\"traitDidReinsertAspect\", aspectTrait, targetTrait, this.owner);\n      }\n    },\n    createTrait(id?: string): AspectTrait {\n      const trait = super.createTrait();\n      if (id !== void 0) {\n        trait.id.setIntrinsic(id);\n      }\n      this.createModel(trait);\n      return trait;\n    },\n    get(id?: string): any/*Model | AspectTrait | null*/ {\n      if (arguments.length === 0) {\n        return null;\n      }\n      const trait = this.ids[id as string];\n      return trait !== void 0 ? trait : null;\n    },\n  })\n  readonly aspects!: TraitModelSet<this, AspectTrait, Model> & Observes<Model> & {\n    /** @internal */\n    ids: {[id: string]: AspectTrait | undefined};\n    /** @override */\n    createTrait(id?: string): AspectTrait;\n    get(id: string): AspectTrait | null;\n  };\n\n  @TraitModelSet({\n    get traitType(): typeof RelationTrait {\n      return RelationTrait;\n    },\n    traitKey: \"entity\",\n    modelType: Model,\n    binds: true,\n    observes: true,\n    observesTrait: true,\n    init(): void {\n      this.ids = {};\n    },\n    willAttachTrait(relationTrait: RelationTrait): void {\n      if (relationTrait.id.value !== void 0) {\n        this.ids[relationTrait.id.value] = relationTrait;\n      }\n      this.owner.callObservers(\"traitWillAttachRelation\", relationTrait, this.owner);\n    },\n    didDetachTrait(relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"traitDidDetachRelation\", relationTrait, this.owner);\n      if (relationTrait.id.value !== void 0) {\n        delete this.ids[relationTrait.id.value];\n      }\n    },\n    traitWillAttachEntity(relatedEntityTrait: EntityTrait, relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"traitWillAttachRelatedEntity\", relatedEntityTrait, relationTrait, this.owner);\n    },\n    traitDidDetachEntity(relatedEntityTrait: EntityTrait, relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"traitDidDetachRelatedEntity\", relatedEntityTrait, relationTrait, this.owner);\n    },\n    traitDidSetHidden(hidden: boolean, relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"traitDidSetRelationHidden\", hidden, relationTrait, this.owner);\n    },\n    traitDidSetDisclosed(disclosed: boolean, relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"traitDidSetRelationDisclosed\", disclosed, relationTrait, this.owner);\n    },\n    modelDidAttachParent(parent: Model, model: Model): void {\n      const relationTrait = this.detectModelTrait(model);\n      const targetModel = model.nextSibling;\n      const targetTrait = targetModel !== null ? this.detectModelTrait(targetModel) : null;\n      if (relationTrait !== null) {\n        this.owner.callObservers(\"traitDidReinsertRelation\", relationTrait, targetTrait, this.owner);\n      }\n    },\n    createTrait(id?: string): RelationTrait {\n      const trait = super.createTrait();\n      if (id !== void 0) {\n        trait.id.setIntrinsic(id);\n      }\n      this.createModel(trait);\n      return trait;\n    },\n    get(id?: string): any/*Model | RelationTrait | null*/ {\n      if (arguments.length === 0) {\n        return null;\n      }\n      const trait = this.ids[id as string];\n      return trait !== void 0 ? trait : null;\n    },\n  })\n  readonly relations!: TraitModelSet<this, RelationTrait, Model> & Observes<Model> & Observes<RelationTrait> & {\n    /** @internal */\n    ids: {[id: string]: RelationTrait | undefined};\n    /** @override */\n    createTrait(id?: string): RelationTrait;\n    get(id: string): RelationTrait | null;\n  };\n\n  @Property({\n    valueType: Boolean,\n    value: true,\n    didSetValue(relatable: boolean): void {\n      this.owner.callObservers(\"traitDidSetRelatable\", relatable, this.owner);\n    },\n  })\n  readonly relatable!: Property<this, boolean>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(searchable: boolean): void {\n      this.owner.callObservers(\"traitDidSetSearchable\", searchable, this.owner);\n    },\n  })\n  readonly searchable!: Property<this, boolean>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(searching: boolean): void {\n      if (searching) {\n        this.owner.onStartSearching();\n      } else {\n        this.owner.onStopSearching();\n      }\n      this.owner.callObservers(\"traitDidSetSearching\", searching, this.owner);\n    },\n  })\n  readonly searching!: Property<this, boolean>;\n\n  protected onStartSearching(): void {\n    // hook\n  }\n\n  protected onStopSearching(): void {\n    // hook\n  }\n\n  updateSearch(query: string): void {\n    // hook\n  }\n\n  submitSearch(query: string): void {\n    // hook\n  }\n\n  createNavController(): SheetController | null {\n    return null;\n  }\n\n  protected override onAttachModel(model: Model): void {\n    super.onAttachModel(model);\n    if (model.getTrait(SelectableTrait) === null) {\n      model.appendTrait(SelectableTrait, \"selectable\");\n    }\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {UriPath} from \"@swim/uri\";\nimport {UriPathBuilder} from \"@swim/uri\";\nimport {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitModelSet} from \"@swim/model\";\nimport {Status} from \"./Status\";\nimport {EntityTrait} from \"./EntityTrait\";\n\n/** @public */\nexport interface RelationTraitObserver<E extends EntityTrait = EntityTrait, T extends RelationTrait<E> = RelationTrait<E>> extends TraitObserver<T> {\n  traitDidSetPath?(path: UriPath | null, trait: T): void;\n\n  traitDidSetTitle?(title: string, trait: T): void;\n\n  traitDidSetStatus?(status: Status, trait: T): void;\n\n  traitDidSetHidden?(hidden: boolean, trait: T): void;\n\n  traitDidSetDisclosed?(disclosed: boolean, trait: T): void;\n\n  traitWillAttachEntity?(entityTrait: EntityTrait, trait: T): void;\n\n  traitDidDetachEntity?(entityTrait: EntityTrait, trait: T): void;\n\n  traitDidReinsertEntity?(entityTrait: EntityTrait, targetTrait: EntityTrait | null, trait: T): void;\n}\n\n/** @public */\nexport class RelationTrait<E extends EntityTrait = EntityTrait> extends Trait {\n  declare readonly observerType?: Class<RelationTraitObserver<E>>;\n\n  @Property({valueType: String})\n  readonly id!: Property<this, string | undefined>;\n\n  @Property({\n    valueType: UriPath,\n    value: null,\n    inherits: true,\n    parentType: EntityTrait,\n    deriveValue(basePath: UriPath | null): UriPath | null {\n      const id = this.owner.id.value;\n      if (id === void 0) {\n        return null;\n      }\n      const pathBuilder = new UriPathBuilder();\n      if (basePath !== null) {\n        pathBuilder.addPath(basePath);\n      }\n      pathBuilder.addSegment(id);\n      return pathBuilder.build();\n    },\n    didSetValue(newPath: UriPath | null, oldPath: UriPath | null): void {\n      this.owner.callObservers(\"traitDidSetPath\", newPath, this.owner);\n    },\n  })\n  readonly path!: Property<this, UriPath | null>;\n\n  @Property({\n    valueType: String,\n    value: \"\",\n    didSetValue(newTitle: string, oldTitle: string): void {\n      this.owner.callObservers(\"traitDidSetTitle\", newTitle, this.owner);\n    },\n    equalValues(newTitle: string, oldTitle: string): boolean {\n      return newTitle === oldTitle;\n    },\n  })\n  readonly title!: Property<this, string>;\n\n  @Property({\n    valueType: Status,\n    value: Status.normal(),\n    didSetValue(status: Status): void {\n      this.owner.callObservers(\"traitDidSetStatus\", status, this.owner);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(hidden: boolean): void {\n      this.owner.callObservers(\"traitDidSetHidden\", hidden, this.owner);\n    },\n  })\n  readonly hidden!: Property<this, boolean>;\n\n  @Property({\n    valueType: Boolean,\n    value: true,\n    didSetValue(disclosed: boolean): void {\n      this.owner.callObservers(\"traitDidSetDisclosed\", disclosed, this.owner);\n    },\n  })\n  readonly disclosed!: Property<this, boolean>;\n\n  @TraitModelSet({\n    traitType: EntityTrait,\n    traitKey: \"entity\",\n    modelType: Model,\n    binds: true,\n    observes: true,\n    init(): void {\n      this.ids = {};\n    },\n    willAttachTrait(entityTrait: E): void {\n      if (entityTrait.id.value !== void 0) {\n        this.ids[entityTrait.id.value] = entityTrait;\n      }\n      this.owner.callObservers(\"traitWillAttachEntity\", entityTrait, this.owner);\n    },\n    didDetachTrait(entityTrait: E): void {\n      this.owner.callObservers(\"traitDidDetachEntity\", entityTrait, this.owner);\n      if (entityTrait.id.value !== void 0) {\n        delete this.ids[entityTrait.id.value];\n      }\n    },\n    modelDidAttachParent(parent: Model, model: Model): void {\n      const entityTrait = this.detectModelTrait(model);\n      const targetModel = model.nextSibling;\n      const targetTrait = targetModel !== null ? this.detectModelTrait(targetModel) : null;\n      if (entityTrait !== null) {\n        this.owner.callObservers(\"traitDidReinsertEntity\", entityTrait, targetTrait, this.owner);\n      }\n    },\n    createTrait(id?: string): E {\n      const trait = super.createTrait();\n      if (id !== void 0) {\n        trait.id.setIntrinsic(id);\n      }\n      this.createModel(trait);\n      return trait;\n    },\n    get(id?: string): any/*Model | E | null*/ {\n      if (arguments.length === 0) {\n        return null;\n      }\n      const trait = this.ids[id as string];\n      return trait !== void 0 ? trait : null;\n    },\n    getOrInsert(id: string): E | null {\n      let trait = this.get(id);\n      if (trait === null) {\n        trait = this.createTrait(id);\n        this.addTrait(trait);\n      }\n      return trait;\n    },\n  })\n  readonly entities!: TraitModelSet<this, E, Model> & Observes<Model> & {\n    /** @internal */\n    ids: {[id: string]: E | undefined};\n    /** @override */\n    createTrait(id?: string): E;\n    get(id: string): E | null;\n    getOrInsert(id: string): E | null;\n  };\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {ServiceObserver} from \"@swim/component\";\nimport {Service} from \"@swim/component\";\nimport {DateTime} from \"@swim/time\";\nimport {TimeZone} from \"@swim/time\";\n\n/** @public */\nexport interface CalendarServiceObserver<S extends CalendarService = CalendarService> extends ServiceObserver<S> {\n  serviceDidSetTimeZone?(timeZone: TimeZone, service: S): void;\n\n  serviceDidSetScrubTime?(newScrubTime: DateTime | null, service: S): void;\n}\n\n/** @public */\nexport class CalendarService extends Service {\n  declare readonly observerType?: Class<CalendarServiceObserver>;\n\n  @Property({\n    valueType: TimeZone,\n    value: TimeZone.local(),\n    didSetValue(timeZone: TimeZone): void {\n      this.owner.callObservers(\"serviceDidSetTimeZone\", timeZone, this.owner);\n    },\n  })\n  readonly timeZone!: Property<this, TimeZone>;\n\n  @Property({\n    valueType: DateTime,\n    value: null,\n    didSetValue(scrubTime: DateTime | null): void {\n      this.owner.callObservers(\"serviceDidSetScrubTime\", scrubTime, this.owner);\n    },\n  })\n  readonly scrubTime!: Property<this, DateTime | null>;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\n\n/** @public */\nexport interface LoginControllerObserver<C extends LoginController = LoginController> extends ControllerObserver<C> {\n}\n\n/** @public */\nexport class LoginController extends Controller {\n  declare readonly observerType?: Class<LoginControllerObserver>;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\n\n/** @public */\nexport interface SessionControllerObserver<C extends SessionController = SessionController> extends ControllerObserver<C> {\n}\n\n/** @public */\nexport class SessionController extends Controller {\n  declare readonly observerType?: Class<SessionControllerObserver>;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {SelectionOptions} from \"@swim/model\";\nimport {SelectableTrait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport {Feel} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {Graphics} from \"@swim/graphics\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TextCellView} from \"@swim/table\";\nimport {IconCellView} from \"@swim/table\";\nimport type {LeafView} from \"@swim/table\";\nimport type {LeafTrait} from \"@swim/table\";\nimport type {RowControllerObserver} from \"@swim/table\";\nimport {RowController} from \"@swim/table\";\nimport {Status} from \"@nstream/domain\";\nimport {AspectTrait} from \"@nstream/domain\";\n\n/** @public */\nexport interface AspectRowControllerObserver<C extends AspectRowController = AspectRowController> extends RowControllerObserver<C> {\n  controllerWillAttachAspectTrait?(aspectTrait: AspectTrait, controller: C): void;\n\n  controllerDidDetachAspectTrait?(aspectTrait: AspectTrait, controller: C): void;\n\n  controllerWillAttachIconCellView?(iconCellView: IconCellView, controller: C): void;\n\n  controllerDidDetachIconCellView?(iconCellView: IconCellView, controller: C): void;\n\n  controllerWillAttachTitleCellView?(titleCellView: TextCellView, controller: C): void;\n\n  controllerDidDetachTitleCellView?(titleCellView: TextCellView, controller: C): void;\n}\n\n/** @public */\nexport class AspectRowController extends RowController {\n  declare readonly observerType?: Class<AspectRowControllerObserver>;\n\n  @Property({\n    valueType: Status,\n    value: Status.unknown(),\n    didSetValue(status: Status): void {\n      this.owner.leaf.updateStatus(status);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  @TraitRef({\n    traitType: AspectTrait,\n    consumed: true,\n    observes: true,\n    initTrait(aspectTrait: AspectTrait): void {\n      this.owner.status.setIntrinsic(aspectTrait.status.value);\n    },\n    willAttachTrait(aspectTrait: AspectTrait): void {\n      this.owner.callObservers(\"controllerWillAttachAspectTrait\", aspectTrait, this.owner);\n    },\n    didAttachTrait(aspectTrait: AspectTrait): void {\n      this.owner.selectable.setTrait(aspectTrait.getTrait(SelectableTrait));\n      const rowView = this.owner.row.attachView();\n      const leafView = rowView.leaf.insertView();\n      this.owner.iconCell.insertView(leafView).setIntrinsic({\n        graphics: aspectTrait.icon.value,\n      });\n      this.owner.titleCell.insertView(leafView).setIntrinsic({\n        content: aspectTrait.title.value,\n      });\n    },\n    deinitTrait(aspectTrait: AspectTrait): void {\n      this.owner.status.setIntrinsic(Status.unknown());\n    },\n    willDetachTrait(aspectTrait: AspectTrait): void {\n      this.owner.selectable.setTrait(null);\n    },\n    didDetachTrait(aspectTrait: AspectTrait): void {\n      this.owner.callObservers(\"controllerDidDetachAspectTrait\", aspectTrait, this.owner);\n    },\n    traitDidInsertTrait(memberTrait: Trait, targetTrait: Trait | null): void {\n      if (memberTrait instanceof SelectableTrait) {\n        this.owner.selectable.setTrait(memberTrait);\n      }\n    },\n    traitDidSetTitle(title: string): void {\n      const titleCellView = this.owner.titleCell.view;\n      if (titleCellView !== null) {\n        titleCellView.content.setIntrinsic(title);\n      }\n    },\n    traitDidSetIcon(icon: Graphics | null): void {\n      const iconCellView = this.owner.iconCell.view;\n      if (iconCellView !== null) {\n        iconCellView.graphics.setIntrinsic(icon);\n      }\n    },\n    traitDidSetStatus(status: Status): void {\n      this.owner.status.setIntrinsic(status);\n    },\n  })\n  readonly aspect!: TraitRef<this, AspectTrait> & Observes<AspectTrait>;\n\n  @TraitRef({\n    traitType: SelectableTrait,\n    observes: true,\n    initTrait(selectableTrait: SelectableTrait): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.setIntrinsic(selectableTrait.selected);\n      }\n    },\n    traitDidSelect(options: SelectionOptions | null): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.focus();\n      }\n    },\n    traitWillUnselect(): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.unfocus();\n      }\n    },\n  })\n  readonly selectable!: TraitRef<this, SelectableTrait> & Observes<SelectableTrait>;\n\n  @TraitViewRef({\n    extends: true,\n    initView(leafView: LeafView): void {\n      super.initView(leafView);\n      this.updateStatus(this.owner.status.value);\n\n      leafView.style.cursor.setIntrinsic(\"pointer\");\n      this.owner.iconCell.insertView(leafView);\n      this.owner.titleCell.insertView(leafView);\n\n      const selectableTrait = this.owner.selectable.trait;\n      if (selectableTrait !== null) {\n        leafView.highlight.setIntrinsic(selectableTrait.selected);\n      }\n    },\n    didAttachView(leafView: LeafView, targetView: View | null): void {\n      super.didAttachView(leafView, targetView);\n      if (leafView.mounted && !leafView.culled) {\n        this.owner.consume(leafView);\n      }\n    },\n    viewDidMount(leafView: LeafView): void {\n      if (!leafView.culled) {\n        this.owner.consume(leafView);\n      }\n    },\n    viewWillUnmount(leafView: LeafView): void {\n      this.owner.unconsume(leafView);\n    },\n    viewDidCull(leafView: LeafView): void {\n      this.owner.unconsume(leafView);\n    },\n    viewWillUncull(leafView: LeafView): void {\n      this.owner.consume(leafView);\n    },\n    updateStatus(status: Status): void {\n      const leafView = this.view;\n      if (leafView !== null) {\n        leafView.modifyMood(Feel.default, status.moodModifier);\n      }\n    },\n  })\n  override readonly leaf!: TraitViewRef<this, LeafTrait, LeafView> & RowController[\"leaf\"] & {\n    updateStatus(status: Status): void;\n  };\n\n  @ViewRef({\n    viewType: IconCellView,\n    viewKey: \"icon\",\n    get parentView(): View | null {\n      return this.owner.leaf.attachView();\n    },\n    willAttachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerWillAttachIconCellView\", iconCellView, this.owner);\n    },\n    didDetachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerDidDetachIconCellView\", iconCellView, this.owner);\n    },\n    createView(): IconCellView {\n      return (super.createView() as IconCellView).setIntrinsic({\n        iconLayout: {width: 32, height: 32},\n        iconColor: Look.accentColor,\n      });\n    },\n  })\n  readonly iconCell!: ViewRef<this, IconCellView>;\n\n  @ViewRef({\n    viewType: TextCellView,\n    viewKey: \"title\",\n    get parentView(): View | null {\n      return this.owner.leaf.attachView();\n    },\n    willAttachView(titleCellView: TextCellView): void {\n      this.owner.callObservers(\"controllerWillAttachTitleCellView\", titleCellView, this.owner);\n    },\n    didDetachView(titleCellView: TextCellView): void {\n      this.owner.callObservers(\"controllerDidDetachTitleCellView\", titleCellView, this.owner);\n    },\n  })\n  readonly titleCell!: ViewRef<this, TextCellView>;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Provider} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport {Feel} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport type {ControllerFlags} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {HistoryState} from \"@swim/controller\";\nimport {HistoryService} from \"@swim/controller\";\nimport {TitleToolView} from \"@swim/toolbar\";\nimport type {ButtonToolController} from \"@swim/toolbar\";\nimport type {BarView} from \"@swim/toolbar\";\nimport type {BarController} from \"@swim/toolbar\";\nimport type {SheetView} from \"@swim/sheet\";\nimport {SheetController} from \"@swim/sheet\";\nimport type {BinderView} from \"@swim/sheet\";\nimport type {BinderControllerObserver} from \"@swim/sheet\";\nimport {BinderController} from \"@swim/sheet\";\nimport {AspectTrait} from \"@nstream/domain\";\nimport {EntityTrait} from \"@nstream/domain\";\n\n/** @public */\nexport interface AspectBinderControllerObserver<C extends AspectBinderController = AspectBinderController> extends BinderControllerObserver<C> {\n  controllerWillAttachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerDidDetachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n}\n\n/** @public */\nexport class AspectBinderController extends BinderController {\n  declare readonly observerType?: Class<AspectBinderControllerObserver>;\n\n  @TraitViewRef({\n    extends: true,\n    didAttachTrait(sheetTrait: Trait): void {\n      if (sheetTrait instanceof EntityTrait) {\n        this.owner.entity.setTrait(sheetTrait);\n      }\n    },\n    willDetachTrait(sheetTrait: Trait): void {\n      if (this.owner.entity.trait === sheetTrait) {\n        this.owner.entity.setTrait(null);\n      }\n    },\n  })\n  override readonly sheet!: TraitViewRef<this, Trait, SheetView> & BinderController[\"sheet\"];\n\n  @TraitRef({\n    traitType: EntityTrait,\n    willAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTrait\", entityTrait, this.owner);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.tabs.sort(entityTrait.aspects.sorted);\n\n      // Replace or insert new aspect tabs.\n      const aspectTraits = entityTrait.aspects.traits;\n      const aspectControllers = {} as {[aspectId: string]: SheetController | undefined};\n      for (const traitId in aspectTraits) {\n        const aspectTrait = aspectTraits[traitId]!;\n        const aspectId = aspectTrait.id.value;\n        if (aspectId === void 0) {\n          continue;\n        }\n        const tabController = this.owner.tabs.createController(aspectTrait);\n        tabController.sheet.setTrait(aspectTrait);\n        if (tabController !== this.owner.getChild(aspectId)) {\n          this.owner.setTab(aspectId, tabController);\n        }\n        aspectControllers[aspectId] = tabController;\n      }\n\n      // Remove old aspect tabs.\n      const tabControllers = this.owner.tabs.controllers;\n      for (const controllerId in tabControllers) {\n        const tabController = tabControllers[controllerId]!;\n        const tabTrait = tabController.sheet.trait;\n        let aspectId: string | undefined;\n        if (tabTrait instanceof AspectTrait && (aspectId = tabTrait.id.value) !== void 0 && !(aspectId in aspectControllers)) {\n          this.owner.tabs.deleteController(tabController);\n        }\n      }\n\n      const binderView = this.owner.binder.view;\n      if (binderView !== null && binderView.mounted) {\n        this.mountBinder(binderView, entityTrait);\n      }\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      const binderView = this.owner.binder.view;\n      if (binderView !== null && binderView.mounted) {\n        this.unmountBinder(binderView, entityTrait);\n      }\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTrait\", entityTrait, this.owner);\n    },\n    traitWillAttachAspect(aspectTrait: AspectTrait): void {\n      this.owner.tabs.insertTrait(void 0, aspectTrait);\n    },\n    traitDidDetachAspect(aspectTrait: AspectTrait): void {\n      this.owner.tabs.deleteTrait(aspectTrait);\n    },\n    traitDidReinsertAspect(aspectTrait: AspectTrait, targetTrait: AspectTrait | null): void {\n      this.owner.tabs.reinsertTrait(aspectTrait, targetTrait);\n    },\n    mountBinder(binderView: BinderView, entityTrait: EntityTrait): void {\n      entityTrait.consume(this.owner);\n    },\n    unmountBinder(binderView: BinderView, entityTrait: EntityTrait): void {\n      entityTrait.unconsume(this.owner);\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait> & {\n    mountBinder(binderView: BinderView, entityTrait: EntityTrait): void,\n    unmountBinder(binderView: BinderView, entityTrait: EntityTrait): void,\n  };\n\n  @TraitRef({\n    traitType: AspectTrait,\n    observes: true,\n    initTrait(aspectTrait: AspectTrait): void {\n      this.owner.title.set(aspectTrait.title.value);\n    },\n    deinitTrait(aspectTrait: AspectTrait): void {\n      this.owner.title.set(void 0);\n    },\n    traitDidSetTitle(title: string): void {\n      const titleController = this.owner.title.attachController();\n      const titleView = titleController.tool.attachView();\n      if (titleView instanceof TitleToolView) {\n        titleView.content.set(title);\n      }\n    },\n  })\n  readonly aspect!: TraitRef<this, AspectTrait> & Observes<AspectTrait>;\n\n  @TraitViewRef({\n    extends: true,\n    observesView: true,\n    initView(binderView: BinderView): void {\n      super.initView(binderView);\n    },\n    didAttachView(binderView: BinderView, targetView: View): void {\n      const entityTrait = this.owner.entity.trait;\n      if (binderView.mounted && entityTrait !== null) {\n        this.owner.entity.mountBinder(binderView, entityTrait);\n      }\n      super.didAttachView(binderView, targetView);\n    },\n    willDetachView(binderView: BinderView): void {\n      super.willDetachView(binderView);\n      const entityTrait = this.owner.entity.trait;\n      if (binderView.mounted && entityTrait !== null) {\n        this.owner.entity.unmountBinder(binderView, entityTrait);\n      }\n    },\n    viewDidMount(binderView: BinderView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.mountBinder(binderView, entityTrait);\n      }\n    },\n    viewWillUnmount(binderView: BinderView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.unmountBinder(binderView, entityTrait);\n      }\n    },\n  })\n  override readonly binder!: TraitViewRef<this, Trait, BinderView> & BinderController[\"binder\"];\n\n  protected override didPressTabHandle(input: PositionGestureInput, event: Event | null, tabController: SheetController): void {\n    super.didPressTabHandle(input, event, tabController);\n    const tabTrait = tabController.sheet.trait;\n    let aspectId: string | undefined;\n    if (!(tabTrait instanceof AspectTrait) || (aspectId = tabTrait.id.value) === void 0) {\n      return;\n    }\n    this.history.getService().pushHistory({\n      parameters: {\n        aspect: aspectId,\n      },\n      environment: {\n        aspect: aspectId,\n      },\n    });\n  }\n\n  @TraitViewControllerRef({\n    extends: true,\n    initController(tabBarController: BarController): void {\n      super.initController(tabBarController);\n    },\n    attachTabBarView(tabBarView: BarView, tabBarController: BarController): void {\n      super.attachTabBarView(tabBarView, tabBarController);\n      tabBarView.setIntrinsic({\n        style: {\n          backgroundColor: Look.backgroundColor,\n          backdropFilter: \"blur(2px)\",\n        },\n        barHeight: 48,\n      });\n      tabBarView.modifyMood(Feel.default, [[Feel.transparent, 0], [Feel.translucent, 1]]);\n    },\n  })\n  override readonly tabBar!: TraitViewControllerRef<this, Trait, BarView, BarController> & BinderController[\"tabBar\"];\n\n  @TraitViewControllerSet({\n    extends: true,\n    controllerKey(tabController: SheetController): string | undefined {\n      const tabTrait = tabController.sheet.trait;\n      if (tabTrait instanceof AspectTrait) {\n        return tabTrait.id.value;\n      }\n      return void 0;\n    },\n    initController(tabController: SheetController): void {\n      super.initController(tabController);\n      const handleController = tabController.handle.attachController() as ButtonToolController;\n      const handleView = handleController.tool.attachView();\n      if (handleView.graphics.value === null) {\n        const tabTrait = tabController.sheet.trait;\n        if (tabTrait instanceof AspectTrait) {\n          handleView.graphics.setIntrinsic(tabTrait.icon.value);\n        }\n      }\n    },\n    createController(trait?: Trait): SheetController {\n      if (trait instanceof AspectTrait) {\n        const tabController = trait.createTabController();\n        if (tabController !== null) {\n          return tabController;\n        }\n      }\n      return super.createController(trait);\n    },\n    compare(a: SheetController, b: SheetController): number {\n      const entityTrait = this.owner.entity.trait;\n      const aTrait = a.sheet.trait;\n      const bTrait = b.sheet.trait;\n      if (entityTrait !== null && aTrait instanceof AspectTrait && bTrait instanceof AspectTrait) {\n        return entityTrait.aspects.compareTraits(aTrait, bTrait);\n      }\n      return 0;\n    },\n  })\n  override readonly tabs!: TraitViewControllerSet<this, Trait, SheetView, SheetController> & BinderController[\"tabs\"];\n\n  @TraitViewControllerRef({\n    extends: true,\n    attachActiveTrait(activeTrait: Trait, activeController: SheetController): void {\n      super.attachActiveTrait(activeTrait, activeController);\n      if (activeTrait instanceof AspectTrait) {\n        this.owner.aspect.setTrait(activeTrait);\n      }\n    },\n    detachActiveTrait(activeTrait: Trait, activeController: SheetController): void {\n      this.owner.aspect.setTrait(null);\n      super.detachActiveTrait(activeTrait, activeController);\n    },\n  })\n  override readonly active!: TraitViewControllerRef<this, Trait, SheetView, SheetController> & BinderController[\"active\"];\n\n  protected updateNavigationState(): void {\n    const historyState = this.history.getService().historyState;\n    let aspectId = historyState.parameters.aspect;\n    if (aspectId === void 0 || aspectId.length === 0) {\n      aspectId = historyState.environment.aspect;\n    }\n    if (aspectId === void 0 || aspectId.length === 0) {\n      const entityTrait = this.entity.trait;\n      const aspectTrait = entityTrait !== null ? entityTrait.aspect.trait : null;\n      aspectId = aspectTrait !== null ? aspectTrait.id.value : void 0;\n    }\n    if (aspectId === void 0 || aspectId.length === 0) {\n      return;\n    }\n    const tabController = this.getChild(aspectId, SheetController);\n    if (tabController === null) {\n      return;\n    }\n    this.active.setController(tabController);\n  }\n\n  @Provider({\n    serviceType: HistoryService,\n    observes: true,\n    updateHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState | null): void {\n      this.owner.requireUpdate(Controller.NeedsResolve);\n    },\n    serviceDidPushHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState): void {\n      this.updateHistory(newHistoryState, oldHistoryState);\n    },\n    serviceDidPopHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState): void {\n      this.updateHistory(newHistoryState, oldHistoryState);\n    },\n  })\n  readonly history!: Provider<this, HistoryService> & Observes<HistoryService> & {\n    updateHistory(historyState: HistoryState, oldHistoryState: HistoryState | null): void;\n  };\n\n  protected override onResolve(): void {\n    super.onResolve();\n    this.updateNavigationState();\n  }\n\n  static override MountFlags: ControllerFlags = BinderController.MountFlags | Controller.NeedsResolve;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Lazy} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {SelectionOptions} from \"@swim/model\";\nimport {SelectableTrait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport {Feel} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport type {Graphics} from \"@swim/graphics\";\nimport {VectorIcon} from \"@swim/graphics\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TextCellView} from \"@swim/table\";\nimport {IconCellView} from \"@swim/table\";\nimport type {LeafView} from \"@swim/table\";\nimport type {LeafTrait} from \"@swim/table\";\nimport type {RowControllerObserver} from \"@swim/table\";\nimport {RowController} from \"@swim/table\";\nimport {Status} from \"@nstream/domain\";\nimport {EntityTrait} from \"@nstream/domain\";\n\n/** @public */\nexport interface EntityRowControllerObserver<C extends EntityRowController = EntityRowController> extends RowControllerObserver<C> {\n  controllerWillAttachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerDidDetachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerWillAttachIconCellView?(iconCellView: IconCellView, controller: C): void;\n\n  controllerDidDetachIconCellView?(iconCellView: IconCellView, controller: C): void;\n\n  controllerWillAttachTitleCellView?(titleCellView: TextCellView, controller: C): void;\n\n  controllerDidDetachTitleCellView?(titleCellView: TextCellView, controller: C): void;\n\n  controllerWillAttachMoreCellView?(moreCellView: IconCellView, controller: C): void;\n\n  controllerDidDetachMoreCellView?(moreCellView: IconCellView, controller: C): void;\n\n  controllerDidPressMoreCellView?(input: PositionGestureInput, event: Event | null, controller: C): void;\n}\n\n/** @public */\nexport class EntityRowController extends RowController {\n  declare readonly observerType?: Class<EntityRowControllerObserver>;\n\n  @Property({\n    valueType: Status,\n    value: Status.unknown(),\n    didSetValue(status: Status): void {\n      this.owner.leaf.updateStatus(status);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    consumed: true,\n    observes: true,\n    initTrait(entityTrait: EntityTrait): void {\n      this.owner.status.setIntrinsic(entityTrait.status.value);\n    },\n    willAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTrait\", entityTrait, this.owner);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.selectable.setTrait(entityTrait.getTrait(SelectableTrait));\n      const rowView = this.owner.row.attachView();\n      const leafView = rowView.leaf.insertView();\n      this.owner.iconCell.insertView(leafView).setIntrinsic({\n        graphics: entityTrait.icon.value,\n      });\n      this.owner.titleCell.insertView(leafView).setIntrinsic({\n        content: entityTrait.title.value,\n      });\n      if (entityTrait.relatable.value && this.owner.moreCell.enabled) {\n        this.owner.moreCell.insertView(leafView);\n      }\n    },\n    deinitTrait(entityTrait: EntityTrait): void {\n      this.owner.status.setIntrinsic(Status.unknown());\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.selectable.setTrait(null);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTrait\", entityTrait, this.owner);\n    },\n    traitDidInsertTrait(memberTrait: Trait, targetTrait: Trait | null): void {\n      if (memberTrait instanceof SelectableTrait) {\n        this.owner.selectable.setTrait(memberTrait);\n      }\n    },\n    traitDidSetTitle(title: string): void {\n      const titleCellView = this.owner.titleCell.view;\n      if (titleCellView !== null) {\n        titleCellView.content.setIntrinsic(title);\n      }\n    },\n    traitDidSetIcon(icon: Graphics | null): void {\n      const iconCellView = this.owner.iconCell.view;\n      if (iconCellView !== null) {\n        iconCellView.graphics.setIntrinsic(icon);\n      }\n    },\n    traitDidSetStatus(status: Status): void {\n      this.owner.status.setIntrinsic(status);\n    },\n    traitDidSetRelatable(relatable: boolean): void {\n      if (!this.owner.moreCell.enabled) {\n        return;\n      } else if (relatable) {\n        this.owner.moreCell.insertView();\n      } else {\n        this.owner.moreCell.removeView();\n      }\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @TraitRef({\n    traitType: SelectableTrait,\n    observes: true,\n    initTrait(selectableTrait: SelectableTrait): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.setIntrinsic(selectableTrait.selected);\n      }\n    },\n    traitDidSelect(options: SelectionOptions | null): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.focus();\n      }\n    },\n    traitWillUnselect(): void {\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        leafView.highlight.unfocus();\n      }\n    },\n  })\n  readonly selectable!: TraitRef<this, SelectableTrait> & Observes<SelectableTrait>;\n\n  @TraitViewRef({\n    extends: true,\n    initView(leafView: LeafView): void {\n      super.initView(leafView);\n      this.updateStatus(this.owner.status.value);\n\n      leafView.style.cursor.setIntrinsic(\"pointer\");\n      this.owner.iconCell.insertView(leafView);\n      this.owner.titleCell.insertView(leafView);\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null && entityTrait.relatable.value && this.owner.moreCell.enabled) {\n        this.owner.moreCell.insertView(leafView);\n      }\n\n      const selectableTrait = this.owner.selectable.trait;\n      if (selectableTrait !== null) {\n        leafView.highlight.setIntrinsic(selectableTrait.selected);\n      }\n    },\n    didAttachView(leafView: LeafView, targetView: View | null): void {\n      super.didAttachView(leafView, targetView);\n      if (leafView.mounted && !leafView.culled) {\n        this.owner.consume(leafView);\n      }\n    },\n    viewDidMount(leafView: LeafView): void {\n      if (!leafView.culled) {\n        this.owner.consume(leafView);\n      }\n    },\n    viewWillUnmount(leafView: LeafView): void {\n      this.owner.unconsume(leafView);\n    },\n    viewDidCull(leafView: LeafView): void {\n      this.owner.unconsume(leafView);\n    },\n    viewWillUncull(leafView: LeafView): void {\n      this.owner.consume(leafView);\n    },\n    updateStatus(status: Status): void {\n      const leafView = this.view;\n      if (leafView !== null) {\n        leafView.modifyMood(Feel.default, status.moodModifier);\n      }\n    },\n  })\n  override readonly leaf!: TraitViewRef<this, LeafTrait, LeafView> & RowController[\"leaf\"] & {\n    updateStatus(status: Status): void;\n  };\n\n  @ViewRef({\n    viewType: IconCellView,\n    viewKey: \"icon\",\n    get parentView(): View | null {\n      return this.owner.leaf.attachView();\n    },\n    willAttachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerWillAttachIconCellView\", iconCellView, this.owner);\n    },\n    didDetachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerDidDetachIconCellView\", iconCellView, this.owner);\n    },\n    createView(): IconCellView {\n      return (super.createView() as IconCellView).setIntrinsic({\n        iconLayout: {width: 32, height: 32},\n        iconColor: Look.accentColor,\n      });\n    },\n  })\n  readonly iconCell!: ViewRef<this, IconCellView>;\n\n  @ViewRef({\n    viewType: TextCellView,\n    viewKey: \"title\",\n    get parentView(): View | null {\n      return this.owner.leaf.attachView();\n    },\n    willAttachView(titleCellView: TextCellView): void {\n      this.owner.callObservers(\"controllerWillAttachTitleCellView\", titleCellView, this.owner);\n    },\n    didDetachView(titleCellView: TextCellView): void {\n      this.owner.callObservers(\"controllerDidDetachTitleCellView\", titleCellView, this.owner);\n    },\n  })\n  readonly titleCell!: ViewRef<this, TextCellView>;\n\n  @ViewRef({\n    viewType: IconCellView,\n    viewKey: \"more\",\n    observes: true,\n    init(): void {\n      this.enabled = true;\n    },\n    get parentView(): View | null {\n      return this.owner.leaf.attachView();\n    },\n    willAttachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerWillAttachMoreCellView\", iconCellView, this.owner);\n    },\n    didDetachView(iconCellView: IconCellView): void {\n      this.owner.callObservers(\"controllerDidDetachMoreCellView\", iconCellView, this.owner);\n    },\n    viewDidPress(input: PositionGestureInput, event: Event | null): void {\n      this.owner.callObservers(\"controllerDidPressMoreCellView\", input, event, this.owner);\n    },\n    createView(): IconCellView {\n      return (super.createView() as IconCellView).setIntrinsic({\n        iconLayout: {width: 24, height: 24},\n        iconColor: Look.legendColor,\n        graphics: EntityRowController.moreIcon,\n      });\n    },\n  })\n  readonly moreCell!: ViewRef<this, IconCellView> & Observes<IconCellView> & {\n    /** @internal */\n    enabled: boolean;\n  };\n\n  /** @internal */\n  @Lazy\n  static get moreIcon(): VectorIcon {\n    return VectorIcon.create(24, 24, \"M9.59,8.92 L12.67,12 L9.59,15.08 L11,16.5 L15.5,12 L11,7.5 L9.59,8.92 Z M2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 C6.48,2 2,6.48 2,12 Z M20,12 C20,16.42 16.42,20 12,20 C7.58,20 4,16.42 4,12 C4,7.58 7.58,4 12,4 C16.42,4 20,7.58 20,12 Z\");\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {TraitRef} from \"@swim/model\";\nimport type {View} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitControllerRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport {ColLayout} from \"@swim/table\";\nimport {TableLayout} from \"@swim/table\";\nimport type {LeafView} from \"@swim/table\";\nimport type {RowView} from \"@swim/table\";\nimport type {RowTrait} from \"@swim/table\";\nimport type {RowController} from \"@swim/table\";\nimport type {TableView} from \"@swim/table\";\nimport type {TableTrait} from \"@swim/table\";\nimport type {TableControllerObserver} from \"@swim/table\";\nimport {TableController} from \"@swim/table\";\nimport {EntityTrait} from \"@nstream/domain\";\nimport {AspectRowController} from \"./AspectRowController\";\nimport {EntityRowController} from \"./EntityRowController\";\n\n/** @public */\nexport interface EntityTableControllerObserver<C extends EntityTableController = EntityTableController> extends TableControllerObserver<C> {\n  controllerWillAttachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerDidDetachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerWillAttachEntityRow?(entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidDetachEntityRow?(entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidPressEntityRow?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidLongPressEntityRow?(input: PositionGestureInput, entityRowController: EntityRowController, controller: C): void;\n\n  controllerWillAttachAspectRow?(aspectRowController: AspectRowController, controller: C): void;\n\n  controllerDidDetachAspectRow?(aspectRowController: AspectRowController, controller: C): void;\n\n  controllerDidPressAspectRow?(input: PositionGestureInput, event: Event | null, aspectRowController: AspectRowController, controller: C): void;\n\n  controllerDidLongPressAspectRow?(input: PositionGestureInput, aspectRowController: AspectRowController, controller: C): void;\n}\n\n/** @public */\nexport class EntityTableController extends TableController {\n  declare readonly observerType?: Class<EntityTableControllerObserver>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    observes: true,\n    willAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTrait\", entityTrait, this.owner);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.entityRow.insertTrait(void 0, entityTrait);\n\n      const tableView = this.owner.table.view;\n      if (tableView !== null && tableView.mounted) {\n        this.mountTable(tableView, entityTrait);\n      }\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      const tableView = this.owner.table.view;\n      if (tableView !== null && tableView.mounted) {\n        this.unmountTable(tableView, entityTrait);\n      }\n\n      this.owner.entityRow.deleteTrait(entityTrait);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTrait\", entityTrait, this.owner);\n    },\n    mountTable(tableView: TableView, entityTrait: EntityTrait): void {\n      entityTrait.consume(this.owner);\n    },\n    unmountTable(tableView: TableView, entityTrait: EntityTrait): void {\n      entityTrait.unconsume(this.owner);\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait> & {\n    mountTable(tableView: TableView, entityTrait: EntityTrait): void,\n    unmountTable(tableView: TableView, entityTrait: EntityTrait): void,\n  };\n\n  @TraitViewRef({\n    extends: true,\n    observesView: true,\n    initView(tableView: TableView): void {\n      super.initView(tableView);\n\n      tableView.style.backgroundColor.set(null);\n      tableView.style.userSelect.setIntrinsic(\"none\");\n      tableView.rowHeight.setIntrinsic(tableView.viewIdiom === \"mobile\" ? 48 : 36);\n\n      const iconLayout = ColLayout.create(\"icon\", 0, 0, 48);\n      const titleLayout = ColLayout.create(\"title\", 1, 0);\n      const moreLayout = ColLayout.create(\"more\", 0, 0, 48);\n      const tableLayout = TableLayout.create([iconLayout, titleLayout, moreLayout]);\n      tableView.layout.setIntrinsic(tableLayout);\n    },\n    didAttachView(tableView: TableView, targetView: View): void {\n      const entityTrait = this.owner.entity.trait;\n      if (tableView.mounted && entityTrait !== null) {\n        this.owner.entity.mountTable(tableView, entityTrait);\n      }\n      super.didAttachView(tableView, targetView);\n    },\n    willDetachView(tableView: TableView): void {\n      super.willDetachView(tableView);\n      const entityTrait = this.owner.entity.trait;\n      if (tableView.mounted && entityTrait !== null) {\n        this.owner.entity.unmountTable(tableView, entityTrait);\n      }\n    },\n    viewWillExpand(tableView: TableView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.mountTable(tableView, entityTrait);\n      }\n    },\n    viewDidCollapse(tableView: TableView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.unmountTable(tableView, entityTrait);\n      }\n    },\n    viewWillResize(tableView: TableView): void {\n      tableView.rowHeight.setIntrinsic(tableView.viewIdiom === \"mobile\" ? 48 : 36);\n    },\n    viewDidMount(tableView: TableView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.mountTable(tableView, entityTrait);\n      }\n    },\n    viewWillUnmount(tableView: TableView): void {\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        this.owner.entity.unmountTable(tableView, entityTrait);\n      }\n    },\n  })\n  override readonly table!: TraitViewRef<this, TableTrait, TableView> & TableController[\"table\"];\n\n  @TraitViewControllerSet({\n    extends: true,\n    compare(a: RowController, b: RowController): number {\n      return this.owner.compareRowControllers(a, b);\n    },\n  })\n  override readonly rows!: TraitViewControllerSet<this, RowTrait, RowView, RowController> & TableController[\"rows\"];\n\n  @TraitControllerRef({\n    controllerType: EntityRowController,\n    binds: false,\n    observes: true,\n    getTraitRef(entityRowController: EntityRowController): TraitRef<unknown, EntityTrait> {\n      return entityRowController.entity;\n    },\n    willAttachController(entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerWillAttachEntityRow\", entityRowController, this.owner);\n    },\n    didAttachController(entityRowController: EntityRowController): void {\n      const targetView = this.owner.rows.getTargetView(entityRowController);\n      entityRowController.row.insertView(this.owner.table.view, void 0, targetView);\n    },\n    didDetachController(entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidDetachEntityRow\", entityRowController, this.owner);\n    },\n    controllerDidPressLeafView(input: PositionGestureInput, event: Event | null, leafView: LeafView, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressEntityRow\", input, event, entityRowController, this.owner);\n    },\n    controllerDidLongPressLeafView(input: PositionGestureInput, leafView: LeafView, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidLongPressEntityRow\", input, entityRowController, this.owner);\n    },\n    createController(trait?: EntityTrait): EntityRowController {\n      const entityRowController = super.createController(trait);\n      entityRowController.moreCell.enabled = false;\n      return entityRowController;\n    },\n  })\n  readonly entityRow!: TraitControllerRef<this, EntityTrait, EntityRowController> & Observes<EntityRowController>;\n\n  protected compareRowControllers(a: RowController, b: RowController): number {\n    const entityTrait = this.entity.trait;\n    if (entityTrait !== null && a instanceof AspectRowController && b instanceof AspectRowController) {\n      const x = a.aspect.trait;\n      const y = b.aspect.trait;\n      if (x !== null && y !== null) {\n        return entityTrait.aspects.compareTraits(x, y);\n      }\n    }\n    return 0;\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {TraitRef} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitControllerSet} from \"@swim/controller\";\nimport {TraitViewControllerRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport {ColLayout} from \"@swim/table\";\nimport {TableLayout} from \"@swim/table\";\nimport type {LeafView} from \"@swim/table\";\nimport type {RowView} from \"@swim/table\";\nimport type {RowTrait} from \"@swim/table\";\nimport type {RowController} from \"@swim/table\";\nimport {TextColView} from \"@swim/table\";\nimport {DisclosureColView} from \"@swim/table\";\nimport type {HeaderView} from \"@swim/table\";\nimport type {HeaderTrait} from \"@swim/table\";\nimport type {HeaderController} from \"@swim/table\";\nimport type {TableView} from \"@swim/table\";\nimport type {TableTrait} from \"@swim/table\";\nimport type {TableControllerObserver} from \"@swim/table\";\nimport {TableController} from \"@swim/table\";\nimport type {EntityTrait} from \"@nstream/domain\";\nimport {RelationTrait} from \"@nstream/domain\";\nimport {EntityRowController} from \"./EntityRowController\";\n\n/** @public */\nexport interface RelationTableControllerObserver<C extends RelationTableController = RelationTableController> extends TableControllerObserver<C> {\n  controllerWillAttachRelationTrait?(relationTrait: RelationTrait, controller: C): void;\n\n  controllerDidDetachRelationTrait?(relationTrait: RelationTrait, controller: C): void;\n\n  controllerWillAttachDisclosureColView?(disclosureColView: DisclosureColView, controller: C): void;\n\n  controllerDidDetachDisclosureColView?(disclosureColView: DisclosureColView, controller: C): void;\n\n  controllerWillAttachTitleColView?(titleColView: TextColView, controller: C): void;\n\n  controllerDidDetachTitleColView?(titleColView: TextColView, controller: C): void;\n\n  controllerWillAttachEntityRow?(entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidDetachEntityRow?(entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidPressEntityRow?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidLongPressEntityRow?(input: PositionGestureInput, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidPressEntityMore?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n}\n\n/** @public */\nexport class RelationTableController extends TableController {\n  declare readonly observerType?: Class<RelationTableControllerObserver>;\n\n  @TraitRef({\n    traitType: RelationTrait,\n    observes: true,\n    willAttachTrait(relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"controllerWillAttachRelationTrait\", relationTrait, this.owner);\n    },\n    didAttachTrait(relationTrait: RelationTrait): void {\n      this.owner.rows.sort(relationTrait.entities.sorted);\n      this.owner.entityRows.sort(relationTrait.entities.sorted);\n      this.owner.entityRows.insertTraits(void 0, relationTrait.entities.traits);\n\n      this.owner.titleCol.attachView().setIntrinsic({\n        label: relationTrait.title.value,\n      });\n\n      const tableView = this.owner.table.view;\n      if (tableView !== null) {\n        tableView.expansion.set(relationTrait.disclosed.value);\n        if (tableView.mounted) {\n          this.mountTable(tableView, relationTrait);\n        }\n      }\n    },\n    willDetachTrait(relationTrait: RelationTrait): void {\n      const tableView = this.owner.table.view;\n      if (tableView !== null && tableView.mounted) {\n        this.unmountTable(tableView, relationTrait);\n      }\n      this.owner.entityRows.deleteTraits(relationTrait.entities.traits);\n    },\n    didDetachTrait(relationTrait: RelationTrait): void {\n      this.owner.callObservers(\"controllerDidDetachRelationTrait\", relationTrait, this.owner);\n    },\n    traitDidSetTitle(relationTitle: string): void {\n      this.owner.titleCol.attachView().setIntrinsic({\n        label: relationTitle,\n      });\n    },\n    traitDidSetDisclosed(disclosed: boolean): void {\n      const tableView = this.owner.table.view;\n      if (tableView !== null) {\n        tableView.expansion.set(disclosed);\n      }\n    },\n    traitWillAttachEntity(entityTrait: EntityTrait): void {\n      this.owner.entityRows.insertTrait(void 0, entityTrait);\n    },\n    traitDidDetachEntity(entityTrait: EntityTrait): void {\n      this.owner.entityRows.deleteTrait(entityTrait);\n    },\n    traitDidReinsertEntity(entityTrait: EntityTrait, targetTrait: EntityTrait | null): void {\n      this.owner.entityRows.reinsertTrait(entityTrait, targetTrait);\n    },\n    mountTable(tableView: TableView, relationTrait: RelationTrait): void {\n      if (!tableView.expansion.collapsed) {\n        relationTrait.consume(this.owner);\n      }\n    },\n    unmountTable(tableView: TableView, relationTrait: RelationTrait): void {\n      relationTrait.unconsume(this.owner);\n    },\n  })\n  readonly relation!: TraitRef<this, RelationTrait> & Observes<RelationTrait> & {\n    mountTable(tableView: TableView, relationTrait: RelationTrait): void,\n    unmountTable(tableView: TableView, relationTrait: RelationTrait): void,\n  };\n\n  @TraitViewRef({\n    extends: true,\n    observesView: true,\n    initView(tableView: TableView): void {\n      super.initView(tableView);\n\n      tableView.header.setView(this.owner.header.attachView());\n      tableView.set({\n        style: {\n          backgroundColor: null,\n          userSelect: \"none\",\n        },\n        rowHeight: tableView.viewIdiom === \"mobile\" ? 48 : 36,\n      });\n\n      const iconLayout = ColLayout.create(\"icon\", 0, 0, 48);\n      const titleLayout = ColLayout.create(\"title\", 1, 0);\n      const moreLayout = ColLayout.create(\"more\", 0, 0, 48);\n      const tableLayout = TableLayout.create([iconLayout, titleLayout, moreLayout]);\n      tableView.layout.setIntrinsic(tableLayout);\n\n      const relationTrait = this.owner.relation.trait;\n      if (relationTrait !== null) {\n        tableView.expansion.set(relationTrait.disclosed.value);\n      }\n    },\n    didAttachView(tableView: TableView, targetView: View): void {\n      const relationTrait = this.owner.relation.trait;\n      if (tableView.mounted && relationTrait !== null) {\n        this.owner.relation.mountTable(tableView, relationTrait);\n      }\n      super.didAttachView(tableView, targetView);\n    },\n    willDetachView(tableView: TableView): void {\n      super.willDetachView(tableView);\n      const relationTrait = this.owner.relation.trait;\n      if (tableView.mounted && relationTrait !== null) {\n        this.owner.relation.unmountTable(tableView, relationTrait);\n      }\n    },\n    viewWillExpand(tableView: TableView): void {\n      const relationTrait = this.owner.relation.trait;\n      if (relationTrait !== null) {\n        this.owner.relation.mountTable(tableView, relationTrait);\n      }\n    },\n    viewDidCollapse(tableView: TableView): void {\n      const relationTrait = this.owner.relation.trait;\n      if (relationTrait !== null) {\n        this.owner.relation.unmountTable(tableView, relationTrait);\n      }\n    },\n    viewWillResize(tableView: TableView): void {\n      tableView.rowHeight.setIntrinsic(tableView.viewIdiom === \"mobile\" ? 48 : 36);\n    },\n    viewDidMount(tableView: TableView): void {\n      const relationTrait = this.owner.relation.trait;\n      if (relationTrait !== null) {\n        this.owner.relation.mountTable(tableView, relationTrait);\n      }\n    },\n    viewWillUnmount(tableView: TableView): void {\n      const relationTrait = this.owner.relation.trait;\n      if (relationTrait !== null) {\n        this.owner.relation.unmountTable(tableView, relationTrait);\n      }\n    },\n  })\n  override readonly table!: TraitViewRef<this, TableTrait, TableView> & TableController[\"table\"];\n\n  @TraitViewControllerRef({\n    extends: true,\n    attachHeaderView(headerView: HeaderView, headerController: HeaderController): void {\n      super.attachHeaderView(headerView, headerController);\n      this.initHeaderView(headerView, headerController);\n    },\n    initHeaderView(headerView: HeaderView, headerController: HeaderController): void {\n      this.owner.disclosureCol.insertView(headerView);\n      this.owner.titleCol.insertView(headerView);\n    },\n  })\n  override readonly header!: TraitViewControllerRef<this, HeaderTrait, HeaderView, HeaderController> & TableController[\"header\"] & {\n    initHeaderView(headerView: HeaderView, headerController: HeaderController): void;\n  };\n\n  @ViewRef({\n    viewType: DisclosureColView,\n    viewKey: \"icon\",\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    initView(disclosureColView: DisclosureColView): void {\n      const disclosureButton = disclosureColView.button.view;\n      if (disclosureButton !== null) {\n        disclosureButton.set({\n          collapsedColor: Look.legendColor,\n          expandedColor: Look.legendColor,\n        });\n      }\n    },\n    willAttachView(disclosureColView: DisclosureColView): void {\n      this.owner.callObservers(\"controllerWillAttachDisclosureColView\", disclosureColView, this.owner);\n    },\n    didDetachView(disclosureColView: DisclosureColView): void {\n      this.owner.callObservers(\"controllerDidDetachDisclosureColView\", disclosureColView, this.owner);\n    },\n  })\n  readonly disclosureCol!: ViewRef<this, DisclosureColView>;\n\n  @ViewRef({\n    viewType: TextColView,\n    viewKey: \"title\",\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    willAttachView(titleCellView: TextColView): void {\n      this.owner.callObservers(\"controllerWillAttachTitleColView\", titleCellView, this.owner);\n    },\n    didDetachView(titleCellView: TextColView): void {\n      this.owner.callObservers(\"controllerDidDetachTitleColView\", titleCellView, this.owner);\n    },\n  })\n  readonly titleCol!: ViewRef<this, TextColView>;\n\n  @TraitViewControllerSet({\n    extends: true,\n    compare(a: RowController, b: RowController): number {\n      return this.owner.compareRowControllers(a, b);\n    },\n  })\n  override readonly rows!: TraitViewControllerSet<this, RowTrait, RowView, RowController> & TableController[\"rows\"];\n\n  @TraitControllerSet({\n    controllerType: EntityRowController,\n    binds: false,\n    observes: true,\n    getTraitRef(entityRowController: EntityRowController): TraitRef<unknown, EntityTrait> {\n      return entityRowController.entity;\n    },\n    willAttachController(entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerWillAttachEntityRow\", entityRowController, this.owner);\n    },\n    didAttachController(entityRowController: EntityRowController): void {\n      const targetView = this.owner.rows.getTargetView(entityRowController);\n      entityRowController.row.insertView(this.owner.table.view, void 0, targetView);\n    },\n    didDetachController(entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidDetachEntityRow\", entityRowController, this.owner);\n    },\n    controllerDidPressLeafView(input: PositionGestureInput, event: Event | null, leafView: LeafView, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressEntityRow\", input, event, entityRowController, this.owner);\n    },\n    controllerDidLongPressLeafView(input: PositionGestureInput, leafView: LeafView, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidLongPressEntityRow\", input, entityRowController, this.owner);\n    },\n    controllerDidPressMoreCellView(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressEntityMore\", input, event, entityRowController, this.owner);\n    },\n    compare(a: EntityRowController, b: EntityRowController): number {\n      return this.owner.compareRowControllers(a, b);\n    },\n  })\n  readonly entityRows!: TraitControllerSet<this, EntityTrait, EntityRowController> & Observes<EntityRowController>;\n\n  protected compareRowControllers(a: RowController, b: RowController): number {\n    const relationTrait = this.relation.trait;\n    if (relationTrait !== null && a instanceof EntityRowController && b instanceof EntityRowController) {\n      const x = a.entity.trait;\n      const y = b.entity.trait;\n      if (x !== null && y !== null) {\n        return relationTrait.entities.compareTraits(x, y);\n      }\n    }\n    return 0;\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport type {HtmlView} from \"@swim/dom\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitControllerRef} from \"@swim/controller\";\nimport {TraitControllerSet} from \"@swim/controller\";\nimport {TitleToolView} from \"@swim/toolbar\";\nimport type {SheetView} from \"@swim/sheet\";\nimport type {SheetControllerObserver} from \"@swim/sheet\";\nimport {SheetController} from \"@swim/sheet\";\nimport {EntityTrait} from \"@nstream/domain\";\nimport type {RelationTrait} from \"@nstream/domain\";\nimport type {AspectRowController} from \"./AspectRowController\";\nimport type {EntityRowController} from \"./EntityRowController\";\nimport {EntityTableController} from \"./EntityTableController\";\nimport {RelationTableController} from \"./RelationTableController\";\n\n/** @public */\nexport interface EntityNavControllerObserver<C extends EntityNavController = EntityNavController> extends SheetControllerObserver<C> {\n  controllerWillAttachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerDidDetachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerWillAttachEntityTable?(entityTableController: EntityTableController, controller: C): void;\n\n  controllerDidDetachEntityTable?(entityTableController: EntityTableController, controller: C): void;\n\n  controllerDidPressEntityRow?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidLongPressEntityRow?(input: PositionGestureInput, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidPressAspectRow?(input: PositionGestureInput, event: Event | null, aspectRowController: AspectRowController, controller: C): void;\n\n  controllerDidLongPressAspectRow?(input: PositionGestureInput, aspectRowController: AspectRowController, controller: C): void;\n\n  controllerWillAttachRelationTable?(relationTableController: RelationTableController, controller: C): void;\n\n  controllerDidDetachRelationTable?(relationTableController: RelationTableController, controller: C): void;\n\n  controllerDidPressRelatedEntityRow?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidLongPressRelatedEntityRow?(input: PositionGestureInput, entityRowController: EntityRowController, controller: C): void;\n\n  controllerDidPressRelatedEntityMore?(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController, controller: C): void;\n}\n\n/** @public */\nexport class EntityNavController extends SheetController {\n  declare readonly observerType?: Class<EntityNavControllerObserver>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    observes: true,\n    willAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTrait\", entityTrait, this.owner);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.sheet.attachView();\n      this.owner.title.set(entityTrait.title.value);\n      this.owner.searchable.set(entityTrait.searchable.value);\n      this.owner.entityTable.attachTrait(entityTrait);\n      const relationTraits = entityTrait.relations.traits;\n      for (const traitId in relationTraits) {\n        const relationTrait = relationTraits[traitId]!;\n        if (!relationTrait.hidden.value) {\n          this.owner.relationTables.addTrait(relationTrait);\n        }\n      }\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.relationTables.deleteTraits(entityTrait.relations.traits);\n      this.owner.entityTable.deleteTrait(entityTrait);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTrait\", entityTrait, this.owner);\n    },\n    traitDidSetTitle(title: string): void {\n      const titleController = this.owner.title.attachController();\n      const titleView = titleController.tool.attachView();\n      if (titleView instanceof TitleToolView) {\n        titleView.content.set(title);\n      }\n    },\n    traitDidSetSearchable(searchable: boolean): void {\n      this.owner.searchable.setIntrinsic(searchable);\n    },\n    traitWillAttachRelation(relationTrait: RelationTrait, targetTrait: Trait | null): void {\n      if (!relationTrait.hidden.value) {\n        this.owner.relationTables.addTrait(relationTrait, targetTrait);\n      }\n    },\n    traitDidDetachRelation(relationTrait: RelationTrait): void {\n      this.owner.relationTables.deleteTrait(relationTrait);\n    },\n    traitDidSetRelationHidden(hidden: boolean, relationTrait: RelationTrait): void {\n      if (hidden) {\n        this.owner.relationTables.deleteTrait(relationTrait);\n      } else {\n        this.owner.relationTables.addTrait(relationTrait);\n      }\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @TraitViewRef({\n    extends: true,\n    //initView(sheetView: SheetView): void {\n    //  super.initView(sheetView);\n    //},\n  })\n  override readonly sheet!: TraitViewRef<this, Trait, SheetView> & SheetController[\"sheet\"];\n\n  @Property({\n    extends: true,\n    didSetValue(newSearching: boolean, oldSearching: boolean): void {\n      super.didSetValue(newSearching, oldSearching);\n      const entityTrait = this.owner.entity.trait;\n      if (entityTrait !== null) {\n        entityTrait.searching.setIntrinsic(newSearching);\n      }\n    },\n  })\n  override readonly searching!: Property<this, boolean>;\n\n  override updateSearch(query: string, inputView: HtmlView): void {\n    const entityTrait = this.entity.trait;\n    if (entityTrait !== null) {\n      entityTrait.updateSearch(query);\n    }\n  }\n\n  override submitSearch(query: string, inputView: HtmlView): void {\n    const entityTrait = this.entity.trait;\n    if (entityTrait !== null) {\n      entityTrait.submitSearch(query);\n    }\n  }\n\n  @TraitControllerRef({\n    controllerType: EntityTableController,\n    binds: true,\n    observes: true,\n    getTraitRef(entityTableController: EntityTableController): TraitRef<unknown, EntityTrait> {\n      return entityTableController.entity;\n    },\n    willAttachController(entityTableController: EntityTableController): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTable\", entityTableController, this.owner);\n    },\n    didAttachController(entityTableController: EntityTableController): void {\n      entityTableController.table.insertView(this.owner.sheet.view);\n    },\n    didDetachController(entityTableController: EntityTableController): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTable\", entityTableController, this.owner);\n    },\n    controllerDidPressEntityRow(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressEntityRow\", input, event, entityRowController, this.owner);\n    },\n    controllerDidLongPressEntityRow(input: PositionGestureInput, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidLongPressEntityRow\", input, entityRowController, this.owner);\n    },\n    controllerDidPressAspectRow(input: PositionGestureInput, event: Event | null, aspectRowController: AspectRowController): void {\n      this.owner.callObservers(\"controllerDidPressAspectRow\", input, event, aspectRowController, this.owner);\n    },\n    controllerDidLongPressAspectRow(input: PositionGestureInput, aspectRowController: AspectRowController): void {\n      this.owner.callObservers(\"controllerDidLongPressAspectRow\", input, aspectRowController, this.owner);\n    },\n  })\n  readonly entityTable!: TraitControllerRef<this, EntityTrait, EntityTableController> & Observes<EntityTableController>;\n\n  @TraitControllerSet({\n    controllerType: RelationTableController,\n    binds: true,\n    observes: true,\n    getTraitRef(relationTableController: RelationTableController): TraitRef<unknown, RelationTrait> {\n      return relationTableController.relation;\n    },\n    willAttachController(relationTableController: RelationTableController): void {\n      this.owner.callObservers(\"controllerWillAttachRelationTable\", relationTableController, this.owner);\n    },\n    didAttachController(relationTableController: RelationTableController): void {\n      relationTableController.table.insertView(this.owner.sheet.view);\n    },\n    didDetachController(relationTableController: RelationTableController): void {\n      this.owner.callObservers(\"controllerDidDetachRelationTable\", relationTableController, this.owner);\n    },\n    controllerDidPressEntityRow(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressRelatedEntityRow\", input, event, entityRowController, this.owner);\n    },\n    controllerDidLongPressEntityRow(input: PositionGestureInput, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidLongPressRelatedEntityRow\", input, entityRowController, this.owner);\n    },\n    controllerDidPressEntityMore(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      this.owner.callObservers(\"controllerDidPressRelatedEntityMore\", input, event, entityRowController, this.owner);\n    },\n  })\n  readonly relationTables!: TraitControllerSet<this, RelationTrait, RelationTableController> & Observes<RelationTableController>;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Provider} from \"@swim/component\";\nimport {UriPath} from \"@swim/uri\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {SelectionService} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport {Feel} from \"@swim/theme\";\nimport {ViewRef} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport type {ControllerFlags} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {ControllerRef} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {HistoryStateInit} from \"@swim/controller\";\nimport type {HistoryState} from \"@swim/controller\";\nimport {HistoryService} from \"@swim/controller\";\nimport type {DrawerView} from \"@swim/window\";\nimport type {ToolController} from \"@swim/toolbar\";\nimport type {BarView} from \"@swim/toolbar\";\nimport {BarController} from \"@swim/toolbar\";\nimport type {SheetView} from \"@swim/sheet\";\nimport {SheetController} from \"@swim/sheet\";\nimport {NavBarController} from \"@swim/sheet\";\nimport type {StackView} from \"@swim/sheet\";\nimport {AppBarController} from \"@swim/sheet\";\nimport type {FolioStyle} from \"@swim/sheet\";\nimport type {FolioView} from \"@swim/sheet\";\nimport type {FolioControllerObserver} from \"@swim/sheet\";\nimport {FolioController} from \"@swim/sheet\";\nimport type {TabBarController} from \"@swim/sheet\";\nimport type {BinderView} from \"@swim/sheet\";\nimport {Status} from \"@nstream/domain\";\nimport {EntityTrait} from \"@nstream/domain\";\nimport type {RelationTrait} from \"@nstream/domain\";\nimport {AspectBinderController} from \"./AspectBinderController\";\nimport type {EntityRowController} from \"./EntityRowController\";\nimport {EntityNavController} from \"./EntityNavController\";\n\n/** @public */\nexport interface EntityFolioControllerObserver<C extends EntityFolioController = EntityFolioController> extends FolioControllerObserver<C> {\n}\n\n/** @public */\nexport class EntityFolioController extends FolioController {\n  declare readonly observerType?: Class<EntityFolioControllerObserver>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    didAttachTrait(entityTrait: EntityTrait): void {\n      if (this.owner.mounted) {\n        this.owner.requireUpdate(Controller.NeedsResolve);\n      }\n    },\n  })\n  readonly rootEntity!: TraitRef<this, EntityTrait>;\n\n  @ViewRef({\n    extends: true,\n    initView(drawerView: DrawerView): void {\n      super.initView(drawerView);\n      drawerView.style.backgroundColor.setIntrinsic(Look.backgroundColor);\n    },\n    updateFullBleed(fullBleed: boolean, drawerView: DrawerView): void {\n      super.updateFullBleed(fullBleed, drawerView);\n      drawerView.style.backdropFilter.setIntrinsic(fullBleed ? \"blur(2px)\" : \"none\");\n      drawerView.modifyMood(Feel.default, [[Feel.translucent, fullBleed ? 1 : 0]], false);\n    },\n  })\n  override readonly drawer!: ViewRef<this, DrawerView> & FolioController[\"drawer\"];\n\n  @TraitViewRef({\n    extends: true,\n    updateFolioStyle(folioStyle: FolioStyle | undefined, stackView: StackView): void {\n      const fullBleed = this.owner.fullBleed.value;\n      this.owner.backAlign.setIntrinsic(fullBleed && folioStyle === \"unstacked\" ? -1 : -(1 / 3));\n    },\n    updateFullBleed(fullBleed: boolean, stackView: StackView): void {\n      super.updateFullBleed(fullBleed, stackView);\n      const folioStyle = this.owner.folioStyle.value;\n      this.owner.backAlign.setIntrinsic(fullBleed && folioStyle === \"unstacked\" ? -1 : -(1 / 3));\n      this.owner.navBar.updateFrontScroll(this.owner.front.view);\n    },\n  })\n  override readonly stack!: TraitViewRef<this, Trait, StackView> & FolioController[\"stack\"];\n\n  @TraitViewControllerSet({\n    extends: true,\n    updateFolioStyle(folioStyle: FolioStyle | undefined, sheetView: SheetView, sheetController: SheetController): void {\n      super.updateFolioStyle(folioStyle, sheetView, sheetController);\n      const fullBleed = this.owner.fullBleed.value;\n      sheetView.modifyMood(Feel.default, [[Feel.transparent, fullBleed && folioStyle === \"unstacked\" ? 1 : 0]], false);\n    },\n    updateFullBleed(fullBleed: boolean, sheetView: SheetView, sheetController: SheetController): void {\n      super.updateFullBleed(fullBleed, sheetView, sheetController);\n      const folioStyle = this.owner.folioStyle.value;\n      sheetView.modifyMood(Feel.default, [[Feel.transparent, fullBleed && folioStyle === \"unstacked\" ? 1 : 0]], false);\n    },\n  })\n  override readonly sheets!: TraitViewControllerSet<this, Trait, SheetView, SheetController> & FolioController[\"sheets\"];\n\n  @TraitViewControllerRef({\n    extends: true,\n    didAttachController(frontController: SheetController, targetController: Controller | null): void {\n      super.didAttachController(frontController, targetController);\n      if (!(frontController instanceof EntityNavController)) {\n        return;\n      }\n      const frontEntityTrait = frontController.entity.trait;\n      this.owner.frontEntity.setTrait(frontEntityTrait);\n      this.owner.frontNav.setController(frontController);\n    },\n    willDetachController(frontController: SheetController): void {\n      super.willDetachController(frontController);\n      if (frontController instanceof EntityNavController) {\n        this.owner.frontNav.setController(null);\n        // Don't unset frontEntity trait.\n      }\n    },\n    controllerWillAttachTitle(titleController: ToolController, frontController: SheetController): void {\n      const titleView = titleController.tool.view;\n      if (titleView !== null) {\n        titleView.style.cursor.setIntrinsic(\"pointer\");\n      }\n    },\n  })\n  override readonly front!: TraitViewControllerRef<this, Trait, SheetView, SheetController> & FolioController[\"front\"];\n\n  @ControllerRef({\n    controllerType: EntityNavController,\n    observes: true,\n    controllerDidPressEntityRow(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      if (input.defaultPrevented) {\n        return;\n      }\n      const entityTrait = entityRowController.entity.trait;\n      let entityPath: UriPath | null;\n      if (entityTrait === null || (entityPath = entityTrait.path.value) === null) {\n        return;\n      }\n      const historyService = this.owner.history.getService();\n      const historyState = historyService.historyState;\n\n      let fragment: string | undefined;\n      if (entityPath.isAbsolute() && !entityPath.tail().isEmpty()) {\n        fragment = entityPath.appendedSlash().toString();\n      }\n\n      const parameters: HistoryStateInit[\"parameters\"] = {};\n      if (this.owner.folioStyle.value === \"stacked\") {\n        let aspectId = historyState.parameters.aspect;\n        if (aspectId === void 0 || aspectId.length === 0) {\n          aspectId = historyState.environment.aspect;\n        }\n        if (aspectId === void 0 || aspectId.length === 0) {\n          const aspectTrait = entityTrait.aspect.trait;\n          aspectId = aspectTrait !== null ? aspectTrait.id.value : void 0;\n        }\n        parameters.aspect = aspectId;\n      }\n\n      if (fragment !== historyState.fragment || parameters.aspect !== historyState.parameters.aspect) {\n        historyService.pushHistory({\n          fragment,\n          parameters,\n        });\n      }\n    },\n    controllerDidLongPressEntityRow(input: PositionGestureInput, entityRowController: EntityRowController): void {\n      if (input.defaultPrevented) {\n        return;\n      }\n      input.preventDefault();\n    },\n    controllerDidPressRelatedEntityRow(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      if (input.defaultPrevented) {\n        return;\n      }\n      const entityTrait = entityRowController.entity.trait;\n      let entityPath: UriPath | null;\n      if (entityTrait === null || (entityPath = entityTrait.path.value) === null) {\n        return;\n      }\n      const historyService = this.owner.history.getService();\n      const historyState = historyService.historyState;\n\n      const fragment = entityPath.toString();\n\n      const parameters: HistoryStateInit[\"parameters\"] = {};\n      if (this.owner.folioStyle.value === \"stacked\") {\n        let aspectId = historyState.parameters.aspect;\n        if (aspectId === void 0 || aspectId.length === 0) {\n          aspectId = historyState.environment.aspect;\n        }\n        if (aspectId === void 0 || aspectId.length === 0) {\n          const aspectTrait = entityTrait.aspect.trait;\n          aspectId = aspectTrait !== null ? aspectTrait.id.value : void 0;\n        }\n        parameters.aspect = aspectId;\n      }\n\n      if (fragment !== historyState.fragment || parameters.aspect !== historyState.parameters.aspect) {\n        historyService.pushHistory({\n          fragment,\n          parameters,\n        });\n      }\n    },\n    controllerDidLongPressRelatedEntityRow(input: PositionGestureInput, entityRowController: EntityRowController): void {\n      if (input.defaultPrevented) {\n        return;\n      }\n      input.preventDefault();\n    },\n    controllerDidPressRelatedEntityMore(input: PositionGestureInput, event: Event | null, entityRowController: EntityRowController): void {\n      if (input.defaultPrevented) {\n        return;\n      }\n      input.preventDefault();\n      const entityTrait = entityRowController.entity.trait;\n      let entityPath: UriPath | null;\n      if (entityTrait === null || (entityPath = entityTrait.path.value) === null) {\n        return;\n      }\n      const historyService = this.owner.history.getService();\n      const historyState = historyService.historyState;\n\n      let fragment: string | undefined;\n      if (entityPath.isAbsolute() && !entityPath.tail().isEmpty()) {\n        fragment = entityPath.appendedSlash().toString();\n      }\n\n      if (fragment !== historyState.fragment) {\n        historyService.pushHistory({fragment});\n      }\n    },\n  })\n  readonly frontNav!: ControllerRef<this, EntityNavController> & Observes<EntityNavController>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    observes: true,\n    initTrait(entityTrait: EntityTrait): void {\n      this.owner.frontStatus.setIntrinsic(entityTrait.status.value);\n    },\n    traitDidSetStatus(status: Status): void {\n      this.owner.frontStatus.setIntrinsic(status);\n    },\n  })\n  readonly frontEntity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @Property({\n    valueType: Status,\n    value: Status.unknown(),\n    didSetValue(status: Status): void {\n      this.owner.navBar.updateStatus(status);\n    },\n  })\n  readonly frontStatus!: Property<this, Status>;\n\n  @TraitViewRef({\n    extends: true,\n    initView(folioView: FolioView): void {\n      super.initView(folioView);\n      const drawerView = folioView.drawer.attachView();\n      drawerView.expandedWidth.set(280);\n      drawerView.modifyTheme(Feel.default, [[Feel.raised, 1]]);\n    },\n    viewDidSetFolioStyle(folioStyle: FolioStyle | undefined, folioView: FolioView): void {\n      super.viewDidSetFolioStyle(folioStyle, folioView);\n      this.owner.requireUpdate(Controller.NeedsResolve);\n    },\n  })\n  override readonly folio!: TraitViewRef<this, Trait, FolioView> & FolioController[\"folio\"];\n\n  @TraitViewControllerRef({\n    extends: true,\n    initController(navBarController: BarController): void {\n      super.initController(navBarController);\n      if (!(navBarController instanceof NavBarController)) {\n        return;\n      }\n      const closeButtonController = navBarController.closeButton.insertController();\n      closeButtonController.tool.setView(null);\n      navBarController.backButton.insertController();\n      navBarController.searchButton.insertController();\n      navBarController.searchInput.insertController();\n      navBarController.cancelSearch.insertController();\n    },\n    attachNavBarView(navBarView: BarView, navBarController: BarController): void {\n      super.attachNavBarView(navBarView, navBarController);\n      navBarView.modifyMood(Feel.default, [[Feel.translucent, 0], [Feel.transparent, 1]]);\n      navBarView.style.backgroundColor.setIntrinsic(Look.backgroundColor);\n      navBarView.barHeight.setIntrinsic(48);\n      this.updateFrontScroll(this.owner.front.view);\n    },\n    updateFolioStyle(folioStyle: FolioStyle | undefined, navBarController: BarController): void {\n      super.updateFolioStyle(folioStyle, navBarController);\n      if (!(navBarController instanceof NavBarController)) {\n        return;\n      }\n      navBarController.showBackTitle.setIntrinsic(folioStyle === \"stacked\");\n    },\n    frontViewDidScroll(frontView: SheetView, navBarController: BarController): void {\n      super.frontViewDidScroll(frontView, navBarController);\n      this.updateFrontScroll(frontView);\n    },\n    updateFrontScroll(frontView: SheetView | null): void {\n      const navBarView = this.view;\n      if (navBarView === null) {\n        return;\n      }\n      const scrollTop = frontView !== null ? frontView.node.scrollTop : 0;\n      const folioStyle = this.owner.folioStyle.value;\n      const fullBleed = this.owner.fullBleed.value;\n      const transparent = scrollTop === 0 && (!fullBleed || folioStyle !== \"stacked\");\n      const timing = navBarView.getLook(Look.timing);\n      navBarView.style.backgroundColor.setIntrinsic(Look.backgroundColor, timing);\n      navBarView.style.backdropFilter.setIntrinsic(transparent ? \"none\" : \"blur(2px)\");\n      navBarView.modifyMood(Feel.default, [[Feel.translucent, 1],\n                                           [Feel.transparent, transparent ? 1 : 0]], timing);\n    },\n    updateStatus(status: Status): void {\n      const navBarView = this.view;\n      if (navBarView !== null) {\n        navBarView.modifyMood(Feel.default, status.moodModifier);\n      }\n    },\n  })\n  override readonly navBar!: TraitViewControllerRef<this, Trait, BarView, BarController> & FolioController[\"navBar\"] & {\n    updateFrontScroll(frontView: SheetView | null): void,\n    updateStatus(status: Status): void,\n  };\n\n  @TraitViewControllerRef({\n    extends: true,\n    initController(appBarController: BarController): void {\n      super.initController(appBarController);\n      if (appBarController instanceof AppBarController) {\n        appBarController.menuButton.insertController();\n      }\n    },\n    attachAppBarView(appBarView: BarView, appBarController: BarController): void {\n      super.attachAppBarView(appBarView, appBarController);\n      appBarView.modifyMood(Feel.default, [[Feel.translucent, 1], [Feel.transparent, 1]]);\n      appBarView.style.backgroundColor.setIntrinsic(Look.backgroundColor);\n      appBarView.barHeight.setIntrinsic(48);\n    },\n    coverViewDidScroll(coverView: SheetView, appBarController: BarController): void {\n      super.coverViewDidScroll(coverView, appBarController);\n      const appBarView = appBarController.bar.view;\n      if (appBarView === null) {\n        return;\n      } else if (coverView.node.scrollTop === 0) {\n        appBarView.style.backdropFilter.setIntrinsic(\"none\");\n        appBarView.modifyMood(Feel.default, [[Feel.transparent, 1]]);\n      } else {\n        appBarView.style.backdropFilter.setIntrinsic(\"blur(2px)\");\n        appBarView.modifyMood(Feel.default, [[Feel.transparent, 0]]);\n      }\n    },\n  })\n  override readonly appBar!: TraitViewControllerRef<this, Trait, BarView, BarController> & FolioController[\"appBar\"];\n\n  @TraitViewControllerRef({\n    extends: true,\n    attachCoverTrait(coverTrait: Trait, coverController: SheetController): void {\n      super.attachCoverTrait(coverTrait, coverController);\n      if (coverTrait instanceof EntityTrait) {\n        this.owner.coverEntity.setTrait(coverTrait);\n      }\n    },\n    detachCoverTrait(coverTrait: Trait, coverController: SheetController): void {\n      if (coverTrait instanceof EntityTrait) {\n        this.owner.coverEntity.setTrait(null);\n      }\n      super.detachCoverTrait(coverTrait, coverController);\n    },\n    controllerWillPresentSheetView(sheetView: SheetView, coverController: SheetController): void {\n      const coverTrait = coverController.sheet.trait;\n      if (coverTrait instanceof EntityTrait) {\n        this.owner.coverEntity.setTrait(coverTrait);\n      }\n    },\n    controllerWillDismissSheetView(sheetView: SheetView, coverController: SheetController): void {\n      const coverTrait = coverController.sheet.trait;\n      if (coverTrait instanceof EntityTrait) {\n        this.owner.coverEntity.setTrait(null);\n      }\n    },\n  })\n  override readonly cover!: TraitViewControllerRef<this, Trait, SheetView, SheetController> & FolioController[\"cover\"];\n\n  @TraitRef({\n    traitType: EntityTrait,\n  })\n  readonly coverEntity!: TraitRef<this, EntityTrait>;\n\n  @TraitViewControllerRef({\n    controllerType: BarController,\n    observes: true,\n    getTraitViewRef(tabBarController: BarController): TraitViewRef<unknown, Trait, BarView> {\n      return tabBarController.bar;\n    },\n    didAttachController(tabBarController: BarController): void {\n      const tabBarView = tabBarController.bar.view;\n      if (tabBarView !== null) {\n        this.attachTabBarView(tabBarView, tabBarController);\n      }\n    },\n    willDetachController(tabBarController: BarController): void {\n      const tabBarView = tabBarController.bar.view;\n      if (tabBarView !== null) {\n        this.detachTabBarView(tabBarView, tabBarController);\n      }\n    },\n    controllerWillAttachBarView(tabBarView: BarView, tabBarController: BarController): void {\n      this.attachTabBarView(tabBarView, tabBarController);\n    },\n    controllerDidDetachBarView(tabBarView: BarView, tabBarController: BarController): void {\n      this.detachTabBarView(tabBarView, tabBarController);\n    },\n    attachTabBarView(tabBarView: BarView, tabBarController: BarController): void {\n      // hook\n    },\n    detachTabBarView(tabBarView: BarView, tabBarController: BarController): void {\n      // hook\n    },\n    controllerDidPressTabHandle(input: PositionGestureInput, event: Event | null, tabController: SheetController): void {\n      // hook\n    },\n    controllerDidLongPressTabHandle(input: PositionGestureInput, tabController: SheetController): void {\n      // hook\n    },\n  })\n  readonly tabBar!: TraitViewControllerRef<this, Trait, BarView, BarController> & Observes<TabBarController> & {\n    attachTabBarView(tabBarView: BarView, tabBarController: BarController): void,\n    detachTabBarView(tabBarView: BarView, tabBarController: BarController): void,\n  };\n\n  @TraitViewControllerRef({\n    controllerType: AspectBinderController,\n    observes: true,\n    getTraitViewRef(binderController: AspectBinderController): TraitViewRef<unknown, Trait, BinderView> {\n      return binderController.binder;\n    },\n    initController(binderController: AspectBinderController): void {\n      binderController.binder.attachView();\n      binderController.tabBar.insertController();\n    },\n    didAttachController(binderController: AspectBinderController): void {\n      const binderTrait = binderController.binder.trait;\n      if (binderTrait !== null) {\n        this.attachBinderTrait(binderTrait, binderController);\n      }\n      const binderView = binderController.binder.view;\n      if (binderView !== null) {\n        this.attachBinderView(binderView, binderController);\n      }\n      this.owner.tabBar.bindInlet(binderController.tabBar);\n      this.owner.active.bindInlet(binderController.active);\n    },\n    willDetachController(binderController: AspectBinderController): void {\n      this.owner.active.unbindInlet(binderController.active);\n      this.owner.tabBar.unbindInlet(binderController.tabBar);\n      const binderView = binderController.binder.view;\n      if (binderView !== null) {\n        this.detachBinderView(binderView, binderController);\n      }\n      const binderTrait = binderController.binder.trait;\n      if (binderTrait !== null) {\n        this.detachBinderTrait(binderTrait, binderController);\n      }\n    },\n    controllerWillAttachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void {\n      this.attachBinderTrait(binderTrait, binderController);\n    },\n    controllerDidDetachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void {\n      this.detachBinderTrait(binderTrait, binderController);\n    },\n    attachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void {\n      // hook\n    },\n    detachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void {\n      // hook\n    },\n    controllerWillAttachBinderView(binderView: BinderView, binderController: AspectBinderController): void {\n      this.attachBinderView(binderView, binderController);\n    },\n    controllerDidDetachBinderView(binderView: BinderView, binderController: AspectBinderController): void {\n      this.detachBinderView(binderView, binderController);\n    },\n    attachBinderView(binderView: BinderView, binderController: AspectBinderController): void {\n      // hook\n    },\n    detachBinderView(binderView: BinderView, binderController: AspectBinderController): void {\n      this.detachController();\n    },\n  })\n  readonly binder!: TraitViewControllerRef<this, Trait, BinderView, AspectBinderController> & Observes<AspectBinderController> & {\n    attachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void;\n    detachBinderTrait(binderTrait: Trait, binderController: AspectBinderController): void;\n    attachBinderView(binderView: BinderView, binderController: AspectBinderController): void;\n    detachBinderView(binderView: BinderView, binderController: AspectBinderController): void;\n  };\n\n  @TraitViewControllerRef({\n    controllerType: SheetController,\n    observes: true,\n    getTraitViewRef(activeController: SheetController): TraitViewRef<unknown, Trait, SheetView> {\n      return activeController.sheet;\n    },\n    didAttachController(activeController: SheetController): void {\n      const activeTrait = activeController.sheet.trait;\n      if (activeTrait !== null) {\n        this.attachActiveTrait(activeTrait, activeController);\n      }\n      const activeView = activeController.sheet.attachView();\n      this.attachActiveView(activeView, activeController);\n    },\n    willDetachController(activeController: SheetController): void {\n      const activeView = activeController.sheet.view;\n      if (activeView !== null) {\n        this.detachActiveView(activeView, activeController);\n      }\n      const activeTrait = activeController.sheet.trait;\n      if (activeTrait !== null) {\n        this.detachActiveTrait(activeTrait, activeController);\n      }\n    },\n    controllerWillAttachSheetTrait(activeTrait: Trait, activeController: SheetController): void {\n      this.attachActiveTrait(activeTrait, activeController);\n    },\n    controllerDidDetachSheetTrait(activeTrait: Trait, activeController: SheetController): void {\n      this.detachActiveTrait(activeTrait, activeController);\n    },\n    attachActiveTrait(activeTrait: Trait, activeController: SheetController): void {\n      // hook\n    },\n    detachActiveTrait(activeTrait: Trait, activeController: SheetController): void {\n      // hook\n    },\n    controllerWillAttachSheetView(activeView: SheetView, activeController: SheetController): void {\n      this.attachActiveView(activeView, activeController);\n    },\n    controllerDidDetachSheetView(activeView: SheetView, activeController: SheetController): void {\n      this.detachActiveView(activeView, activeController);\n    },\n    attachActiveView(activeView: SheetView, activeController: SheetController): void {\n      // hook\n    },\n    detachActiveView(activeView: SheetView, activeController: SheetController): void {\n      // hook\n    },\n  })\n  readonly active!: TraitViewControllerRef<this, Trait, SheetView, SheetController> & Observes<SheetController> & {\n    attachActiveTrait(activeTrait: Trait, activeController: SheetController): void,\n    detachActiveTrait(activeTrait: Trait, activeController: SheetController): void,\n    attachActiveView(activeView: SheetView, activeController: SheetController): void,\n    detachActiveView(activeView: SheetView, activeController: SheetController): void,\n  };\n\n  @Provider({serviceType: SelectionService})\n  readonly selection!: Provider<this, SelectionService>;\n\n  protected createEntityNav(entityTrait: EntityTrait): SheetController {\n    let navController = entityTrait.createNavController();\n    if (navController === null) {\n      navController = new EntityNavController();\n      (navController as EntityNavController).entity.setTrait(entityTrait);\n    }\n    return navController;\n  }\n\n  showEntityNav(entityTrait: EntityTrait, timing?: TimingLike | boolean | null): void {\n    const navController = this.createEntityNav(entityTrait);\n    navController.sheet.setTrait(entityTrait);\n    const navView = navController.sheet.attachView();\n    navView.dismiss();\n    this.appendChild(navController);\n    this.sheets.addController(navController);\n    navView.present(timing);\n  }\n\n  showEntityBinder(entityTrait: EntityTrait, timing?: TimingLike | boolean | null): void {\n    const binderController = this.binder.insertController();\n    binderController.sheet.setTrait(entityTrait);\n    binderController.sheet.attachView().dismiss();\n    this.cover.setController(binderController);\n    this.cover.present(timing);\n  }\n\n  protected override didPressBackButton(input: PositionGestureInput, event: Event | null): void {\n    this.callObservers(\"controllerDidPressBackButton\", input, event, this);\n    if (input.defaultPrevented) {\n      return;\n    }\n\n    const frontTrait = this.frontEntity.trait;\n    let frontPath: UriPath | null;\n    if (frontTrait === null || (frontPath = frontTrait.path.value) === null) {\n      // Can't go back when uninitialized.\n      return;\n    }\n    const coverTrait = this.coverEntity.trait;\n    const coverPath = coverTrait !== null ? coverTrait.path.value : null;\n\n    const historyService = this.history.getService();\n    const historyState = historyService.historyState;\n\n    let fragment: string | undefined;\n    const parameters: HistoryStateInit[\"parameters\"] = {};\n    const environment: HistoryStateInit[\"parameters\"] = {};\n    if (this.folioStyle.value === \"unstacked\") {\n      // `/relation/entity/` => `/relation/entity`\n      fragment = frontPath.toString();\n    } else if (coverPath === null || frontPath.equals(UriPath.slash())) {\n      // `/relation/entity/` => `/`\n      let parentPath = frontPath.parent().parent();\n      if (parentPath.isEmpty()) {\n        parentPath = UriPath.slash();\n      }\n      fragment = parentPath.toString();\n      parameters.aspect = void 0;\n    } else {\n      fragment = frontPath.appendedSlash().toString();\n      parameters.aspect = void 0;\n    }\n    if (historyState.parameters.aspect !== void 0) {\n      environment.aspect = historyState.parameters.aspect;\n    }\n\n    historyService.pushHistory({\n      fragment,\n      parameters,\n      environment,\n    });\n  }\n\n  protected updateNavigationState(): void {\n    let targetTrait = this.rootEntity.trait;\n    if (targetTrait === null) {\n      return;\n    } else if (this.root.controller === null) {\n      // Inject the root navigation controller.\n      this.showEntityNav(targetTrait);\n    }\n\n    let targetController = this.root.controller;\n    if (!(targetController instanceof EntityNavController)) {\n      return;\n    }\n\n    const historyState = this.history.getService().historyState;\n    let targetPath: UriPath;\n    try {\n      targetPath = historyState.fragment !== void 0\n                 ? UriPath.parse(historyState.fragment)\n                 : UriPath.empty();\n    } catch (error) {\n      return; // swallow parse errors\n    }\n\n    //let unmatchedController = targetController.forward.controller;\n    let unmatchedPath = targetPath;\n    if (unmatchedPath.isAbsolute()) {\n      unmatchedPath = unmatchedPath.tail();\n    }\n\n    // Match the current navigation stack against the target path.\n    while (unmatchedPath.isSegment()) {\n      let subpath = unmatchedPath;\n\n      // Try to match a relation segment.\n      const relationId = subpath.head();\n      const relationTrait: RelationTrait | null = targetTrait.relations.get(relationId);\n      if (relationTrait === null) {\n        // Unknown relationId.\n        break;\n      }\n      subpath = subpath.tail();\n      if (subpath.isAbsolute()) {\n        subpath = subpath.tail();\n      }\n\n      // Try to match an entity segment.\n      const entityId = subpath.head();\n      const entityTrait: EntityTrait | null = relationTrait.entities.get(entityId);\n      if (entityTrait === null) {\n        // Unknown entityId.\n        break;\n      }\n      subpath = subpath.tail();\n\n      // Get the entity of the forward navigation sheet.\n      const forwardController: SheetController | null = targetController.forward.controller;\n      if (!(forwardController instanceof EntityNavController)) {\n        // Reached the end of the existing navigation stack.\n        break;\n      }\n      const forwardTrait = forwardController.entity.trait;\n      if (forwardTrait === null) {\n        // Uninitialized entity.\n        return;\n      }\n\n      // Compare the resolved entity path to the forward navigation sheet.\n      if (entityTrait !== forwardTrait) {\n        // Forward navigation sheet represents a different entity.\n        break;\n      }\n\n      if (!subpath.isAbsolute()) {\n        break;\n      }\n      subpath = subpath.tail();\n      targetTrait = forwardTrait;\n      targetController = forwardController;\n      unmatchedPath = subpath;\n    }\n\n    // Dismiss old navigation sheets.\n    let unmatchedController = targetController.forward.controller;\n    if (unmatchedController !== null) {\n      // First traverse forward to the top of the navigation stack.\n      do {\n        if (unmatchedController.forward.controller === null) {\n          break;\n        }\n        unmatchedController = unmatchedController.forward.controller;\n      } while (unmatchedController !== null);\n      // Then traverse backwards popping unmatched navigation sheets off the stack.\n      while (unmatchedController !== null && unmatchedController !== targetController) {\n        const backController: SheetController | null = unmatchedController.back.controller;\n        const sheetView = unmatchedController.sheet.view;\n        if (sheetView !== null) {\n          sheetView.dismiss();\n        }\n        unmatchedController = backController;\n      }\n    }\n\n    // Present new navigation sheets.\n    while (unmatchedPath.isSegment()) {\n      const relationId = unmatchedPath.head();\n      const relationTrait: RelationTrait | null = targetTrait.relations.get(relationId);\n      if (relationTrait === null) {\n        return;\n      }\n      unmatchedPath = unmatchedPath.tail();\n      if (!unmatchedPath.isAbsolute()) {\n        return;\n      }\n      unmatchedPath = unmatchedPath.tail();\n\n      const entityId = unmatchedPath.head();\n      const entityTrait: EntityTrait | null = relationTrait.entities.getOrInsert(entityId);\n      if (entityTrait === null) {\n        return;\n      }\n      unmatchedPath = unmatchedPath.tail();\n\n      if (unmatchedPath.isAbsolute()) {\n        this.showEntityNav(entityTrait);\n        unmatchedPath = unmatchedPath.tail();\n      }\n\n      targetTrait = entityTrait;\n    }\n\n    if (this.folioStyle.value === \"unstacked\"\n        || historyState.parameters.aspect !== void 0\n        || targetPath.isEmpty() || !targetPath.foot().isAbsolute()) {\n      this.showEntityBinder(targetTrait);\n      this.selection.getService().select(targetTrait.model!);\n    } else {\n      this.selection.getService().unselectAll();\n    }\n  }\n\n  @Provider({\n    serviceType: HistoryService,\n    observes: true,\n    updateHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState | null): void {\n      if (oldHistoryState === null\n          || newHistoryState.fragment !== oldHistoryState.fragment\n          || newHistoryState.parameters.aspect !== oldHistoryState.parameters.aspect) {\n        this.owner.requireUpdate(Controller.NeedsResolve);\n      }\n    },\n    serviceDidPushHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState): void {\n      this.updateHistory(newHistoryState, oldHistoryState);\n    },\n    serviceDidPopHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState): void {\n      this.updateHistory(newHistoryState, oldHistoryState);\n    },\n  })\n  readonly history!: Provider<this, HistoryService> & Observes<HistoryService> & {\n    updateHistory(newHistoryState: HistoryState, oldHistoryState: HistoryState | null): void;\n  };\n\n  protected override onResolve(): void {\n    super.onResolve();\n    this.updateNavigationState();\n  }\n\n  static override MountFlags: ControllerFlags = FolioController.MountFlags | Controller.NeedsResolve;\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {HtmlView} from \"@swim/dom\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerRef} from \"@swim/controller\";\nimport type {SheetView} from \"@swim/sheet\";\nimport type {SheetControllerObserver} from \"@swim/sheet\";\nimport {SheetController} from \"@swim/sheet\";\nimport {PanelView} from \"@swim/panel\";\nimport type {GeoPerspective} from \"@swim/map\";\nimport type {GeoView} from \"@swim/map\";\nimport {GeoTrait} from \"@swim/map\";\nimport {GeoController} from \"@swim/map\";\nimport type {MapTrait} from \"@swim/map\";\nimport type {MapView} from \"@swim/map\";\nimport {MapController} from \"@swim/map\";\nimport {MapboxView} from \"@swim/mapbox\";\nimport {EntityTrait} from \"@nstream/domain\";\n\n/** @public */\nexport interface AtlasControllerObserver<C extends AtlasController = AtlasController> extends SheetControllerObserver<C> {\n  controllerWillAttachMap?(mapController: MapController, controller: C): void;\n\n  controllerDidDetachMap?(mapController: MapController, controller: C): void;\n}\n\n/** @public */\nexport class AtlasController extends SheetController {\n  declare readonly observerType?: Class<AtlasControllerObserver>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    inherits: true,\n    observes: true,\n    willAttachTrait(entityTrait: EntityTrait): void {\n      entityTrait.consume(this);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.hostUri.bindInlet(entityTrait.hostUri);\n      const geoTrait = entityTrait.getTrait(GeoTrait);\n      if (geoTrait !== null) {\n        this.owner.location.insertTrait(void 0, geoTrait);\n      }\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      if (entityTrait.getTrait(GeoTrait) === this.owner.location.trait) {\n        this.owner.location.setTrait(null);\n      }\n      this.owner.hostUri.unbindInlet(entityTrait.hostUri);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      entityTrait.unconsume(this);\n    },\n    traitDidInsertTrait(memberTrait: Trait, targetTrait: Trait | null): void {\n      if (memberTrait instanceof GeoTrait) {\n        this.owner.location.setTrait(memberTrait);\n      }\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @TraitViewControllerRef({\n    controllerType: GeoController,\n    observes: true,\n    getTraitViewRef(geoController: GeoController): TraitViewRef<unknown, GeoTrait, GeoView> {\n      return geoController.geo;\n    },\n    init(): void {\n      this.located = false;\n    },\n    didAttachController(geoController: GeoController): void {\n      const geoTrait = geoController.geo.trait;\n      if (geoTrait !== null) {\n        this.attachGeoTrait(geoTrait, geoController);\n      }\n      const geoView = geoController.geo.attachView();\n      this.attachGeoView(geoView, geoController);\n      this.owner.map.attachController().layers.addController(geoController);\n    },\n    willDetachController(geoController: GeoController): void {\n      const mapController = this.owner.map.controller;\n      if (mapController !== null) {\n        mapController.layers.deleteController(geoController);\n      }\n      const geoView = geoController.geo.view;\n      if (geoView !== null) {\n        this.detachGeoView(geoView, geoController);\n      }\n      const geoTrait = geoController.geo.trait;\n      if (geoTrait !== null) {\n        this.detachGeoTrait(geoTrait, geoController);\n      }\n    },\n    controllerWillAttachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void {\n      this.attachGeoTrait(geoTrait, geoController);\n    },\n    controllerDidDetachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void {\n      this.detachGeoTrait(geoTrait, geoController);\n    },\n    attachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void {\n      geoTrait.consume(this);\n      const geoPerspective = geoTrait.geoPerspective.value;\n      let mapView: MapView | null;\n      if (geoPerspective !== null && (mapView = this.owner.map.view) !== null) {\n        mapView.moveTo(geoPerspective, this.located);\n        this.located = true;\n      } else {\n        this.owner.locationTracking.setIntrinsic(true);\n      }\n    },\n    detachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void {\n      this.owner.locationTracking.setIntrinsic(false);\n      geoTrait.unconsume(this);\n      this.deleteController();\n    },\n    controllerWillAttachGeoView(geoView: GeoView, geoController: GeoController): void {\n      this.attachGeoView(geoView, geoController);\n    },\n    controllerDidDetachGeoView(geoView: GeoView, geoController: GeoController): void {\n      this.detachGeoView(geoView, geoController);\n    },\n    attachGeoView(geoView: GeoView, geoController: GeoController): void {\n      // hook\n    },\n    detachGeoView(geoView: GeoView, geoController: GeoController): void {\n      // hook\n    },\n    controllerDidSetGeoPerspective(geoPerspective: GeoPerspective | null): void {\n      let mapView: MapView | null;\n      if (geoPerspective !== null && this.owner.locationTracking.value\n          && (mapView = this.owner.map.view) !== null) {\n        mapView.moveTo(geoPerspective, this.located);\n        this.located = true;\n        this.owner.locationTracking.setIntrinsic(false);\n      }\n    },\n    createController(trait?: GeoTrait): GeoController {\n      if (trait !== void 0) {\n        return trait.createGeoController();\n      }\n      return super.createController(trait);\n    },\n  })\n  readonly location!: TraitViewControllerRef<this, GeoTrait, GeoView, GeoController> & Observes<GeoController> & {\n    /** @internal */\n    located: boolean;\n    attachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void,\n    detachGeoTrait(geoTrait: GeoTrait, geoController: GeoController): void,\n    attachGeoView(geoView: GeoView, geoController: GeoController): void,\n    detachGeoView(geoView: GeoView, geoController: GeoController): void,\n  };\n\n  @Property({valueType: Boolean, value: false})\n  readonly locationTracking!: Property<this, boolean>;\n\n  @TraitViewControllerRef({\n    controllerType: MapController,\n    consumed: true,\n    observes: true,\n    get parentView(): SheetView | null {\n      return this.owner.sheet.view;\n    },\n    getTraitViewRef(mapController: MapController): TraitViewRef<unknown, MapTrait, MapView> {\n      return mapController.map;\n    },\n    initController(mapController: MapController): void {\n      const sheetView = this.owner.sheet.view;\n      if (sheetView !== null) {\n        this.attachContainerView(sheetView, mapController);\n      }\n    },\n    deinitController(mapController: MapController): void {\n      const sheetView = this.owner.sheet.view;\n      if (sheetView !== null) {\n        this.detachContainerView(sheetView, mapController);\n      }\n    },\n    willAttachController(mapController: MapController): void {\n      this.owner.callObservers(\"controllerWillAttachMap\", mapController, this.owner);\n    },\n    didDetachController(mapController: MapController): void {\n      this.owner.callObservers(\"controllerDidDetachMap\", mapController, this.owner);\n    },\n    controllerWillAttachMapView(mapView: MapView, mapController: MapController): void {\n      mapView.canvas.attachView().setIntrinsic({\n        pointerEvents: true,\n      });\n    },\n    attachContainerView(containerView: HtmlView, mapController: MapController): void {\n      let mapView = mapController.map.view;\n      if (mapView === null) {\n        mapView = this.owner.createMapView(containerView);\n        mapController.map.setView(mapView);\n      }\n      mapController.container.setView(containerView);\n    },\n    detachContainerView(containerView: HtmlView, mapController: MapController): void {\n      const mapView = mapController.map.view;\n      if (mapView !== null) {\n        mapView.container.setView(null);\n      }\n    },\n  })\n  readonly map!: TraitViewControllerRef<this, MapTrait, MapView, MapController> & Observes<MapController> & {\n    attachContainerView(containerView: HtmlView, mapController: MapController): void,\n    detachContainerView(containerView: HtmlView, mapController: MapController): void,\n  };\n\n  protected createMapView(containerView: HtmlView): MapView {\n    const map = new mapboxgl.Map({\n      container: containerView.node,\n      boxZoom: false,\n      center: {lng: 0, lat: 0},\n      zoom: 1,\n    });\n    return new MapboxView(map);\n  }\n\n  @TraitViewRef({\n    extends: true,\n    initView(sheetView: SheetView): void {\n      super.initView(sheetView);\n      sheetView.fullBleed.setIntrinsic(true);\n      const mapController = this.owner.map.attachController();\n      this.owner.map.attachContainerView(sheetView, mapController);\n    },\n    deinitView(sheetView: SheetView): void {\n      const mapController = this.owner.map.controller;\n      if (mapController !== null) {\n        this.owner.map.detachContainerView(sheetView, mapController);\n      }\n      super.deinitView(sheetView);\n    },\n  })\n  override readonly sheet!: TraitViewRef<this, Trait, SheetView> & SheetController[\"sheet\"];\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    initView(mapPanelView: PanelView): void {\n      super.initView(mapPanelView);\n      const mapController = this.owner.map.attachController();\n      this.owner.map.attachContainerView(mapPanelView, mapController);\n    },\n    deinitView(mapPanelView: PanelView): void {\n      const mapController = this.owner.map.controller;\n      if (mapController !== null) {\n        this.owner.map.detachContainerView(mapPanelView, mapController);\n      }\n      super.deinitView(mapPanelView);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        classList: [\"map-panel\"],\n        unitWidth: 1,\n        unitHeight: 1,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly mapPanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: PanelView,\n    observes: true,\n    initView(panelView: PanelView): void {\n      this.owner.mapPanel.insertView(panelView);\n    },\n    didAttachView(panelView: PanelView, targetView: View | null): void {\n      this.owner.panelHeader.setView(panelView.header.view);\n      this.owner.panelTitle.setView(panelView.headerTitle.view);\n      this.owner.panelSubtitle.setView(panelView.headerSubtitle.view);\n    },\n    willDetachView(panelView: PanelView): void {\n      this.owner.panelHeader.setView(null);\n      this.owner.panelTitle.setView(null);\n      this.owner.panelSubtitle.setView(null);\n    },\n    viewWillAttachHeader(headerView: HtmlView): void {\n      this.owner.panelHeader.setView(headerView);\n    },\n    viewDidDetachHeader(headerView: HtmlView): void {\n      this.owner.panelHeader.setView(null);\n    },\n    viewWillAttachHeaderTitle(titleView: HtmlView): void {\n      this.owner.panelTitle.setView(titleView);\n    },\n    viewDidDetachHeaderTitle(titleView: HtmlView): void {\n      this.owner.panelTitle.setView(null);\n    },\n    viewWillAttachHeaderSubtitle(subtitleView: HtmlView): void {\n      this.owner.panelSubtitle.setView(subtitleView);\n    },\n    viewDidDetachHeaderSubtitle(subtitleView: HtmlView): void {\n      this.owner.panelSubtitle.setView(null);\n    },\n    viewDidMount(panelView: PanelView): void {\n      this.owner.consume(panelView);\n    },\n    viewWillUnmount(panelView: PanelView): void {\n      this.owner.unconsume(panelView);\n    },\n  })\n  readonly panel!: ViewRef<this, PanelView> & Observes<PanelView>;\n\n  @ViewRef({\n    viewType: HtmlView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView().header.parentView;\n    },\n    initView(headerView: HtmlView): void {\n      headerView.style.pointerEvents.setIntrinsic(\"none\");\n      this.owner.panel.attachView().header.setView(headerView);\n    },\n    createView(): HtmlView {\n      return this.owner.panel.attachView().header.createView();\n    },\n  })\n  readonly panelHeader!: ViewRef<this, HtmlView>;\n\n  @ViewRef({\n    viewType: HtmlView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView().headerTitle.parentView;\n    },\n    initView(titleView: HtmlView): void {\n      this.owner.panel.attachView().headerTitle.setView(titleView);\n    },\n    setText(title: string | undefined): HtmlView {\n      return this.owner.panel.attachView().headerTitle.set(title);\n    },\n    createView(): HtmlView {\n      return this.owner.panel.attachView().headerTitle.createView();\n    },\n  })\n  readonly panelTitle!: ViewRef<this, HtmlView> & {\n    setText(title: string | undefined): HtmlView,\n  };\n\n  @ViewRef({\n    viewType: HtmlView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView().headerSubtitle.parentView;\n    },\n    initView(subtitleView: HtmlView): void {\n      this.owner.panel.attachView().headerSubtitle.setView(subtitleView);\n    },\n    setText(subtitle: string | undefined): HtmlView {\n      return this.owner.panel.attachView().headerSubtitle.set(subtitle);\n    },\n    createView(): HtmlView {\n      return this.owner.panel.attachView().headerSubtitle.createView();\n    },\n  })\n  readonly panelSubtitle!: ViewRef<this, HtmlView> & {\n    setText(subtitle: string | undefined): HtmlView,\n  };\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Lazy} from \"@swim/util\";\nimport type {Graphics} from \"@swim/graphics\";\nimport {VectorIcon} from \"@swim/graphics\";\nimport type {SheetController} from \"@swim/sheet\";\nimport {AspectTrait} from \"@nstream/domain\";\nimport {AtlasController} from \"./AtlasController\";\n\n/** @public */\nexport class AtlasAspectTrait extends AspectTrait {\n  constructor() {\n    super();\n    this.id.setIntrinsic(\"atlas\");\n    this.title.setIntrinsic(\"Atlas\");\n    this.icon.setIntrinsic(AtlasAspectTrait.icon);\n  }\n\n  override createTabController(): SheetController | null {\n    return (this.constructor as typeof AtlasAspectTrait).sharedController();\n  }\n\n  /** @internal */\n  static SharedController: AtlasController | null | undefined = void 0;\n  static sharedController(): AtlasController | null {\n    let sharedController: AtlasController | null | undefined;\n    if (Object.hasOwnProperty.call(this, \"SharedController\")) {\n      sharedController = this.SharedController;\n    }\n    if (sharedController === void 0) {\n      sharedController = this.createSharedController();\n      Object.defineProperty(this, \"SharedController\", {\n        value: sharedController,\n        enumerable: true,\n        configurable: true,\n      });\n    }\n    return sharedController;\n  }\n\n  static createSharedController(): AtlasController | null {\n    return new AtlasController();\n  }\n\n  /** @internal */\n  @Lazy\n  static get icon(): Graphics {\n    return VectorIcon.create(24, 24, \"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM10 5.47l4 1.4v11.66l-4-1.4V5.47zm-5 .99l3-1.01v11.7l-3 1.16V6.46zm14 11.08l-3 1.01V6.86l3-1.16v11.84z\");\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {GeoShape} from \"@swim/geo\";\nimport {GeoPoint} from \"@swim/geo\";\nimport {Graphics} from \"@swim/graphics\";\nimport {Hyperlink} from \"@swim/controller\";\nimport type {GeoLayerTraitObserver} from \"@swim/map\";\nimport {GeoLayerTrait} from \"@swim/map\";\nimport type {GeoLayerController} from \"@swim/map\";\nimport {AtlasEntityController} from \"./\"; // forward import\n\n/** @public */\nexport interface AtlasEntityTraitObserver<T extends AtlasEntityTrait = AtlasEntityTrait> extends GeoLayerTraitObserver<T> {\n  traitDidSetGeoShape?(geoShape: GeoShape | null, trait: T): void;\n\n  traitDidSetGeoCenter?(geoCenter: GeoPoint | null, trait: T): void;\n\n  traitDidSetGeoIcon?(geoIcon: Graphics | null, trait: T): void;\n}\n\n/** @public */\nexport class AtlasEntityTrait extends GeoLayerTrait {\n  declare readonly observerType?: Class<AtlasEntityTraitObserver>;\n\n  @Property({\n    valueType: GeoShape,\n    value: null,\n    didSetValue(geoShape: GeoShape | null): void {\n      this.owner.callObservers(\"traitDidSetGeoShape\", geoShape, this.owner);\n      this.owner.geoPerspective.setIntrinsic(geoShape);\n      if (geoShape !== null) {\n        this.owner.geoCenter.setIntrinsic(geoShape.bounds.center);\n      }\n    },\n  })\n  readonly geoShape!: Property<this, GeoShape | null>;\n\n  @Property({\n    valueType: GeoPoint,\n    value: null,\n    didSetValue(geoCenter: GeoPoint | null): void {\n      this.owner.callObservers(\"traitDidSetGeoCenter\", geoCenter, this.owner);\n    },\n  })\n  readonly geoCenter!: Property<this, GeoPoint | null>;\n\n  @Property({\n    valueType: Graphics,\n    value: null,\n    didSetValue(geoIcon: Graphics | null): void {\n      this.owner.callObservers(\"traitDidSetGeoIcon\", geoIcon, this.owner);\n    },\n  })\n  readonly geoIcon!: Property<this, Graphics | null>;\n\n  @Property({valueType: Hyperlink, value: null})\n  get hyperlink(): Property<this, Hyperlink | null> {\n    return Property.getter();\n  }\n\n  override createGeoController(): GeoLayerController {\n    return new AtlasEntityController();\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {GeoShape} from \"@swim/geo\";\nimport {GeoPoint} from \"@swim/geo\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {SelectionOptions} from \"@swim/model\";\nimport {SelectableTrait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport type {NumberOrLook} from \"@swim/theme\";\nimport {NumberLook} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\nimport {Feel} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport {Graphics} from \"@swim/graphics\";\nimport {IconLayout} from \"@swim/graphics\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {Hyperlink} from \"@swim/controller\";\nimport {GeoView} from \"@swim/map\";\nimport type {GeoLayerControllerObserver} from \"@swim/map\";\nimport {GeoLayerController} from \"@swim/map\";\nimport {GeoShapeView} from \"@swim/map\";\nimport {GeoIconView} from \"@swim/map\";\nimport {Status} from \"@nstream/domain\";\nimport {EntityTrait} from \"@nstream/domain\";\nimport {AtlasEntityTrait} from \"./AtlasEntityTrait\";\n\n/** @public */\nexport interface AtlasEntityControllerObserver<C extends AtlasEntityController = AtlasEntityController> extends GeoLayerControllerObserver<C> {\n  controllerWillAttachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n\n  controllerDidDetachEntityTrait?(entityTrait: EntityTrait, controller: C): void;\n}\n\n/** @public */\nexport class AtlasEntityController extends GeoLayerController {\n  declare readonly observerType?: Class<AtlasEntityControllerObserver>;\n\n  @Property({\n    valueType: Status,\n    value: Status.unknown(),\n    didSetValue(status: Status): void {\n      this.owner.geo.updateStatus(status);\n    },\n  })\n  readonly status!: Property<this, Status>;\n\n  @TraitRef({\n    traitType: EntityTrait,\n    consumed: true,\n    observes: true,\n    willAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerWillAttachEntityTrait\", entityTrait, this.owner);\n    },\n    didAttachTrait(entityTrait: EntityTrait): void {\n      this.owner.selectable.setTrait(entityTrait.getTrait(SelectableTrait));\n    },\n    initTrait(entityTrait: EntityTrait): void {\n      this.owner.status.bindInlet(entityTrait.status);\n      this.owner.selectable.setTrait(entityTrait.getTrait(SelectableTrait));\n    },\n    deinitTrait(entityTrait: EntityTrait): void {\n      this.owner.selectable.setTrait(null);\n      this.owner.status.unbindInlet(entityTrait.status);\n    },\n    willDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.selectable.setTrait(null);\n    },\n    didDetachTrait(entityTrait: EntityTrait): void {\n      this.owner.callObservers(\"controllerDidDetachEntityTrait\", entityTrait, this.owner);\n    },\n    traitDidInsertTrait(memberTrait: Trait, targetTrait: Trait | null): void {\n      if (memberTrait instanceof SelectableTrait) {\n        this.owner.selectable.setTrait(memberTrait);\n      }\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait> & Observes<EntityTrait>;\n\n  @TraitRef({\n    traitType: SelectableTrait,\n    observes: true,\n    initTrait(selectableTrait: SelectableTrait): void {\n      this.updateSelected(selectableTrait.selected);\n    },\n    traitDidSelect(options: SelectionOptions | null): void {\n      this.updateSelected(true);\n    },\n    traitWillUnselect(): void {\n      this.updateSelected(false);\n    },\n    updateSelected(selected: boolean): void {\n      this.owner.fillOpacity.setIntrinsic(selected ? 0.25 : 0.1);\n      this.owner.strokeOpacity.setIntrinsic(selected ? 0.5 : 0.2);\n    },\n  })\n  readonly selectable!: TraitRef<this, SelectableTrait> & Observes<SelectableTrait> & {\n    updateSelected(selected: boolean): void;\n  };\n\n  @TraitViewRef({\n    extends: true,\n    traitType: AtlasEntityTrait,\n    initTrait(geoTrait: AtlasEntityTrait): void {\n      if (this.owner.entity.trait === null) {\n        this.owner.entity.setTrait(geoTrait.getTrait(EntityTrait));\n      }\n      this.owner.geoPerspective.bindInlet(geoTrait.geoPerspective);\n      this.owner.geoShape.bindInlet(geoTrait.geoShape);\n      this.owner.geoCenter.bindInlet(geoTrait.geoCenter);\n      this.owner.geoIcon.bindInlet(geoTrait.geoIcon);\n      this.owner.hyperlink.bindInlet(geoTrait.hyperlink);\n    },\n    deinitTrait(geoTrait: AtlasEntityTrait): void {\n      this.owner.geoPerspective.unbindInlet(geoTrait.geoPerspective);\n      this.owner.geoShape.unbindInlet(geoTrait.geoShape);\n      this.owner.geoCenter.unbindInlet(geoTrait.geoCenter);\n      this.owner.geoIcon.unbindInlet(geoTrait.geoIcon);\n      this.owner.hyperlink.unbindInlet(geoTrait.hyperlink);\n      if (this.owner.entity.trait === geoTrait.getTrait(EntityTrait)) {\n        this.owner.entity.setTrait(null);\n      }\n    },\n    viewType: GeoView,\n    initView(geoView: GeoView): void {\n      super.initView(geoView);\n      this.updateStatus(this.owner.status.value);\n    },\n    updateStatus(status: Status): void {\n      const geoView = this.view;\n      if (geoView !== null) {\n        geoView.modifyMood(Feel.default, status.moodModifier);\n      }\n    },\n  })\n  override readonly geo!: TraitViewRef<this, AtlasEntityTrait, GeoView> & GeoLayerController[\"geo\"] & {\n    updateStatus(status: Status): void;\n  };\n\n  @ViewRef({\n    viewType: GeoShapeView,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.geo.attachView();\n    },\n    insertChild(parent: View, child: GeoShapeView, target: View | null, key: string | undefined): void {\n      if (target === null) {\n        target = this.owner.icon.view;\n      }\n      parent.insertChild(child, target, key);\n    },\n    initView(shapeView: GeoShapeView): void {\n      super.initView(shapeView);\n      shapeView.geoShape.bindInlet(this.owner.geoShape);\n      shapeView.fill.bindInlet(this.owner.fill);\n      shapeView.fillOpacity.bindInlet(this.owner.fillOpacity);\n      shapeView.stroke.bindInlet(this.owner.stroke);\n      shapeView.strokeOpacity.bindInlet(this.owner.strokeOpacity);\n      shapeView.strokeWidth.bindInlet(this.owner.strokeWidth);\n      shapeView.hyperlink.bindInlet(this.owner.hyperlink);\n    },\n    deinitView(shapeView: GeoShapeView): void {\n      shapeView.geoShape.unbindInlet(this.owner.geoShape);\n      shapeView.fill.unbindInlet(this.owner.fill);\n      shapeView.fillOpacity.unbindInlet(this.owner.fillOpacity);\n      shapeView.stroke.unbindInlet(this.owner.stroke);\n      shapeView.strokeOpacity.unbindInlet(this.owner.strokeOpacity);\n      shapeView.strokeWidth.unbindInlet(this.owner.strokeWidth);\n      shapeView.hyperlink.unbindInlet(this.owner.hyperlink);\n      super.deinitView(shapeView);\n    },\n    viewDidEnter(shapeView: GeoShapeView): void {\n      // hook\n    },\n    viewDidLeave(shapeView: GeoShapeView): void {\n      // hook\n    },\n    viewDidPress(input: PositionGestureInput, event: Event | null, shapeView: GeoShapeView): void {\n      // hook\n    },\n    viewDidLongPress(input: PositionGestureInput, shapeView: GeoShapeView): void {\n      // hook\n    },\n  })\n  readonly shape!: ViewRef<this, GeoShapeView> & Observes<GeoShapeView>;\n\n  @Property({\n    valueType: GeoShape,\n    value: null,\n    didSetValue(geoShape: GeoShape | null): void {\n      this.owner.geoPerspective.setIntrinsic(geoShape);\n      if (geoShape !== null) {\n        this.owner.shape.insertView();\n      } else {\n        this.owner.shape.deleteView();\n      }\n    },\n  })\n  readonly geoShape!: Property<this, GeoShape | null>;\n\n  @Property({\n    valueType: ColorLook,\n    value: Look.accentColor,\n    transition: true,\n  })\n  get fill(): Property<this, ColorOrLook | null> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: NumberLook,\n    value: 0.1,\n    transition: true,\n  })\n  get fillOpacity(): Property<this, NumberOrLook | undefined> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: ColorLook,\n    value: Look.accentColor,\n    transition: true,\n  })\n  get stroke(): Property<this, ColorOrLook | null> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: NumberLook,\n    value: 0.2,\n    transition: true,\n  })\n  get strokeOpacity(): Property<this, NumberOrLook | undefined> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: Length,\n    value: 1,\n    transition: true,\n  })\n  get strokeWidth(): Property<this, Length | null> {\n    return Property.getter();\n  }\n\n  @ViewRef({\n    viewType: GeoIconView,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.geo.attachView();\n    },\n    initView(iconView: GeoIconView): void {\n      super.initView(iconView);\n      iconView.geoCenter.bindInlet(this.owner.geoCenter);\n      iconView.iconLayout.bindInlet(this.owner.iconLayout);\n      iconView.iconColor.bindInlet(this.owner.iconColor);\n      iconView.graphics.bindInlet(this.owner.geoIcon);\n      iconView.hyperlink.bindInlet(this.owner.hyperlink);\n    },\n    deinitView(iconView: GeoIconView): void {\n      iconView.geoCenter.unbindInlet(this.owner.geoCenter);\n      iconView.iconLayout.unbindInlet(this.owner.iconLayout);\n      iconView.iconColor.unbindInlet(this.owner.iconColor);\n      iconView.graphics.unbindInlet(this.owner.geoIcon);\n      iconView.hyperlink.unbindInlet(this.owner.hyperlink);\n      super.deinitView(iconView);\n    },\n    viewDidEnter(iconView: GeoIconView): void {\n      // hook\n    },\n    viewDidLeave(iconView: GeoIconView): void {\n      // hook\n    },\n    viewDidPress(input: PositionGestureInput, event: Event | null, iconView: GeoIconView): void {\n      // hook\n    },\n    viewDidLongPress(input: PositionGestureInput, iconView: GeoIconView): void {\n      // hook\n    },\n  })\n  readonly icon!: ViewRef<this, GeoIconView> & Observes<GeoIconView>;\n\n  @Property({\n    valueType: Graphics,\n    value: null,\n    didSetValue(icon: Graphics | null): void {\n      if (icon !== null) {\n        this.owner.icon.insertView();\n      } else {\n        this.owner.icon.deleteView();\n      }\n    },\n  })\n  readonly geoIcon!: Property<this, Graphics | null>;\n\n  @Property({\n    valueType: GeoPoint,\n    value: null,\n    transition: true,\n  })\n  readonly geoCenter!: Property<this, GeoPoint | null>;\n\n  @Property({\n    valueType: IconLayout,\n    value: IconLayout.of(16, 16),\n  })\n  get iconLayout(): Property<this, IconLayout | null> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: ColorLook,\n    value: Look.accentColor,\n    transition: true,\n  })\n  get iconColor(): Property<this, ColorOrLook | null> {\n    return Property.getter();\n  }\n\n  @Property({valueType: Hyperlink, value: null})\n  get hyperlink(): Property<this, Hyperlink | null> {\n    return Property.getter();\n  }\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Timing} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Format} from \"@swim/codec\";\nimport {Provider} from \"@swim/component\";\nimport {Angle} from \"@swim/math\";\nimport {Length} from \"@swim/math\";\nimport type {DateTime} from \"@swim/time\";\nimport {DateTimeFormat} from \"@swim/time\";\nimport type {Trait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {HtmlView} from \"@swim/dom\";\nimport type {GraphicsPointerEvent} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {CanvasView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {PanelView} from \"@swim/panel\";\nimport type {PanelControllerObserver} from \"@swim/panel\";\nimport {PanelController} from \"@swim/panel\";\nimport {DialView} from \"@swim/gauge\";\nimport {GaugeView} from \"@swim/gauge\";\nimport {DataPointView} from \"@swim/chart\";\nimport {SeriesPlotView} from \"@swim/chart\";\nimport {LinePlotView} from \"@swim/chart\";\nimport {GraphView} from \"@swim/chart\";\nimport {TickView} from \"@swim/chart\";\nimport {TopTickView} from \"@swim/chart\";\nimport {AxisView} from \"@swim/chart\";\nimport {TopAxisView} from \"@swim/chart\";\nimport {ChartView} from \"@swim/chart\";\nimport {CalendarService} from \"@nstream/domain\";\n\n/** @public */\nexport interface TimeGaugeControllerObserver<C extends TimeGaugeController = TimeGaugeController> extends PanelControllerObserver<C> {\n}\n\n/** @public */\nexport class TimeGaugeController extends PanelController {\n  declare readonly observerType?: Class<TimeGaugeControllerObserver>;\n\n  protected formatPanelTitle(dataPointView: DataPointView<DateTime, number>): string | undefined {\n    return void 0;\n  }\n\n  protected formatPanelSubtitle(dataPointView: DataPointView<DateTime, number>): string | undefined {\n    const time = dataPointView.x.getValue();\n    return this.formatDate(time);\n  }\n\n  protected formatDialLabel(value: number, limit: number): string | undefined {\n    return void 0;\n  }\n\n  protected formatDialLegend(value: number, limit: number): string | undefined {\n    return void 0;\n  }\n\n  protected formatGaugeTitle(value: number, limit: number): string | undefined {\n    return Format.prefix(value, 1);\n  }\n\n  protected formatDate(time: DateTime): string {\n    return (this.constructor as typeof TimeGaugeController).dateFormat.format(time);\n  }\n\n  @TraitViewRef({\n    extends: true,\n    viewDidMount(panelView: PanelView): void {\n      this.owner.consume(panelView);\n    },\n    viewWillUnmount(panelView: PanelView): void {\n      this.owner.unconsume(panelView);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        classList: [\"time-gauge\"],\n        style: {\n          userSelect: \"none\",\n        },\n        panelStyle: \"card\",\n      });\n    },\n  })\n  override readonly panel!: TraitViewRef<this, Trait, PanelView> & PanelController[\"panel\"];\n\n  @ViewRef({\n    extends: true,\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void {\n      const title = this.owner.formatPanelTitle(dataPointView);\n      if (title !== void 0) {\n        this.set(title);\n      }\n    },\n  })\n  override readonly panelTitle!: ViewRef<this, HtmlView> & PanelController[\"panelTitle\"] & {\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void,\n  };\n\n  @ViewRef({\n    extends: true,\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void {\n      const subtitle = this.owner.formatPanelSubtitle(dataPointView);\n      if (subtitle !== void 0) {\n        this.set(subtitle);\n      }\n    },\n    updateScrubTime(scrubTime: DateTime | null): void {\n      const subtitleView = this.view;\n      if (subtitleView === null) {\n        return;\n      } else if (scrubTime !== null) {\n        subtitleView.style.color.setIntrinsic(Look.textColor, true);\n      } else {\n        subtitleView.style.color.setIntrinsic(Look.labelColor, true);\n      }\n    },\n  })\n  override readonly panelSubtitle!: ViewRef<this, HtmlView> & PanelController[\"panelSubtitle\"] & {\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void,\n    updateScrubTime(scrubTime: DateTime | null): void,\n  };\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    insertChild(parent: View, child: PanelView, target: View | null, key: string | undefined): void {\n      if (target === null) {\n        target = this.owner.chartPanel.view;\n      }\n      parent.insertChild(child, target, key);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        style: {\n          marginTop: 24,\n        },\n        unitWidth: 1,\n        unitHeight: 4 / 5,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly gaugePanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: CanvasView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.gaugePanel.insertView();\n    },\n  })\n  readonly gaugeCanvas!: ViewRef<this, CanvasView>;\n\n  @ViewRef({\n    viewType: GaugeView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.gaugeCanvas.insertView();\n    },\n    didAttachView(gaugeView: GaugeView): void {\n      this.owner.gaugeTitle.setView(gaugeView.title.view);\n    },\n    willDetachView(gaugeView: GaugeView): void {\n      this.owner.gaugeTitle.setView(null);\n    },\n    viewWillAttachTitle(titleView: GraphicsView): void {\n      this.owner.gaugeTitle.setView(titleView);\n    },\n    viewDidDetachTitle(titleView: GraphicsView): void {\n      this.owner.gaugeTitle.setView(null);\n    },\n    createView(): GaugeView {\n      return new GaugeView().setIntrinsic({\n        innerRadius: Length.pct(35),\n        outerRadius: Length.pct(45),\n        startAngle: Angle.rad(Math.PI * 5 / 8),\n        sweepAngle: Angle.rad(Math.PI * 11 / 8),\n        cornerRadius: Length.zero(),\n        tickAlign: 0.5,\n        tickRadius: Length.pct(50),\n        tickLength: Length.pct(45),\n        font: Look.font,\n      });\n    },\n  })\n  readonly gauge!: ViewRef<this, GaugeView> & Observes<GaugeView>;\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: \"title\",\n    get parentView(): View | null {\n      return this.owner.gauge.attachView();\n    },\n    initView(titleView: GraphicsView): void {\n      if (titleView instanceof TextRunView) {\n        titleView.font.setInherits(false);\n        titleView.font.setIntrinsic(Look.largeFont);\n        titleView.textColor.setIntrinsic(Look.textColor);\n      }\n    },\n    setText(title: string | undefined): GraphicsView {\n      return this.owner.gauge.attachView().title.set(title);\n    },\n  })\n  readonly gaugeTitle!: ViewRef<this, GraphicsView> & {\n    setText(title: string | undefined): GraphicsView,\n  };\n\n  @ViewRef({\n    viewType: DialView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.gauge.insertView();\n    },\n    initView(dialView: DialView): void {\n      this.updateValue(dialView.value.value, dialView.limit.value);\n    },\n    didAttachView(dialView: DialView): void {\n      this.owner.dialLabel.setView(dialView.label.view);\n      this.owner.dialLegend.setView(dialView.legend.view);\n    },\n    willDetachView(dialView: DialView): void {\n      this.owner.dialLabel.setView(null);\n      this.owner.dialLegend.setView(null);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.owner.dialLabel.setView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.owner.dialLabel.setView(null);\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.owner.dialLegend.setView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.owner.dialLegend.setView(null);\n    },\n    viewDidSetValue(value: number, dialView: DialView): void {\n      this.updateValue(value, dialView.limit.value);\n    },\n    viewDidSetLimit(limit: number, dialView: DialView): void {\n      this.updateValue(dialView.value.value, limit);\n    },\n    updateValue(value: number, limit: number): void {\n      const title = this.owner.formatGaugeTitle(value, limit);\n      if (title !== void 0) {\n        this.owner.gaugeTitle.setText(title);\n      }\n      const label = this.owner.formatDialLabel(value, limit);\n      if (label !== void 0) {\n        this.owner.dialLabel.setText(label);\n      }\n      const legend = this.owner.formatDialLegend(value, limit);\n      if (legend !== void 0) {\n        this.owner.dialLegend.setText(legend);\n      }\n    },\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void {\n      const dialView = this.attachView();\n      let timing: Timing | undefined;\n      if (dialView.value.tweening) {\n        timing = void 0;\n      } else {\n        timing = dialView.getLookOr(Look.timing, void 0);\n      }\n\n      const dialValue = dataPointView.y.getValue();\n      dialView.value.setIntrinsic(dialValue, timing);\n\n      if (dataPointView.color.look !== null) {\n        dialView.meterColor.setIntrinsic(dataPointView.color.look, timing);\n        dialView.moodModifier.setIntrinsic(dataPointView.moodModifier.value);\n        if (dialView.theme.value !== null && dialView.mood.value !== null) {\n          dialView.applyTheme(dialView.theme.value, dialView.mood.value, timing);\n        }\n      } else if (dataPointView.color.value !== null) {\n        dialView.meterColor.setIntrinsic(dataPointView.color.value, timing);\n        dialView.moodModifier.setIntrinsic(null);\n      } else {\n        dialView.meterColor.setIntrinsic(Look.accentColor, timing);\n        dialView.moodModifier.setIntrinsic(null);\n        if (dialView.theme.value !== null && dialView.mood.value !== null) {\n          dialView.applyTheme(dialView.theme.value, dialView.mood.value, timing);\n        }\n      }\n    },\n  })\n  readonly dial!: ViewRef<this, DialView> & Observes<DialView> & {\n    updateValue(value: number, limit: number): void,\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void,\n  };\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: \"label\",\n    get parentView(): View | null {\n      return this.owner.dial.attachView();\n    },\n    initView(labelView: GraphicsView): void {\n      if (labelView instanceof TextRunView) {\n        labelView.font.setInherits(false);\n        labelView.font.setIntrinsic(Look.smallFont);\n        labelView.textColor.setIntrinsic(Look.labelColor);\n      }\n    },\n    setText(label: string | undefined): GraphicsView {\n      return this.owner.dial.attachView().label.set(label);\n    },\n  })\n  readonly dialLabel!: ViewRef<this, GraphicsView> & {\n    setText(label: string | undefined): GraphicsView,\n  };\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: \"legend\",\n    get parentView(): View | null {\n      return this.owner.dial.attachView();\n    },\n    initView(legendView: GraphicsView): void {\n      if (legendView instanceof TextRunView) {\n        legendView.font.setInherits(false);\n        legendView.font.setIntrinsic(Look.smallFont);\n        legendView.textColor.setIntrinsic(Look.labelColor);\n      }\n    },\n    setText(legend: string | undefined): GraphicsView {\n      return this.owner.dial.attachView().legend.set(legend);\n    },\n  })\n  readonly dialLegend!: ViewRef<this, GraphicsView> & {\n    setText(legend: string | undefined): GraphicsView,\n  };\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        unitWidth: 1,\n        unitHeight: 1 / 5,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly chartPanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: CanvasView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chartPanel.insertView();\n    },\n    createView(): CanvasView {\n      return (super.createView() as CanvasView).setIntrinsic({\n        pointerEvents: true,\n      });\n    },\n  })\n  readonly chartCanvas!: ViewRef<this, CanvasView>;\n\n  @ViewRef({\n    viewType: ChartView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chartCanvas.insertView();\n    },\n    didAttachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(chartView.graph.view);\n    },\n    willDetachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    viewWillAttachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(graphView);\n    },\n    viewDidDetachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    viewDidSetYScale(yScale: ContinuousScale<number, number> | null): void {\n      if (yScale !== null) {\n        this.owner.dial.attachView().setIntrinsic({\n          limit: yScale.domain[1],\n        });\n      }\n    },\n    createView(): ChartView<DateTime, number> {\n      const chartView = super.createView() as ChartView<DateTime, number>;\n      chartView.domainTracking(true);\n      return chartView.setIntrinsic({\n        gutterTop: 6,\n        gutterRight: 12,\n        gutterBottom: 12,\n        gutterLeft: 12,\n      });\n    },\n  })\n  readonly chart!: ViewRef<this, ChartView<DateTime, number>> & Observes<ChartView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: AxisView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(tickAxisView: AxisView<DateTime>): void {\n      const scrubTime = this.owner.calendar.getService().scrubTime.value;\n      this.owner.currentTick.updateScrubTime(scrubTime);\n    },\n    createView(): AxisView<DateTime> {\n      return new TopAxisView<DateTime>().setIntrinsic({\n        tickGenerator: null,\n        tickMarkWidth: 2,\n        tickMarkLength: 6,\n        tickMarkColor: Look.textColor,\n        gridLineWidth: 2,\n        gridLineColor: Look.textColor,\n        borderWidth: 0,\n      });\n    },\n  })\n  readonly tickAxis!: ViewRef<this, AxisView<DateTime>>;\n\n  @ViewRef({\n    viewType: TickView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.tickAxis.view;\n    },\n    updateScrubTime(scrubTime: DateTime | null): void {\n      if (scrubTime === null) {\n        this.deleteView();\n        return;\n      }\n      const currentTickView = new TopTickView<DateTime>(scrubTime).setIntrinsic({\n        gridLineWidth: 1,\n      });\n      currentTickView.setIntangible(true);\n      this.insertView(null, currentTickView);\n    },\n  })\n  readonly currentTick!: ViewRef<this, TickView<DateTime>> & {\n    updateScrubTime(scrubTime: DateTime | null): void,\n  };\n\n  @ViewRef({\n    viewType: GraphView,\n    viewKey: true,\n    init(): void {\n      this.onPointerMove = this.onPointerMove.bind(this);\n      this.onPointerEnter = this.onPointerEnter.bind(this);\n      this.onPointerLeave = this.onPointerLeave.bind(this);\n    },\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(graphView: GraphView<DateTime, number>): void {\n      graphView.addEventListener(\"pointermove\", this.onPointerMove);\n      graphView.addEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.addEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    deinitView(graphView: GraphView<DateTime, number>): void {\n      graphView.removeEventListener(\"pointermove\", this.onPointerMove);\n      graphView.removeEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.removeEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    updatePointer(event: GraphicsPointerEvent): void {\n      const graphView = this.view;\n      const xScale = graphView !== null ? graphView.xScale.value : null;\n      if (xScale !== null) {\n        const clientBounds = graphView!.clientBounds;\n        const x = event.clientX - clientBounds.x;\n        const t = xScale.inverse(x);\n        this.owner.calendar.getService().scrubTime.setIntrinsic(t);\n      }\n    },\n    onPointerMove(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerEnter(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerLeave(event: GraphicsPointerEvent): void {\n      this.owner.calendar.getService().scrubTime.setIntrinsic(null);\n    },\n  })\n  readonly graph!: ViewRef<this, GraphView<DateTime, number>> & {\n    updatePointer(event: GraphicsPointerEvent): void,\n    onPointerMove(event: GraphicsPointerEvent): void,\n    onPointerEnter(event: GraphicsPointerEvent): void,\n    onPointerLeave(event: GraphicsPointerEvent): void,\n  };\n\n  @ViewRef({\n    viewType: SeriesPlotView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.graph.insertView();\n    },\n    didAttachView(plotView: SeriesPlotView<DateTime, number>, targetView: View | null): void {\n      this.owner.dataPoints.setViews(plotView.dataPoints.views);\n    },\n    willDetachView(plotView: SeriesPlotView<DateTime, number>): void {\n      this.owner.dataPoints.deleteViews();\n    },\n    viewWillAttachDataPoint(dataPointView: DataPointView<DateTime, number>, targetView: View | null): void {\n      this.owner.dataPoints.addView(dataPointView, targetView);\n    },\n    viewDidDetachDataPoint(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.dataPoints.removeView(dataPointView);\n    },\n    createView(): SeriesPlotView<DateTime, number> {\n      return new LinePlotView<DateTime, number>().setIntrinsic({\n        hitMode: \"none\",\n        strokeWidth: 1,\n      });\n    },\n  })\n  readonly plot!: ViewRef<this, SeriesPlotView<DateTime, number>> & Observes<SeriesPlotView<DateTime, number>>;\n\n  @ViewSet({\n    viewType: DataPointView,\n    get parentView(): View | null {\n      return this.owner.plot.attachView();\n    },\n  })\n  readonly dataPoints!: ViewSet<this, DataPointView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: DataPointView,\n    get parentView(): View | null {\n      return this.owner.plot.attachView();\n    },\n    didAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      if (this.owner.calendar.getService().scrubTime.value === null) {\n        this.owner.current.setView(dataPointView);\n      }\n    },\n    didDetachView(dataPointView: DataPointView<DateTime, number>): void {\n      dataPointView.remove();\n    },\n  })\n  readonly latest!: ViewRef<this, DataPointView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: DataPointView,\n    didAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.panelTitle.setCurrent(dataPointView);\n      this.owner.panelSubtitle.setCurrent(dataPointView);\n      this.owner.dial.setCurrent(dataPointView);\n    },\n  })\n  readonly current!: ViewRef<this, DataPointView<DateTime, number>>;\n\n  @Provider({\n    serviceType: CalendarService,\n    observes: true,\n    serviceDidSetScrubTime(scrubTime: DateTime | null): void {\n      let dataPointView: DataPointView<DateTime, number> | null | undefined = null;\n      if (scrubTime !== null) {\n        const plotView = this.owner.plot.view;\n        if (plotView !== null) {\n          dataPointView = plotView.dataPointViews.get(scrubTime);\n          if (dataPointView === void 0) {\n            dataPointView = plotView.dataPointViews.previousValue(scrubTime);\n            if (dataPointView === void 0) {\n              dataPointView = null;\n            }\n          }\n        }\n      } else {\n        dataPointView = this.owner.latest.view;\n      }\n      this.owner.current.setView(dataPointView);\n      this.owner.currentTick.updateScrubTime(scrubTime);\n      this.owner.panelSubtitle.updateScrubTime(scrubTime);\n    },\n  })\n  readonly calendar!: Provider<this, CalendarService> & Observes<CalendarService>;\n\n  static dateFormat: DateTimeFormat = DateTimeFormat.pattern(\"%b %d @ %H:%M\");\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Format} from \"@swim/codec\";\nimport {Property} from \"@swim/component\";\nimport {Provider} from \"@swim/component\";\nimport type {DateTime} from \"@swim/time\";\nimport {Look} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {PositionGestureInput} from \"@swim/view\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {CellView} from \"@swim/table\";\nimport {TextCellView} from \"@swim/table\";\nimport {LeafView} from \"@swim/table\";\nimport {RowView} from \"@swim/table\";\nimport {SliceView} from \"@swim/pie\";\nimport {DataPointView} from \"@swim/chart\";\nimport {SeriesPlotView} from \"@swim/chart\";\nimport {LinePlotView} from \"@swim/chart\";\nimport {CalendarService} from \"@nstream/domain\";\n\n/** @public */\nexport interface TimeSeriesControllerObserver<C extends TimeSeriesController = TimeSeriesController> extends ControllerObserver<C> {\n  controllerDidSetTitle?(title: string, controller: C): void;\n\n  controllerDidSetFocused?(focused: boolean, controller: C): void;\n\n  controllerDidSetPinned?(pinned: boolean, controller: C): void;\n\n  controllerWillAttachPlot?(plotView: SeriesPlotView<DateTime, number>, targetView: View | null, controller: C): void;\n\n  controllerDidDetachPlot?(plotView: SeriesPlotView<DateTime, number>, controller: C): void;\n\n  controllerWillAttachSlice?(sliceView: SliceView, targetView: View | null, controller: C): void;\n\n  controllerDidDetachSlice?(sliceView: SliceView, controller: C): void;\n\n  controllerWillAttachRow?(rowView: RowView, targetView: View | null, controller: C): void;\n\n  controllerDidDetachRow?(rowView: RowView, controller: C): void;\n\n  controllerWillAttachLatest?(dataPointView: DataPointView<DateTime, number>, controller: C): void;\n\n  controllerDidDetachLatest?(dataPointView: DataPointView<DateTime, number>, controller: C): void;\n\n  controllerWillAttachCurrent?(dataPointView: DataPointView<DateTime, number>, controller: C): void;\n\n  controllerDidDetachCurrent?(dataPointView: DataPointView<DateTime, number>, controller: C): void;\n}\n\n/** @public */\nexport class TimeSeriesController extends Controller {\n  declare readonly observerType?: Class<TimeSeriesControllerObserver>;\n\n  protected formatLatestCell(dataPointView: DataPointView<DateTime, number>): string | undefined {\n    return this.formatCell(dataPointView);\n  }\n\n  protected formatCurrentCell(dataPointView: DataPointView<DateTime, number>): string | undefined {\n    return this.formatCell(dataPointView);\n  }\n\n  protected formatCell(dataPointView: DataPointView<DateTime, number>): string | undefined {\n    const value = dataPointView.y.getValue();\n    return Format.prefix(value, 1);\n  }\n\n  protected formatSliceLabel(value: number, total: number): string | undefined {\n    return void 0;\n  }\n\n  protected formatSliceLegend(value: number, total: number): string | null | undefined {\n    return void 0;\n  }\n\n  protected applySliceStatus(sliceView: SliceView, dataPointView: DataPointView<DateTime, number>, timing: Timing | undefined): void {\n    if (dataPointView.color.look !== null) {\n      sliceView.sliceColor.setIntrinsic(dataPointView.color.look, timing);\n      sliceView.moodModifier.setIntrinsic(dataPointView.moodModifier.value);\n      if (sliceView.theme.value !== null && sliceView.mood.value !== null) {\n        sliceView.applyTheme(sliceView.theme.value, sliceView.mood.value, timing);\n      }\n    } else if (dataPointView.color.value !== null) {\n      sliceView.sliceColor.setIntrinsic(dataPointView.color.value, timing);\n      sliceView.moodModifier.setIntrinsic(null);\n    } else {\n      sliceView.sliceColor.setIntrinsic(Look.accentColor, timing);\n      sliceView.moodModifier.setIntrinsic(null);\n      if (sliceView.theme.value !== null && sliceView.mood.value !== null) {\n        sliceView.applyTheme(sliceView.theme.value, sliceView.mood.value, timing);\n      }\n    }\n  }\n\n  @Property({\n    valueType: String,\n    value: \"\",\n    didSetValue(title: string): void {\n      this.owner.callObservers(\"controllerDidSetTitle\", title, this.owner);\n    },\n  })\n  readonly title!: Property<this, string>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(focused: boolean): void {\n      this.owner.callObservers(\"controllerDidSetFocused\", focused, this.owner);\n    },\n  })\n  readonly focused!: Property<this, boolean>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(defocused: boolean): void {\n      const plotView = this.owner.plot.view;\n      if (plotView !== null) {\n        const timing = plotView.getLook(Look.timing);\n        if (defocused && !this.owner.focused.value) {\n          plotView.opacity.setIntrinsic(0.5, timing);\n        } else {\n          plotView.opacity.setIntrinsic(1, timing);\n        }\n      }\n      const leafView = this.owner.leaf.view;\n      if (leafView !== null) {\n        const timing = leafView.getLook(Look.timing);\n        if (defocused && !this.owner.focused.value) {\n          leafView.style.opacity.setIntrinsic(0.5, timing);\n        } else {\n          leafView.style.opacity.setIntrinsic(1, timing);\n        }\n      }\n    },\n  })\n  readonly defocused!: Property<this, boolean>;\n\n  @Property({\n    valueType: Boolean,\n    value: false,\n    didSetValue(pinned: boolean): void {\n      this.owner.callObservers(\"controllerDidSetPinned\", pinned, this.owner);\n    },\n    update(): void {\n      const leafView = this.owner.leaf.view;\n      const hovering = leafView !== null && leafView.hover.state.focused;\n      const highlighted = leafView !== null && leafView.highlight.state.focused;\n      const pinned = hovering || highlighted;\n      this.setIntrinsic(pinned);\n    },\n  })\n  readonly pinned!: Property<this, boolean> & {\n    update(): void,\n  };\n\n  @ViewRef({\n    viewType: SeriesPlotView,\n    observes: true,\n    init(): void {\n      this.onPointerEnter = this.onPointerEnter.bind(this);\n      this.onPointerLeave = this.onPointerLeave.bind(this);\n    },\n    willAttachView(plotView: SeriesPlotView<DateTime, number>, targetView: View | null): void {\n      this.owner.callObservers(\"controllerWillAttachPlot\", plotView, targetView, this.owner);\n    },\n    didAttachView(plotView: SeriesPlotView<DateTime, number>, targetView: View | null): void {\n      this.owner.dataPoints.setViews(plotView.dataPoints.views);\n      plotView.addEventListener(\"pointerenter\", this.onPointerEnter);\n      plotView.addEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    willDetachView(plotView: SeriesPlotView<DateTime, number>): void {\n      plotView.removeEventListener(\"pointerenter\", this.onPointerEnter);\n      plotView.removeEventListener(\"pointerleave\", this.onPointerLeave);\n      this.owner.dataPoints.deleteViews();\n    },\n    didDetachView(plotView: SeriesPlotView<DateTime, number>): void {\n      this.owner.callObservers(\"controllerDidDetachPlot\", plotView, this.owner);\n    },\n    viewWillAttachDataPoint(dataPointView: DataPointView<DateTime, number>, targetView: View | null): void {\n      this.owner.dataPoints.addView(dataPointView, targetView);\n    },\n    viewDidDetachDataPoint(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.dataPoints.removeView(dataPointView);\n    },\n    onPointerEnter(event: PointerEvent): void {\n      this.owner.focused.setIntrinsic(true);\n    },\n    onPointerLeave(event: PointerEvent): void {\n      this.owner.focused.setIntrinsic(false);\n    },\n    createView(): SeriesPlotView<DateTime, number> {\n      return new LinePlotView<DateTime, number>().setIntrinsic({\n        hitMode: \"plot\",\n        strokeWidth: 1,\n      });\n    },\n  })\n  readonly plot!: ViewRef<this, SeriesPlotView<DateTime, number>> & Observes<SeriesPlotView<DateTime, number>> & {\n    onPointerEnter(event: PointerEvent): void,\n    onPointerLeave(event: PointerEvent): void,\n  };\n\n  @ViewSet({\n    viewType: DataPointView,\n    get parentView(): View | null {\n      return this.owner.plot.attachView();\n    },\n  })\n  readonly dataPoints!: ViewSet<this, DataPointView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: DataPointView,\n    get parentView(): View | null {\n      return this.owner.plot.attachView();\n    },\n    willAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.callObservers(\"controllerWillAttachLatest\", dataPointView, this.owner);\n    },\n    didAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.latestCell.setLatest(dataPointView);\n      if (this.owner.calendar.getService().scrubTime.value === null) {\n        this.owner.current.setView(dataPointView);\n      }\n    },\n    didDetachView(dataPointView: DataPointView<DateTime, number>): void {\n      dataPointView.remove();\n      this.owner.callObservers(\"controllerDidDetachLatest\", dataPointView, this.owner);\n    },\n  })\n  readonly latest!: ViewRef<this, DataPointView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: DataPointView,\n    willAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.callObservers(\"controllerWillAttachCurrent\", dataPointView, this.owner);\n    },\n    didAttachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.slice.setCurrent(dataPointView);\n      this.owner.currentCell.setCurrent(dataPointView);\n    },\n    didDetachView(dataPointView: DataPointView<DateTime, number>): void {\n      this.owner.callObservers(\"controllerDidDetachCurrent\", dataPointView, this.owner);\n    },\n  })\n  readonly current!: ViewRef<this, DataPointView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: SliceView,\n    observes: true,\n    init(): void {\n      this.onPointerEnter = this.onPointerEnter.bind(this);\n      this.onPointerLeave = this.onPointerLeave.bind(this);\n    },\n    initView(sliceView: SliceView): void {\n      this.updateValue(sliceView.value.value, sliceView.total.value);\n    },\n    willAttachView(sliceView: SliceView, targetView: View | null): void {\n      this.owner.callObservers(\"controllerWillAttachSlice\", sliceView, targetView, this.owner);\n    },\n    didAttachView(sliceView: SliceView, targetView: View | null): void {\n      this.owner.sliceLabel.setView(sliceView.label.view);\n      this.owner.sliceLegend.setView(sliceView.legend.view);\n      sliceView.addEventListener(\"pointerenter\", this.onPointerEnter);\n      sliceView.addEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    willDetachView(sliceView: SliceView): void {\n      sliceView.removeEventListener(\"pointerenter\", this.onPointerEnter);\n      sliceView.removeEventListener(\"pointerleave\", this.onPointerLeave);\n      this.owner.sliceLabel.setView(null);\n      this.owner.sliceLegend.setView(null);\n    },\n    didDetachView(sliceView: SliceView): void {\n      this.owner.callObservers(\"controllerDidDetachSlice\", sliceView, this.owner);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.owner.sliceLabel.setView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.owner.sliceLabel.setView(null);\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.owner.sliceLegend.setView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.owner.sliceLegend.setView(null);\n    },\n    onPointerEnter(event: PointerEvent): void {\n      this.owner.focused.setIntrinsic(true);\n    },\n    onPointerLeave(event: PointerEvent): void {\n      this.owner.focused.setIntrinsic(false);\n    },\n    viewDidSetValue(value: number, sliceView: SliceView): void {\n      this.updateValue(value, sliceView.total.value);\n    },\n    viewDidSetTotal(total: number, sliceView: SliceView): void {\n      this.updateValue(sliceView.value.value, total);\n    },\n    updateValue(value: number, total: number): void {\n      const label = this.owner.formatSliceLabel(value, total);\n      if (label !== void 0) {\n        this.owner.sliceLabel.setText(label);\n      }\n      const legend = this.owner.formatSliceLegend(value, total);\n      if (legend !== void 0) {\n        if (legend !== null) {\n          this.owner.sliceLegend.setText(legend);\n        } else {\n          this.owner.sliceLegend.deleteView();\n        }\n      }\n    },\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void {\n      const sliceView = this.view;\n      if (sliceView === null) {\n        return;\n      }\n      let timing: Timing | undefined;\n      if (sliceView.value.tweening) {\n        timing = void 0;\n      } else {\n        timing = sliceView.getLookOr(Look.timing, void 0);\n      }\n\n      const sliceValue = dataPointView.y.getValue();\n      sliceView.value.setIntrinsic(sliceValue, timing);\n\n      this.owner.applySliceStatus(sliceView, dataPointView, timing);\n    },\n  })\n  readonly slice!: ViewRef<this, SliceView> & Observes<SliceView> & {\n    onPointerEnter(event: PointerEvent): void,\n    onPointerLeave(event: PointerEvent): void,\n    updateValue(value: number, total: number): void,\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void,\n  };\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: \"label\",\n    get parentView(): View | null {\n      return this.owner.slice.attachView();\n    },\n    initView(labelView: GraphicsView): void {\n      if (labelView instanceof TextRunView) {\n        labelView.font.setInherits(false);\n        labelView.font.setIntrinsic(Look.smallFont);\n        labelView.textColor.setIntrinsic(Look.backgroundColor);\n      }\n    },\n    setText(label: string | undefined): GraphicsView {\n      return this.owner.slice.attachView().label.set(label);\n    },\n  })\n  readonly sliceLabel!: ViewRef<this, GraphicsView> & {\n    setText(label: string | undefined): GraphicsView,\n  };\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: \"legend\",\n    get parentView(): View | null {\n      return this.owner.slice.attachView();\n    },\n    initView(legendView: GraphicsView): void {\n      if (legendView instanceof TextRunView) {\n        legendView.font.setInherits(false);\n        legendView.font.setIntrinsic(Look.smallFont);\n        legendView.textColor.setIntrinsic(Look.labelColor);\n      }\n    },\n    setText(legend: string | undefined): GraphicsView {\n      return this.owner.slice.attachView().legend.set(legend);\n    },\n  })\n  readonly sliceLegend!: ViewRef<this, GraphicsView> & {\n    setText(legend: string | undefined): GraphicsView,\n  };\n\n  @ViewRef({\n    viewType: RowView,\n    observes: true,\n    willAttachView(rowView: RowView, targetView: View | null): void {\n      this.owner.callObservers(\"controllerWillAttachRow\", rowView, targetView, this.owner);\n    },\n    didAttachView(rowView: RowView, targetView: View | null): void {\n      this.owner.leaf.setView(rowView.leaf.view, targetView);\n    },\n    willDetachView(rowView: RowView): void {\n      this.owner.leaf.setView(null);\n    },\n    didDetachView(rowView: RowView): void {\n      this.owner.callObservers(\"controllerDidDetachRow\", rowView, this.owner);\n    },\n    viewWillAttachLeaf(leafView: LeafView, targetView: View | null): void {\n      this.owner.leaf.setView(leafView, targetView);\n    },\n    viewDidDetachLeaf(leafView: LeafView): void {\n      this.owner.leaf.setView(null);\n    },\n  })\n  readonly row!: ViewRef<this, RowView> & Observes<RowView>;\n\n  @ViewRef({\n    viewType: LeafView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.row.attachView();\n    },\n    didAttachView(leafView: LeafView, targetView: View | null): void {\n      this.owner.cells.setViews(leafView.cells.views);\n    },\n    willDetachView(leafView: LeafView): void {\n      this.owner.cells.deleteViews();\n    },\n    viewWillAttachCell(cellView: CellView, targetView: View | null): void {\n      this.owner.cells.addView(cellView, targetView);\n    },\n    viewDidDetachCell(cellView: CellView): void {\n      this.owner.cells.removeView(cellView);\n    },\n    viewDidEnter(leafView: LeafView): void {\n      if (leafView.hovers.value) {\n        this.owner.focused.setIntrinsic(true);\n        this.owner.pinned.update();\n      }\n    },\n    viewDidLeave(leafView: LeafView): void {\n      if (leafView.hovers.value) {\n        this.owner.focused.setIntrinsic(false);\n        this.owner.pinned.update();\n      }\n    },\n    viewWillHighlight(leafView: LeafView): void {\n      this.owner.pinned.update();\n    },\n    viewWillUnhighlight(leafView: LeafView): void {\n      this.owner.pinned.update();\n    },\n    viewDidPress(input: PositionGestureInput, event: Event | null, leafView: LeafView): void {\n      leafView.highlight.toggle();\n      this.owner.pinned.update();\n    },\n    createView(): LeafView {\n      return (super.createView() as LeafView).setIntrinsic({\n        //hovers: true,\n      });\n    },\n  })\n  readonly leaf!: ViewRef<this, LeafView> & Observes<LeafView>;\n\n  @ViewSet({\n    viewType: CellView,\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n  })\n  readonly cells!: ViewSet<this, CellView>;\n\n  @ViewRef({\n    viewType: CellView,\n    viewKey: \"name\",\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    createView(): CellView {\n      return TextCellView.create();\n    },\n  })\n  readonly nameCell!: ViewRef<this, CellView>;\n\n  @ViewRef({\n    viewType: CellView,\n    viewKey: \"latest\",\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    initView(cellView: CellView): void {\n      const dataPointView = this.owner.latest.view;\n      if (dataPointView !== null) {\n        this.setLatest(dataPointView);\n      }\n    },\n    setLatest(dataPointView: DataPointView<DateTime, number>): void {\n      const cellView = this.view;\n      if (cellView instanceof TextCellView) {\n        const content = this.owner.formatLatestCell(dataPointView);\n        if (content !== void 0) {\n          cellView.content.set(content);\n        }\n      }\n    },\n    createView(): CellView {\n      return TextCellView.create();\n    },\n  })\n  readonly latestCell!: ViewRef<this, CellView> & {\n    setLatest(dataPointView: DataPointView<DateTime, number>): void,\n  };\n\n  @ViewRef({\n    viewType: CellView,\n    viewKey: \"current\",\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    initView(cellView: CellView): void {\n      const dataPointView = this.owner.latest.view;\n      if (dataPointView !== null) {\n        this.setCurrent(dataPointView);\n      }\n    },\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void {\n      const cellView = this.view;\n      if (cellView instanceof TextCellView) {\n        const content = this.owner.formatCurrentCell(dataPointView);\n        if (content !== void 0) {\n          cellView.content.set(content);\n        }\n      }\n    },\n    createView(): CellView {\n      return TextCellView.create();\n    },\n  })\n  readonly currentCell!: ViewRef<this, CellView> & {\n    setCurrent(dataPointView: DataPointView<DateTime, number>): void,\n  };\n\n  @Provider({\n    serviceType: CalendarService,\n    observes: true,\n    serviceDidSetScrubTime(scrubTime: DateTime | null): void {\n      let dataPointView: DataPointView<DateTime, number> | null | undefined = null;\n      if (scrubTime !== null) {\n        const plotView = this.owner.plot.view;\n        if (plotView !== null) {\n          dataPointView = plotView.dataPointViews.get(scrubTime);\n          if (dataPointView === void 0) {\n            dataPointView = plotView.dataPointViews.previousValue(scrubTime);\n            if (dataPointView === void 0) {\n              dataPointView = null;\n            }\n          }\n        }\n      }\n      this.setReferenceDataPoint(dataPointView);\n    },\n    setReferenceDataPoint(dataPointView: DataPointView<DateTime, number> | null): void {\n      if (dataPointView !== null) {\n        this.owner.current.setView(dataPointView);\n      } else {\n        this.owner.current.setView(this.owner.latest.view);\n      }\n    },\n  })\n  readonly calendar!: Provider<this, CalendarService> & Observes<CalendarService> & {\n    setReferenceDataPoint(dataPointView: DataPointView<DateTime, number> | null): void,\n  };\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Format} from \"@swim/codec\";\nimport {Provider} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {DateTime} from \"@swim/time\";\nimport {DateTimeFormat} from \"@swim/time\";\nimport type {Trait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {HtmlView} from \"@swim/dom\";\nimport type {GraphicsPointerEvent} from \"@swim/graphics\";\nimport {CanvasView} from \"@swim/graphics\";\nimport type {Controller,} from \"@swim/controller\";\nimport {ControllerSet} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {PanelView} from \"@swim/panel\";\nimport type {PanelControllerObserver} from \"@swim/panel\";\nimport {PanelController} from \"@swim/panel\";\nimport {ColLayout} from \"@swim/table\";\nimport {TableLayout} from \"@swim/table\";\nimport {RowView} from \"@swim/table\";\nimport {ColView} from \"@swim/table\";\nimport {TextColView} from \"@swim/table\";\nimport {HeaderView} from \"@swim/table\";\nimport {TableView} from \"@swim/table\";\nimport {SeriesPlotView} from \"@swim/chart\";\nimport {GraphView} from \"@swim/chart\";\nimport {TickView} from \"@swim/chart\";\nimport {TopTickView} from \"@swim/chart\";\nimport {AxisView} from \"@swim/chart\";\nimport {TopAxisView} from \"@swim/chart\";\nimport {BottomAxisView} from \"@swim/chart\";\nimport {LeftAxisView} from \"@swim/chart\";\nimport {ChartView} from \"@swim/chart\";\nimport {CalendarService} from \"@nstream/domain\";\nimport {TimeSeriesController} from \"./TimeSeriesController\";\n\n/** @public */\nexport interface TimeTableControllerObserver<C extends TimeTableController = TimeTableController> extends PanelControllerObserver<C> {\n}\n\n/** @public */\nexport class TimeTableController extends PanelController {\n  declare readonly observerType?: Class<TimeTableControllerObserver>;\n\n  protected formatDate(time: DateTime): string {\n    return (this.constructor as typeof TimeTableController).dateFormat.format(time);\n  }\n\n  protected formatDateTickLabel(tickView: TickView<DateTime>): string | undefined {\n    return void 0;\n  }\n\n  protected formatValueTickLabel(tickView: TickView<number>): string | undefined {\n    return Format.prefix(tickView.value, 1);\n  }\n\n  @TraitViewRef({\n    extends: true,\n    viewDidMount(panelView: PanelView): void {\n      this.owner.consume(panelView);\n    },\n    viewWillUnmount(panelView: PanelView): void {\n      this.owner.unconsume(panelView);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        classList: [\"time-table\"],\n        style: {\n          userSelect: \"none\",\n        },\n        panelStyle: \"card\",\n      });\n    },\n  })\n  override readonly panel!: TraitViewRef<this, Trait, PanelView> & PanelController[\"panel\"];\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        style: {\n          marginTop: 24,\n        },\n        unitWidth: 1,\n        unitHeight: 1 / 2,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly chartPanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: CanvasView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chartPanel.insertView();\n    },\n    createView(): CanvasView {\n      return (super.createView() as CanvasView).setIntrinsic({\n        style: {\n          touchAction: \"manipulation\",\n        },\n        wheelEvents: true,\n        pointerEvents: true,\n      });\n    },\n  })\n  readonly chartCanvas!: ViewRef<this, CanvasView>;\n\n  @ViewRef({\n    viewType: ChartView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chartCanvas.insertView();\n    },\n    didAttachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(chartView.graph.view);\n    },\n    willDetachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    viewWillAttachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(graphView);\n    },\n    viewDidDetachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    createView(): ChartView<DateTime, number> {\n      const chartView = super.createView() as ChartView<DateTime, number>;\n      chartView.setIntrinsic({\n        gutterTop: 12,\n        gutterRight: 60,\n        gutterBottom: 32,\n        gutterLeft: 60,\n      });\n      chartView.domainTracking(true);\n      chartView.xScaleGestures(true);\n      chartView.graph.insertView();\n      return chartView;\n    },\n  })\n  readonly chart!: ViewRef<this, ChartView<DateTime, number>> & Observes<ChartView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: AxisView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(tickAxisView: AxisView<DateTime>): void {\n      const scrubTime = this.owner.calendar.getService().scrubTime.value;\n      this.owner.currentTick.updateScrubTime(scrubTime);\n    },\n    createView(): AxisView<DateTime> {\n      return new TopAxisView<DateTime>().setIntrinsic({\n        tickGenerator: null,\n        tickMarkWidth: 2,\n        tickMarkLength: 6,\n        tickMarkColor: Look.textColor,\n        gridLineWidth: 2,\n        gridLineColor: Look.textColor,\n        borderWidth: 0,\n      });\n    },\n  })\n  readonly tickAxis!: ViewRef<this, AxisView<DateTime>>;\n\n  @ViewRef({\n    viewType: TickView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.tickAxis.view;\n    },\n    updateScrubTime(scrubTime: DateTime | null): void {\n      if (scrubTime === null) {\n        this.deleteView();\n        return;\n      }\n      const currentTickView = new TopTickView<DateTime>(scrubTime).setIntrinsic({\n        gridLineWidth: 1,\n      });\n      currentTickView.setIntangible(true);\n      this.insertView(null, currentTickView);\n    },\n  })\n  readonly currentTick!: ViewRef<this, TickView<DateTime>> & {\n    updateScrubTime(scrubTime: DateTime | null): void,\n  };\n\n  @ViewRef({\n    viewType: AxisView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.attachView();\n    },\n    formatTickLabel(tickLabel: string, tickView: TickView<DateTime>): string | undefined {\n      return this.owner.formatDateTickLabel(tickView);\n    },\n    createView(): AxisView<DateTime> {\n      return new BottomAxisView<DateTime>();\n    },\n  })\n  readonly timeAxis!: ViewRef<this, AxisView<DateTime>> & Observes<AxisView<DateTime>>;\n\n  @ViewRef({\n    viewType: AxisView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.attachView();\n    },\n    formatTickLabel(tickLabel: string, tickView: TickView<number>): string | undefined {\n      return this.owner.formatValueTickLabel(tickView);\n    },\n    createView(): AxisView<number> {\n      return new LeftAxisView<number>();\n    },\n  })\n  readonly valueAxis!: ViewRef<this, AxisView<number>> & Observes<AxisView<number>>;\n\n  @ViewRef({\n    viewType: GraphView,\n    viewKey: true,\n    init(): void {\n      this.onPointerMove = this.onPointerMove.bind(this);\n      this.onPointerEnter = this.onPointerEnter.bind(this);\n      this.onPointerLeave = this.onPointerLeave.bind(this);\n    },\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(graphView: GraphView<DateTime, number>): void {\n      graphView.addEventListener(\"pointermove\", this.onPointerMove);\n      graphView.addEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.addEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    deinitView(graphView: GraphView<DateTime, number>): void {\n      graphView.removeEventListener(\"pointermove\", this.onPointerMove);\n      graphView.removeEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.removeEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    updatePointer(event: GraphicsPointerEvent): void {\n      const graphView = this.view;\n      const xScale = graphView !== null ? graphView.xScale.value : null;\n      if (xScale !== null) {\n        const clientBounds = graphView!.clientBounds;\n        const x = event.clientX - clientBounds.x;\n        const t = xScale.inverse(x);\n        this.owner.calendar.getService().scrubTime.setIntrinsic(t);\n      }\n    },\n    onPointerMove(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerEnter(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerLeave(event: GraphicsPointerEvent): void {\n      this.owner.calendar.getService().scrubTime.setIntrinsic(null);\n    },\n  })\n  readonly graph!: ViewRef<this, GraphView<DateTime, number>> & {\n    updatePointer(event: GraphicsPointerEvent): void,\n    onPointerMove(event: GraphicsPointerEvent): void,\n    onPointerEnter(event: GraphicsPointerEvent): void,\n    onPointerLeave(event: GraphicsPointerEvent): void,\n  };\n\n  @ViewSet({\n    viewType: SeriesPlotView,\n    get parentView(): View | null {\n      return this.owner.graph.attachView();\n    },\n  })\n  readonly plots!: ViewSet<this, SeriesPlotView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        style: {\n          marginBottom: 12,\n          overflowX: \"hidden\",\n          overflowY: \"auto\",\n        },\n        unitWidth: 1,\n        unitHeight: 1 / 2,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly tablePanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: TableView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.tablePanel.insertView();\n    },\n    initView(tableView: TableView): void {\n      this.updateLayout();\n    },\n    didAttachView(tableView: TableView): void {\n      this.owner.header.setView(tableView.header.view);\n      this.owner.rows.setViews(tableView.rows.views);\n    },\n    willDetachView(tableView: TableView): void {\n      this.owner.rows.deleteViews();\n      this.owner.header.setView(null);\n    },\n    viewWillAttachHeader(headerView: HeaderView): void {\n      this.owner.header.setView(headerView);\n    },\n    viewDidDetachHeader(headerView: HeaderView): void {\n      this.owner.header.setView(null);\n    },\n    viewWillAttachRow(rowView: RowView): void {\n      this.owner.rows.addView(rowView);\n    },\n    viewDidDetachRow(rowView: RowView): void {\n      this.owner.rows.deleteView(rowView);\n    },\n    updateLayout(): void {\n      const tableView = this.view;\n      if (tableView !== null) {\n        const layout = this.createLayout();\n        tableView.layout.setIntrinsic(layout);\n      }\n    },\n    createLayout(): TableLayout {\n      const cols = new Array<ColLayout>();\n      const nameColLayout = this.owner.nameCol.layout;\n      if (nameColLayout !== null) {\n        cols.push(nameColLayout);\n      }\n      const colViews = this.owner.cols.views;\n      for (const viewId in colViews) {\n        const colView = colViews[viewId]!;\n        if (colView.key !== \"name\") {\n          const colLayout = this.owner.cols.getLayout(colView);\n          if (colLayout !== null) {\n            cols.push(colLayout);\n          }\n        }\n      }\n      return new TableLayout(null, null, null, Length.px(12), cols);\n    },\n    createView(): TableView {\n      return (super.createView() as TableView).style.setIntrinsic({\n        paddingLeft: 12,\n        paddingRight: 12,\n      });\n    },\n  })\n  readonly table!: ViewRef<this, TableView> & Observes<TableView> & {\n    updateLayout(): void,\n    createLayout(): TableLayout,\n  };\n\n  @ViewRef({\n    viewType: HeaderView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.table.attachView();\n    },\n    insertChild(parent: View, child: HtmlView, target: View | null, key: string | undefined): void {\n      parent.prependChild(child, key);\n    },\n    didAttachView(headerView: HeaderView): void {\n      this.owner.cols.setViews(headerView.cols.views);\n    },\n    willDetachView(headerView: HeaderView): void {\n      this.owner.cols.deleteViews();\n    },\n    viewWillAttachCol(colView: ColView): void {\n      this.owner.cols.addView(colView);\n    },\n    viewDidDetachCol(colView: ColView): void {\n      this.owner.cols.removeView(colView);\n    },\n  })\n  readonly header!: ViewRef<this, HeaderView> & Observes<HeaderView>;\n\n  @ViewSet({\n    viewType: ColView,\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    didAttachView(colView: ColView): void {\n      this.owner.table.updateLayout();\n    },\n    willDetachView(colView: ColView): void {\n      this.owner.table.updateLayout();\n    },\n    getLayout(colView: ColView): ColLayout | null {\n      const colKey = colView.key;\n      if (colKey === void 0) {\n        return null;\n      }\n      return ColLayout.create(colKey, 1, 0, 0, false, false, Look.textColor);\n    },\n  })\n  readonly cols!: ViewSet<this, ColView> & {\n    getLayout(colView: ColView): ColLayout | null,\n  };\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"name\",\n    init(): void {\n      this.layout = ColLayout.create(this.viewKey!, 2, 0, 0, false, false, Look.labelColor);\n    },\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().setIntrinsic({\n        label: \"Name\",\n      });\n    },\n  })\n  readonly nameCol!: ViewRef<this, ColView> & {\n    layout: ColLayout | null,\n  };\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"latest\",\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().setIntrinsic({\n        label: \"Latest\",\n      });\n    },\n  })\n  readonly latestCol!: ViewRef<this, ColView>;\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"current\",\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().setIntrinsic({\n        label: \"Current\"\n      });\n    },\n  })\n  readonly currentCol!: ViewRef<this, ColView>;\n\n  @ViewSet({\n    viewType: RowView,\n    get parentView(): View | null {\n      return this.owner.table.attachView();\n    },\n  })\n  readonly rows!: ViewSet<this, RowView>;\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n    binds: true,\n    observes: true,\n    didAttachController(timeSeriesController: TimeSeriesController, targetController: Controller | null): void {\n      const rowView = timeSeriesController.row.view;\n      if (rowView !== null) {\n        let targetView: View | null = null;\n        if (targetController instanceof TimeSeriesController) {\n          targetView = targetController.row.view;\n        }\n        this.owner.rows.insertView(null, rowView, targetView, timeSeriesController.key);\n      }\n      this.pinTop();\n    },\n    willDetachController(timeSeriesController: TimeSeriesController): void {\n      this.owner.pinned.detachController(timeSeriesController);\n      const rowView = timeSeriesController.row.view;\n      if (rowView !== null) {\n        this.owner.rows.deleteView(rowView);\n      }\n    },\n    didDetachController(timeSeriesController: TimeSeriesController): void {\n      timeSeriesController.remove();\n      this.pinTop();\n    },\n    controllerDidSetPinned(pinned: boolean, timeSeriesController: TimeSeriesController): void {\n      if (pinned) {\n        this.owner.pinned.attachController(timeSeriesController);\n        this.unpinTop();\n      } else {\n        this.owner.pinned.detachController(timeSeriesController);\n        this.pinTop();\n      }\n    },\n    controllerWillAttachRow(rowView: RowView, targetView: View | null, timeSeriesController: TimeSeriesController): void {\n      this.owner.rows.insertView(null, rowView, targetView, timeSeriesController.key);\n    },\n    controllerDidDetachRow(rowView: RowView, timeSeriesController: TimeSeriesController): void {\n      this.owner.rows.deleteView(rowView);\n    },\n    controllerDidSetFocused(focused: boolean, timeSeriesController: TimeSeriesController): void {\n      if (focused) {\n        this.owner.focused.attachController(timeSeriesController);\n      } else {\n        this.owner.focused.detachController(timeSeriesController);\n      }\n      const focusedControllerCount = this.owner.focused.controllerCount;\n      const seriesControllers = this.controllers;\n      for (const controllerId in seriesControllers) {\n        const seriesController = seriesControllers[controllerId]!;\n        if (focusedControllerCount !== 0 && !this.owner.focused.hasController(seriesController)) {\n          seriesController.defocused.setIntrinsic(true);\n        } else {\n          seriesController.defocused.setIntrinsic(false);\n        }\n      }\n    },\n    pinTop(): void {\n      if (this.owner.pinned.controllerCount > 1) {\n        return;\n      }\n      const topController = this.owner.getFirstChild(TimeSeriesController);\n      let pinnedController: TimeSeriesController | null = null;\n      const pinnedControllers = this.owner.pinned.controllers;\n      for (const controllerId in pinnedControllers) {\n        pinnedController = pinnedControllers[controllerId]!;\n        break;\n      }\n      if (topController !== null && topController !== pinnedController &&\n          (pinnedController === null || !pinnedController.pinned.value)) {\n        if (pinnedController !== null) {\n          this.owner.pinned.detachController(pinnedController);\n        }\n        this.owner.pinned.attachController(topController);\n      }\n    },\n    unpinTop(): void {\n      if (this.owner.pinned.controllerCount <= 1) {\n        return;\n      }\n      const pinnedControllers = this.owner.pinned.controllers;\n      for (const controllerId in pinnedControllers) {\n        const pinnedController = pinnedControllers[controllerId]!;\n        if (!pinnedController.pinned.value) {\n          this.owner.pinned.detachController(pinnedController);\n          break;\n        }\n      }\n    },\n  })\n  readonly series!: ControllerSet<this, TimeSeriesController> & Observes<TimeSeriesController> & {\n    pinTop(): void,\n    unpinTop(): void,\n  };\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n    observes: true,\n    didAttachController(timeSeriesController: TimeSeriesController, targetController: Controller | null): void {\n      if (this.owner.consuming) {\n        timeSeriesController.consume(this.owner);\n      }\n      const plotView = timeSeriesController.plot.view;\n      if (plotView !== null) {\n        let targetView: View | null = null;\n        if (targetController instanceof TimeSeriesController) {\n          targetView = targetController.plot.view;\n        }\n        this.owner.plots.insertView(null, plotView, targetView, timeSeriesController.key);\n      }\n    },\n    willDetachController(timeSeriesController: TimeSeriesController): void {\n      const plotView = timeSeriesController.plot.view;\n      if (plotView !== null) {\n        this.owner.plots.deleteView(plotView);\n      }\n      if (this.owner.consuming) {\n        timeSeriesController.unconsume(this.owner);\n      }\n    },\n    controllerWillAttachPlot(plotView: SeriesPlotView<DateTime, number>, targetView: View | null, timeSeriesController: TimeSeriesController): void {\n      this.owner.plots.insertView(null, plotView, targetView, timeSeriesController.key);\n    },\n    controllerDidDetachPlot(plotView: SeriesPlotView<DateTime, number>, timeSeriesController: TimeSeriesController): void {\n      this.owner.plots.deleteView(plotView);\n    },\n  })\n  readonly pinned!: ControllerSet<this, TimeSeriesController> & Observes<TimeSeriesController>;\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n  })\n  readonly focused!: ControllerSet<this, TimeSeriesController>;\n\n  @Provider({\n    serviceType: CalendarService,\n    observes: true,\n    serviceDidSetScrubTime(scrubTime: DateTime | null): void {\n      this.owner.currentTick.updateScrubTime(scrubTime);\n    },\n  })\n  readonly calendar!: Provider<this, CalendarService> & Observes<CalendarService>;\n\n  protected override onReinsertChild(child: Controller, target: Controller | null): void {\n    super.onReinsertChild(child, target);\n    this.series.pinTop();\n  }\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.pinned.consumeControllers(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.pinned.unconsumeControllers(this);\n  }\n\n  static dateFormat: DateTimeFormat = DateTimeFormat.pattern(\"%b %d @ %H:%M\");\n}\n","// Copyright 2015-2023 Nstream, inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Format} from \"@swim/codec\";\nimport {Provider} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {DateTime} from \"@swim/time\";\nimport {DateTimeFormat} from \"@swim/time\";\nimport type {Trait} from \"@swim/model\";\nimport {Look} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {GraphicsPointerEvent} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {CanvasView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\nimport type {Controller,} from \"@swim/controller\";\nimport {ControllerSet} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {PanelView} from \"@swim/panel\";\nimport type {PanelControllerObserver} from \"@swim/panel\";\nimport {PanelController} from \"@swim/panel\";\nimport {SliceView} from \"@swim/pie\";\nimport {PieView} from \"@swim/pie\";\nimport {SeriesPlotView} from \"@swim/chart\";\nimport {GraphView} from \"@swim/chart\";\nimport {TickView} from \"@swim/chart\";\nimport {TopTickView} from \"@swim/chart\";\nimport {AxisView} from \"@swim/chart\";\nimport {TopAxisView} from \"@swim/chart\";\nimport {ChartView} from \"@swim/chart\";\nimport {CalendarService} from \"@nstream/domain\";\nimport {TimeSeriesController} from \"./TimeSeriesController\";\n\n/** @public */\nexport interface TimePieControllerObserver<C extends TimePieController = TimePieController> extends PanelControllerObserver<C> {\n}\n\n/** @public */\nexport class TimePieController extends PanelController {\n  declare readonly observerType?: Class<TimePieControllerObserver>;\n\n  protected formatDate(time: DateTime): string {\n    return (this.constructor as typeof TimePieController).dateFormat.format(time);\n  }\n\n  protected formatDateTickLabel(tickView: TickView<DateTime>): string | undefined {\n    return void 0;\n  }\n\n  protected formatValueTickLabel(tickView: TickView<number>): string | undefined {\n    return Format.prefix(tickView.value, 1);\n  }\n\n  @TraitViewRef({\n    extends: true,\n    viewDidMount(panelView: PanelView): void {\n      this.owner.consume(panelView);\n    },\n    viewWillUnmount(panelView: PanelView): void {\n      this.owner.unconsume(panelView);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        classList: [\"time-pie\"],\n        style: {\n          userSelect: \"none\",\n        },\n        panelStyle: \"card\",\n      });\n    },\n  })\n  override readonly panel!: TraitViewRef<this, Trait, PanelView> & PanelController[\"panel\"];\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    insertChild(parent: View, child: PanelView, target: View | null, key: string | undefined): void {\n      if (target === null) {\n        target = this.owner.chartPanel.view;\n      }\n      parent.insertChild(child, target, key);\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        style: {\n          marginTop: 24,\n        },\n        unitWidth: 1,\n        unitHeight: 4 / 5,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly piePanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: CanvasView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.piePanel.insertView();\n    },\n  })\n  readonly pieCanvas!: ViewRef<this, CanvasView>;\n\n  @ViewRef({\n    viewType: PieView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.pieCanvas.insertView();\n    },\n    didAttachView(pieView: PieView): void {\n      this.owner.pieTitle.setView(pieView.title.view);\n      this.owner.slices.setViews(pieView.slices.views);\n    },\n    willDetachView(pieView: PieView): void {\n      this.owner.slices.deleteViews();\n      this.owner.pieTitle.setView(null);\n    },\n    viewWillAttachTitle(titleView: GraphicsView): void {\n      this.owner.pieTitle.setView(titleView);\n    },\n    viewDidDetachTitle(titleView: GraphicsView): void {\n      this.owner.pieTitle.setView(null);\n    },\n    viewWillAttachSlice(sliceView: SliceView): void {\n      this.owner.slices.addView(sliceView);\n    },\n    viewDidDetachSlice(sliceView: SliceView): void {\n      this.owner.slices.deleteView(sliceView);\n    },\n    createView(): PieView {\n      return new PieView().setIntrinsic({\n        innerRadius: Length.pct(5),\n        outerRadius: Length.pct(35),\n        tickRadius: Length.pct(40),\n        tickLength: Length.pct(45),\n        font: Look.font,\n      });\n    },\n  })\n  readonly pie!: ViewRef<this, PieView> & Observes<PieView>;\n\n  @ViewRef({\n    viewType: GraphicsView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.pie.attachView();\n    },\n    initView(titleView: GraphicsView): void {\n      if (titleView instanceof TextRunView) {\n        titleView.font.setInherits(false);\n        titleView.font.setIntrinsic(Look.largeFont);\n        titleView.textColor.setIntrinsic(Look.textColor);\n      }\n    },\n    setText(title: string | undefined): GraphicsView {\n      return this.owner.pie.attachView().title.set(title);\n    },\n  })\n  readonly pieTitle!: ViewRef<this, GraphicsView> & {\n    setText(title: string | undefined): GraphicsView,\n  };\n\n  @ViewSet({\n    viewType: SliceView,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.pie.attachView();\n    },\n  })\n  readonly slices!: ViewSet<this, SliceView>;\n\n  @ViewRef({\n    viewType: PanelView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.panel.attachView();\n    },\n    createView(): PanelView {\n      return (super.createView() as PanelView).setIntrinsic({\n        unitWidth: 1,\n        unitHeight: 1 / 5,\n        minPanelHeight: 0,\n      });\n    },\n  })\n  readonly chartPanel!: ViewRef<this, PanelView>;\n\n  @ViewRef({\n    viewType: CanvasView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chartPanel.insertView();\n    },\n    createView(): CanvasView {\n      return (super.createView() as CanvasView).setIntrinsic({\n        style: {\n          touchAction: \"manipulation\",\n        },\n        wheelEvents: true,\n        pointerEvents: true,\n      });\n    },\n  })\n  readonly chartCanvas!: ViewRef<this, CanvasView>;\n\n  @ViewRef({\n    viewType: ChartView,\n    viewKey: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chartCanvas.insertView();\n    },\n    didAttachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(chartView.graph.view);\n    },\n    willDetachView(chartView: ChartView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    viewWillAttachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(graphView);\n    },\n    viewDidDetachGraph(graphView: GraphView<DateTime, number>): void {\n      this.owner.graph.setView(null);\n    },\n    createView(): ChartView<DateTime, number> {\n      const chartView = (super.createView() as ChartView<DateTime, number>).setIntrinsic({\n        gutterTop: 12,\n        gutterRight: 60,\n        gutterBottom: 32,\n        gutterLeft: 60,\n      });\n      chartView.domainTracking(true);\n      chartView.xScaleGestures(true);\n      chartView.graph.insertView();\n      return chartView;\n    },\n  })\n  readonly chart!: ViewRef<this, ChartView<DateTime, number>> & Observes<ChartView<DateTime, number>>;\n\n  @ViewRef({\n    viewType: AxisView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(tickAxisView: AxisView<DateTime>): void {\n      const scrubTime = this.owner.calendar.getService().scrubTime.value;\n      this.owner.currentTick.updateScrubTime(scrubTime);\n    },\n    createView(): AxisView<DateTime> {\n      return new TopAxisView<DateTime>().setIntrinsic({\n        tickGenerator: null,\n        tickMarkWidth: 2,\n        tickMarkLength: 6,\n        tickMarkColor: Look.textColor,\n        gridLineWidth: 2,\n        gridLineColor: Look.textColor,\n        borderWidth: 0,\n      });\n    },\n  })\n  readonly tickAxis!: ViewRef<this, AxisView<DateTime>>;\n\n  @ViewRef({\n    viewType: TickView,\n    viewKey: true,\n    get parentView(): View | null {\n      return this.owner.tickAxis.view;\n    },\n    updateScrubTime(scrubTime: DateTime | null): void {\n      if (scrubTime === null) {\n        this.deleteView();\n        return;\n      }\n      const currentTickView = new TopTickView<DateTime>(scrubTime).setIntrinsic({\n        gridLineWidth: 1,\n      });\n      currentTickView.setIntangible(true);\n      this.insertView(null, currentTickView);\n    },\n  })\n  readonly currentTick!: ViewRef<this, TickView<DateTime>> & {\n    updateScrubTime(scrubTime: DateTime | null): void,\n  };\n\n  @ViewRef({\n    viewType: GraphView,\n    viewKey: true,\n    init(): void {\n      this.onPointerMove = this.onPointerMove.bind(this);\n      this.onPointerEnter = this.onPointerEnter.bind(this);\n      this.onPointerLeave = this.onPointerLeave.bind(this);\n    },\n    get parentView(): View | null {\n      return this.owner.chart.insertView();\n    },\n    initView(graphView: GraphView<DateTime, number>): void {\n      graphView.addEventListener(\"pointermove\", this.onPointerMove);\n      graphView.addEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.addEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    deinitView(graphView: GraphView<DateTime, number>): void {\n      graphView.removeEventListener(\"pointermove\", this.onPointerMove);\n      graphView.removeEventListener(\"pointerenter\", this.onPointerEnter);\n      graphView.removeEventListener(\"pointerleave\", this.onPointerLeave);\n    },\n    updatePointer(event: GraphicsPointerEvent): void {\n      const graphView = this.view;\n      const xScale = graphView !== null ? graphView.xScale.value : null;\n      if (xScale !== null) {\n        const clientBounds = graphView!.clientBounds;\n        const x = event.clientX - clientBounds.x;\n        const t = xScale.inverse(x);\n        this.owner.calendar.getService().scrubTime.setIntrinsic(t);\n      }\n    },\n    onPointerMove(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerEnter(event: GraphicsPointerEvent): void {\n      this.updatePointer(event);\n    },\n    onPointerLeave(event: GraphicsPointerEvent): void {\n      this.owner.calendar.getService().scrubTime.setIntrinsic(null);\n    },\n  })\n  readonly graph!: ViewRef<this, GraphView<DateTime, number>> & {\n    updatePointer(event: GraphicsPointerEvent): void,\n    onPointerMove(event: GraphicsPointerEvent): void,\n    onPointerEnter(event: GraphicsPointerEvent): void,\n    onPointerLeave(event: GraphicsPointerEvent): void,\n  };\n\n  @ViewSet({\n    viewType: SeriesPlotView,\n    get parentView(): View | null {\n      return this.owner.graph.attachView();\n    },\n  })\n  readonly plots!: ViewSet<this, SeriesPlotView<DateTime, number>>;\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n    binds: true,\n    observes: true,\n    didAttachController(timeSeriesController: TimeSeriesController, targetController: Controller | null): void {\n      const sliceView = timeSeriesController.slice.view;\n      if (sliceView !== null) {\n        let targetView: View | null = null;\n        if (targetController instanceof TimeSeriesController) {\n          targetView = targetController.slice.view;\n        }\n        this.owner.slices.insertView(null, sliceView, targetView, timeSeriesController.key);\n      }\n      this.pinTop();\n    },\n    willDetachController(timeSeriesController: TimeSeriesController): void {\n      this.owner.pinned.detachController(timeSeriesController);\n      const sliceView = timeSeriesController.slice.view;\n      if (sliceView !== null) {\n        this.owner.slices.deleteView(sliceView);\n      }\n    },\n    didDetachController(timeSeriesController: TimeSeriesController): void {\n      timeSeriesController.remove();\n      this.pinTop();\n    },\n    controllerDidSetPinned(pinned: boolean, timeSeriesController: TimeSeriesController): void {\n      if (pinned) {\n        this.owner.pinned.attachController(timeSeriesController);\n        this.unpinTop();\n      } else {\n        this.owner.pinned.detachController(timeSeriesController);\n        this.pinTop();\n      }\n    },\n    controllerWillAttachSlice(sliceView: SliceView, targetView: View | null, timeSeriesController: TimeSeriesController): void {\n      this.owner.slices.insertView(null, sliceView, targetView, timeSeriesController.key);\n    },\n    controllerDidDetachSlice(sliceView: SliceView, timeSeriesController: TimeSeriesController): void {\n      this.owner.slices.deleteView(sliceView);\n    },\n    controllerDidSetFocused(focused: boolean, timeSeriesController: TimeSeriesController): void {\n      if (focused) {\n        this.owner.focused.attachController(timeSeriesController);\n      } else {\n        this.owner.focused.detachController(timeSeriesController);\n      }\n      const focusedControllerCount = this.owner.focused.controllerCount;\n      const seriesControllers = this.controllers;\n      for (const controllerId in seriesControllers) {\n        const seriesController = seriesControllers[controllerId]!;\n        if (focusedControllerCount !== 0 && !this.owner.focused.hasController(seriesController)) {\n          seriesController.defocused.setIntrinsic(true);\n        } else {\n          seriesController.defocused.setIntrinsic(false);\n        }\n      }\n    },\n    pinTop(): void {\n      if (this.owner.pinned.controllerCount <= 1) {\n        const topController = this.owner.getFirstChild(TimeSeriesController);\n        let pinnedController: TimeSeriesController | null = null;\n        const pinnedControllers = this.owner.pinned.controllers;\n        for (const controllerId in pinnedControllers) {\n          pinnedController = pinnedControllers[controllerId]!;\n          break;\n        }\n        if (topController !== null && topController !== pinnedController &&\n            (pinnedController === null || !pinnedController.pinned.value)) {\n          if (pinnedController !== null) {\n            this.owner.pinned.detachController(pinnedController);\n          }\n          this.owner.pinned.attachController(topController);\n        }\n      }\n    },\n    unpinTop(): void {\n      if (this.owner.pinned.controllerCount > 1) {\n        const pinnedControllers = this.owner.pinned.controllers;\n        for (const controllerId in pinnedControllers) {\n          const pinnedController = pinnedControllers[controllerId]!;\n          if (!pinnedController.pinned.value) {\n            this.owner.pinned.detachController(pinnedController);\n            break;\n          }\n        }\n      }\n    },\n  })\n  readonly series!: ControllerSet<this, TimeSeriesController> & Observes<TimeSeriesController> & {\n    pinTop(): void,\n    unpinTop(): void,\n  };\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n    observes: true,\n    didAttachController(timeSeriesController: TimeSeriesController, targetController: Controller | null): void {\n      if (this.owner.consuming) {\n        timeSeriesController.consume(this.owner);\n      }\n      const plotView = timeSeriesController.plot.view;\n      if (plotView !== null) {\n        let targetView: View | null = null;\n        if (targetController instanceof TimeSeriesController) {\n          targetView = targetController.plot.view;\n        }\n        this.owner.plots.insertView(null, plotView, targetView, timeSeriesController.key);\n      }\n    },\n    willDetachController(timeSeriesController: TimeSeriesController): void {\n      const plotView = timeSeriesController.plot.view;\n      if (plotView !== null) {\n        this.owner.plots.deleteView(plotView);\n      }\n      if (this.owner.consuming) {\n        timeSeriesController.unconsume(this.owner);\n      }\n    },\n    controllerWillAttachPlot(plotView: SeriesPlotView<DateTime, number>, targetView: View | null, timeSeriesController: TimeSeriesController): void {\n      this.owner.plots.insertView(null, plotView, targetView, timeSeriesController.key);\n    },\n    controllerDidDetachPlot(plotView: SeriesPlotView<DateTime, number>, timeSeriesController: TimeSeriesController): void {\n      this.owner.plots.deleteView(plotView);\n    },\n  })\n  readonly pinned!: ControllerSet<this, TimeSeriesController> & Observes<TimeSeriesController>;\n\n  @ControllerSet({\n    controllerType: TimeSeriesController,\n  })\n  readonly focused!: ControllerSet<this, TimeSeriesController>;\n\n  @Provider({\n    serviceType: CalendarService,\n    observes: true,\n    serviceDidSetScrubTime(scrubTime: DateTime | null): void {\n      this.owner.currentTick.updateScrubTime(scrubTime);\n    },\n  })\n  readonly calendar!: Provider<this, CalendarService> & Observes<CalendarService>;\n\n  protected override onReinsertChild(child: Controller, target: Controller | null): void {\n    super.onReinsertChild(child, target);\n    this.series.pinTop();\n  }\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.pinned.consumeControllers(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.pinned.unconsumeControllers(this);\n  }\n\n  static dateFormat: DateTimeFormat = DateTimeFormat.pattern(\"%b %d @ %H:%M\");\n}\n"],"names":["__esDecorate","ctor","descriptorIn","decorators","contextIn","initializers","extraInitializers","accept","f","TypeError","_","kind","key","target","prototype","descriptor","Object","getOwnPropertyDescriptor","name","done","i","length","context","p","access","addInitializer","push","result","get","set","init","unshift","defineProperty","__runInitializers","thisArg","value","useValue","arguments","call","SuppressedError","Status","constructor","unknown","warning","alert","this","withUnknown","isFinite","Error","Math","min","max","withWarning","withAlert","moodModifier","Feel","primary","inactive","interpolateTo","that","StatusInterpolator","equivalentTo","epsilon","Numbers","equivalent","canEqual","equals","hashCode","Murmur3","mash","mix","Constructors","hash","debug","output","write","toString","Format","normal","status","Normal","Unknown","Warning","Alert","normalRange","range","NormalRange","Constant","warningRange","warning0","warning1","WarningAscending","WarningDescending","alertRange","alert0","alert1","AlertAscending","AlertDescending","panicRange","PanicRange","worsening","lowerBound","warningThreshold","alertThreshold","panicThreshold","upperBound","normalMapping","Mapping","LinearDomain","warningMapping","alertMapping","panicMapping","Piecewise","improving","_super","s0","s1","interpolator","u","setPrototypeOf","create","Interpolator","AspectTrait","Trait","_a","_classSuper","id","_instanceExtraInitializers","_id_initializers","entity","_entity_initializers","title","_title_initializers","icon","_icon_initializers","_status_initializers","createTabController","onAttachModel","model","super","getTrait","SelectableTrait","appendTrait","_id_decorators","Property","valueType","String","_entity_decorators","TraitRef","traitType","EntityTrait","willAttachTrait","entityTrait","targetTrait","owner","callObservers","initTrait","bindInlet","deinitTrait","unbindInlet","didDetachTrait","_title_decorators","didSetValue","newTitle","oldTitle","equalValues","_icon_decorators","Graphics","newIcon","oldIcon","_status_decorators","static","private","has","obj","metadata","_metadata","path","_path_initializers","aspect","_aspect_initializers","aspects","_aspects_initializers","relations","_relations_initializers","relatable","_relatable_initializers","searchable","_searchable_initializers","searching","_searching_initializers","nodeUri","getter","onStartSearching","onStopSearching","updateSearch","query","submitSearch","createNavController","_get_nodeUri_decorators","extends","inherits","_path_decorators","UriPath","parentType","RelationTrait","deriveValue","basePath","pathBuilder","UriPathBuilder","addPath","addSegment","build","newPath","oldPath","onMount","derived","setValue","slash","Affinity","Reflexive","_aspect_decorators","_aspects_decorators","TraitModelSet","traitKey","modelType","Model","binds","observes","ids","aspectTrait","attachTrait","trait","detachTrait","modelDidAttachParent","parent","detectModelTrait","targetModel","nextSibling","createTrait","setIntrinsic","createModel","_relations_decorators","observesTrait","relationTrait","traitWillAttachEntity","relatedEntityTrait","traitDidDetachEntity","traitDidSetHidden","hidden","traitDidSetDisclosed","disclosed","_relatable_decorators","Boolean","_searchable_decorators","_searching_decorators","_hidden_initializers","_disclosed_initializers","entities","_entities_initializers","_hidden_decorators","_disclosed_decorators","_entities_decorators","getOrInsert","addTrait","CalendarService","Service","timeZone","_timeZone_initializers","scrubTime","_scrubTime_initializers","_timeZone_decorators","TimeZone","local","_scrubTime_decorators","DateTime","LoginController","Controller","SessionController","AspectRowController","RowController","selectable","_selectable_initializers","leaf","_leaf_initializers","iconCell","_iconCell_initializers","titleCell","_titleCell_initializers","updateStatus","consumed","didAttachTrait","setTrait","leafView","row","attachView","insertView","graphics","content","willDetachTrait","traitDidInsertTrait","memberTrait","traitDidSetTitle","titleCellView","view","traitDidSetIcon","iconCellView","traitDidSetStatus","_selectable_decorators","selectableTrait","highlight","selected","traitDidSelect","options","focus","traitWillUnselect","unfocus","_leaf_decorators","TraitViewRef","initView","style","cursor","didAttachView","targetView","mounted","culled","consume","viewDidMount","viewWillUnmount","unconsume","viewDidCull","viewWillUncull","modifyMood","default","_iconCell_decorators","ViewRef","viewType","IconCellView","viewKey","parentView","willAttachView","didDetachView","createView","iconLayout","width","height","iconColor","Look","accentColor","_titleCell_decorators","TextCellView","AspectBinderController","BinderController","sheet","_sheet_initializers","binder","_binder_initializers","tabBar","_tabBar_initializers","tabs","_tabs_initializers","active","_active_initializers","history","_history_initializers","didPressTabHandle","input","event","tabController","tabTrait","aspectId","getService","pushHistory","parameters","environment","updateNavigationState","historyState","getChild","SheetController","setController","onResolve","_sheet_decorators","sheetTrait","sort","sorted","aspectTraits","traits","aspectControllers","traitId","createController","setTab","tabControllers","controllers","controllerId","deleteController","binderView","mountBinder","unmountBinder","traitWillAttachAspect","insertTrait","traitDidDetachAspect","deleteTrait","traitDidReinsertAspect","reinsertTrait","titleView","attachController","tool","TitleToolView","_binder_decorators","observesView","willDetachView","_tabBar_decorators","TraitViewControllerRef","initController","tabBarController","attachTabBarView","tabBarView","backgroundColor","backdropFilter","barHeight","transparent","translucent","_tabs_decorators","TraitViewControllerSet","controllerKey","handleView","handle","compare","a","b","aTrait","bTrait","compareTraits","_active_decorators","attachActiveTrait","activeTrait","activeController","detachActiveTrait","_history_decorators","Provider","serviceType","HistoryService","updateHistory","newHistoryState","oldHistoryState","requireUpdate","NeedsResolve","serviceDidPushHistory","serviceDidPopHistory","MountFlags","EntityRowController","moreCell","_moreCell_initializers","moreIcon","VectorIcon","enabled","traitDidSetRelatable","removeView","_moreCell_decorators","viewDidPress","legendColor","Lazy","_static_get_moreIcon_decorators","_staticExtraInitializers","EntityTableController","TableController","table","_table_initializers","rows","_rows_initializers","entityRow","_entityRow_initializers","compareRowControllers","x","y","tableView","mountTable","unmountTable","_table_decorators","userSelect","rowHeight","viewIdiom","ColLayout","titleLayout","moreLayout","tableLayout","TableLayout","layout","viewWillExpand","viewDidCollapse","viewWillResize","_rows_decorators","_entityRow_decorators","TraitControllerRef","controllerType","getTraitRef","entityRowController","willAttachController","didAttachController","getTargetView","didDetachController","controllerDidPressLeafView","controllerDidLongPressLeafView","RelationTableController","relation","_relation_initializers","header","_header_initializers","disclosureCol","_disclosureCol_initializers","titleCol","_titleCol_initializers","entityRows","_entityRows_initializers","_relation_decorators","insertTraits","label","expansion","deleteTraits","relationTitle","traitDidReinsertEntity","collapsed","setView","_header_decorators","attachHeaderView","headerView","headerController","initHeaderView","_disclosureCol_decorators","DisclosureColView","disclosureColView","disclosureButton","button","collapsedColor","expandedColor","_titleCol_decorators","TextColView","_entityRows_decorators","TraitControllerSet","controllerDidPressMoreCellView","EntityNavController","entityTable","_entityTable_initializers","relationTables","_relationTables_initializers","inputView","relationTraits","traitDidSetSearchable","traitWillAttachRelation","traitDidDetachRelation","traitDidSetRelationHidden","newSearching","oldSearching","_entityTable_decorators","entityTableController","controllerDidPressEntityRow","controllerDidLongPressEntityRow","controllerDidPressAspectRow","aspectRowController","controllerDidLongPressAspectRow","_relationTables_decorators","relationTableController","controllerDidPressEntityMore","EntityFolioController","FolioController","rootEntity","_rootEntity_initializers","drawer","_drawer_initializers","stack","_stack_initializers","sheets","_sheets_initializers","front","_front_initializers","frontNav","_frontNav_initializers","frontEntity","_frontEntity_initializers","frontStatus","_frontStatus_initializers","folio","_folio_initializers","navBar","_navBar_initializers","appBar","_appBar_initializers","cover","_cover_initializers","coverEntity","_coverEntity_initializers","selection","_selection_initializers","createEntityNav","navController","showEntityNav","timing","navView","dismiss","appendChild","addController","present","showEntityBinder","binderController","insertController","didPressBackButton","defaultPrevented","frontTrait","frontPath","coverTrait","coverPath","historyService","fragment","folioStyle","parentPath","isEmpty","appendedSlash","root","controller","targetController","targetPath","parse","empty","error","unmatchedPath","isAbsolute","tail","isSegment","subpath","relationId","head","entityId","forwardController","forward","forwardTrait","unmatchedController","backController","back","sheetView","foot","select","unselectAll","_rootEntity_decorators","_drawer_decorators","drawerView","updateFullBleed","fullBleed","_stack_decorators","updateFolioStyle","stackView","backAlign","updateFrontScroll","_sheets_decorators","sheetController","_front_decorators","frontController","frontEntityTrait","willDetachController","controllerWillAttachTitle","titleController","_frontNav_decorators","ControllerRef","entityPath","preventDefault","controllerDidPressRelatedEntityRow","controllerDidLongPressRelatedEntityRow","controllerDidPressRelatedEntityMore","_frontEntity_decorators","_frontStatus_decorators","_folio_decorators","folioView","expandedWidth","modifyTheme","raised","viewDidSetFolioStyle","_navBar_decorators","navBarController","NavBarController","closeButton","backButton","searchButton","searchInput","cancelSearch","attachNavBarView","navBarView","showBackTitle","frontViewDidScroll","frontView","scrollTop","node","getLook","_appBar_decorators","appBarController","AppBarController","menuButton","attachAppBarView","appBarView","coverViewDidScroll","coverView","bar","_cover_decorators","attachCoverTrait","coverController","detachCoverTrait","controllerWillPresentSheetView","controllerWillDismissSheetView","_coverEntity_decorators","BarController","getTraitViewRef","detachTabBarView","controllerWillAttachBarView","controllerDidDetachBarView","controllerDidPressTabHandle","controllerDidLongPressTabHandle","binderTrait","attachBinderTrait","attachBinderView","detachBinderView","detachBinderTrait","controllerWillAttachBinderTrait","controllerDidDetachBinderTrait","controllerWillAttachBinderView","controllerDidDetachBinderView","detachController","activeView","attachActiveView","detachActiveView","controllerWillAttachSheetTrait","controllerDidDetachSheetTrait","controllerWillAttachSheetView","controllerDidDetachSheetView","_selection_decorators","SelectionService","AtlasController","location","_location_initializers","locationTracking","_locationTracking_initializers","map","_map_initializers","mapPanel","_mapPanel_initializers","panel","_panel_initializers","panelHeader","_panelHeader_initializers","panelTitle","_panelTitle_initializers","panelSubtitle","_panelSubtitle_initializers","createMapView","containerView","mapboxgl","Map","container","boxZoom","center","lng","lat","zoom","MapboxView","hostUri","geoTrait","GeoTrait","_location_decorators","GeoController","geoController","geo","located","attachGeoTrait","geoView","attachGeoView","layers","mapController","detachGeoView","detachGeoTrait","controllerWillAttachGeoTrait","controllerDidDetachGeoTrait","geoPerspective","mapView","moveTo","controllerWillAttachGeoView","controllerDidDetachGeoView","controllerDidSetGeoPerspective","createGeoController","_map_decorators","MapController","attachContainerView","deinitController","detachContainerView","controllerWillAttachMapView","canvas","pointerEvents","deinitView","_mapPanel_decorators","PanelView","mapPanelView","classList","unitWidth","unitHeight","minPanelHeight","_panel_decorators","panelView","headerTitle","headerSubtitle","viewWillAttachHeader","viewDidDetachHeader","viewWillAttachHeaderTitle","viewDidDetachHeaderTitle","viewWillAttachHeaderSubtitle","subtitleView","viewDidDetachHeaderSubtitle","_panelHeader_decorators","HtmlView","_panelTitle_decorators","setText","_panelSubtitle_decorators","subtitle","_locationTracking_decorators","AtlasAspectTrait","sharedController","hasOwnProperty","SharedController","createSharedController","enumerable","configurable","_static_get_icon_decorators","AtlasEntityTrait","GeoLayerTrait","geoShape","_geoShape_initializers","geoCenter","_geoCenter_initializers","geoIcon","_geoIcon_initializers","hyperlink","AtlasEntityController","_geoShape_decorators","GeoShape","bounds","_geoCenter_decorators","GeoPoint","_geoIcon_decorators","Hyperlink","_get_hyperlink_decorators","GeoLayerController","_geo_initializers","shape","_shape_initializers","fill","fillOpacity","stroke","strokeOpacity","strokeWidth","updateSelected","_geo_decorators","GeoView","_shape_decorators","GeoShapeView","insertChild","child","shapeView","viewDidEnter","viewDidLeave","viewDidLongPress","deleteView","_get_fill_decorators","ColorLook","transition","_get_fillOpacity_decorators","NumberLook","_get_stroke_decorators","_get_strokeOpacity_decorators","_get_strokeWidth_decorators","Length","GeoIconView","iconView","_get_iconLayout_decorators","IconLayout","of","_get_iconColor_decorators","TimeGaugeController","PanelController","gaugePanel","_gaugePanel_initializers","gaugeCanvas","_gaugeCanvas_initializers","gauge","_gauge_initializers","gaugeTitle","_gaugeTitle_initializers","dial","_dial_initializers","dialLabel","_dialLabel_initializers","dialLegend","_dialLegend_initializers","chartPanel","_chartPanel_initializers","chartCanvas","_chartCanvas_initializers","chart","_chart_initializers","tickAxis","_tickAxis_initializers","currentTick","_currentTick_initializers","graph","_graph_initializers","plot","_plot_initializers","dataPoints","_dataPoints_initializers","latest","_latest_initializers","current","_current_initializers","calendar","_calendar_initializers","formatPanelTitle","dataPointView","formatPanelSubtitle","time","getValue","formatDate","formatDialLabel","limit","formatDialLegend","formatGaugeTitle","prefix","dateFormat","format","panelStyle","setCurrent","updateScrubTime","color","textColor","labelColor","_gaugePanel_decorators","marginTop","_gaugeCanvas_decorators","CanvasView","_gauge_decorators","GaugeView","gaugeView","viewWillAttachTitle","viewDidDetachTitle","innerRadius","pct","outerRadius","startAngle","Angle","rad","PI","sweepAngle","cornerRadius","zero","tickAlign","tickRadius","tickLength","font","_gaugeTitle_decorators","GraphicsView","TextRunView","setInherits","largeFont","_dial_decorators","DialView","dialView","updateValue","legend","viewWillAttachLabel","labelView","viewDidDetachLabel","viewWillAttachLegend","legendView","viewDidDetachLegend","viewDidSetValue","viewDidSetLimit","tweening","getLookOr","dialValue","look","meterColor","theme","mood","applyTheme","_dialLabel_decorators","smallFont","_dialLegend_decorators","_chartPanel_decorators","_chartCanvas_decorators","_chart_decorators","ChartView","chartView","viewWillAttachGraph","graphView","viewDidDetachGraph","viewDidSetYScale","yScale","domain","domainTracking","gutterTop","gutterRight","gutterBottom","gutterLeft","_tickAxis_decorators","AxisView","tickAxisView","TopAxisView","tickGenerator","tickMarkWidth","tickMarkLength","tickMarkColor","gridLineWidth","gridLineColor","borderWidth","_currentTick_decorators","TickView","currentTickView","TopTickView","setIntangible","_graph_decorators","GraphView","onPointerMove","bind","onPointerEnter","onPointerLeave","addEventListener","removeEventListener","updatePointer","xScale","clientBounds","clientX","t","inverse","_plot_decorators","SeriesPlotView","plotView","setViews","views","deleteViews","viewWillAttachDataPoint","addView","viewDidDetachDataPoint","LinePlotView","hitMode","_dataPoints_decorators","ViewSet","DataPointView","_latest_decorators","remove","_current_decorators","_calendar_decorators","serviceDidSetScrubTime","dataPointViews","previousValue","DateTimeFormat","pattern","TimeSeriesController","focused","_focused_initializers","defocused","_defocused_initializers","pinned","_pinned_initializers","slice","_slice_initializers","sliceLabel","_sliceLabel_initializers","sliceLegend","_sliceLegend_initializers","_row_initializers","cells","_cells_initializers","nameCell","_nameCell_initializers","latestCell","_latestCell_initializers","currentCell","_currentCell_initializers","formatLatestCell","formatCell","formatCurrentCell","formatSliceLabel","total","formatSliceLegend","applySliceStatus","sliceView","sliceColor","_focused_decorators","_defocused_decorators","opacity","_pinned_decorators","update","hovering","hover","state","highlighted","setLatest","_slice_decorators","SliceView","viewDidSetTotal","sliceValue","_sliceLabel_decorators","_sliceLegend_decorators","_row_decorators","RowView","rowView","viewWillAttachLeaf","viewDidDetachLeaf","LeafView","viewWillAttachCell","cellView","viewDidDetachCell","hovers","viewWillHighlight","viewWillUnhighlight","toggle","_cells_decorators","CellView","_nameCell_decorators","_latestCell_decorators","_currentCell_decorators","setReferenceDataPoint","TimeTableController","timeAxis","_timeAxis_initializers","valueAxis","_valueAxis_initializers","plots","_plots_initializers","tablePanel","_tablePanel_initializers","cols","_cols_initializers","nameCol","_nameCol_initializers","latestCol","_latestCol_initializers","currentCol","_currentCol_initializers","series","_series_initializers","formatDateTickLabel","tickView","formatValueTickLabel","onReinsertChild","pinTop","onStartConsuming","consumeControllers","onStopConsuming","unconsumeControllers","touchAction","wheelEvents","xScaleGestures","_timeAxis_decorators","formatTickLabel","tickLabel","BottomAxisView","_valueAxis_decorators","LeftAxisView","_plots_decorators","_tablePanel_decorators","marginBottom","overflowX","overflowY","TableView","updateLayout","viewWillAttachRow","viewDidDetachRow","createLayout","Array","nameColLayout","colViews","viewId","colView","colLayout","getLayout","px","paddingLeft","paddingRight","HeaderView","prependChild","viewWillAttachCol","viewDidDetachCol","_cols_decorators","ColView","colKey","_nameCol_decorators","_latestCol_decorators","_currentCol_decorators","_series_decorators","ControllerSet","timeSeriesController","controllerDidSetPinned","unpinTop","controllerWillAttachRow","controllerDidDetachRow","controllerDidSetFocused","focusedControllerCount","controllerCount","seriesControllers","seriesController","hasController","topController","getFirstChild","pinnedController","pinnedControllers","consuming","controllerWillAttachPlot","controllerDidDetachPlot","TimePieController","piePanel","_piePanel_initializers","pieCanvas","_pieCanvas_initializers","pie","_pie_initializers","pieTitle","_pieTitle_initializers","slices","_slices_initializers","_piePanel_decorators","_pieCanvas_decorators","_pie_decorators","PieView","pieView","viewWillAttachSlice","viewDidDetachSlice","_pieTitle_decorators","_slices_decorators","controllerWillAttachSlice","controllerDidDetachSlice"],"mappings":"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","x_google_ignoreList":[0]}