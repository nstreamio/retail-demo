{"version":3,"file":"retail-demo-customer.min.js","sources":["../../node_modules/tslib/tslib.es6.mjs","../../src/order/OrderController.ts","../../src/types.ts","../../src/customer/OrderListController.ts","../../src/customer/MainController.ts","../../src/customer/CustomerController.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","import { TimeSeriesController } from \"@swim/widget\";\nimport { View, ViewRef } from \"@swim/view\";\nimport { LeafView, RowView, TextCellView } from \"@swim/table\";\nimport { Look } from \"@swim/theme\";\nimport { OrderType } from \"../types\";\nimport { Observes } from \"@swim/util\";\n\n/** @public */\nexport class OrderController extends TimeSeriesController {\n  readonly orderId: string;\n  readonly orderType: OrderType;\n\n  constructor(orderId: string, orderType: OrderType) {\n    console.log('OrderController constructor');\n    super();\n    this.setKey(orderId);\n    this.orderId = orderId;\n    this.orderType = orderType;\n  }\n\n  @ViewRef({\n    viewType: RowView,\n    extends: true,\n    initView(rowView: RowView): void {\n      rowView.set({\n        style: {\n          height: '72px',\n        },\n      });\n    }\n  })\n  override readonly row!: ViewRef<this, RowView>;\n\n  @ViewRef({\n    viewType: LeafView,\n    extends: true,\n    initView(leafView: LeafView): void {\n      leafView.set({\n        style: {\n          height: '40px',\n          marginTop: '16px',\n          marginBottom: '16px',\n        }\n      });\n    },\n    viewDidPress(): void {\n      // disable default press action\n      return;\n    },\n    viewDidLongPress(): void {\n      // disable default long press action\n      return;\n    }\n  })\n  override readonly leaf!: ViewRef<this, LeafView> & Observes<LeafView>;\n\n  @ViewRef({\n    viewType: TextCellView,\n    viewKey: \"shape\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    createView(): TextCellView {\n      return TextCellView.create().set({\n        style: {\n          color: Look.accentColor,\n        }\n      });\n    }\n  })\n  readonly shapeCell!: ViewRef<this, TextCellView>;\n\n  @ViewRef({\n    viewType: TextCellView,\n    viewKey: \"order\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    createView(): TextCellView {\n      return TextCellView.create().set({\n        style: {\n          color: Look.accentColor,\n        }\n      });\n    }\n  })\n  readonly orderCell!: ViewRef<this, TextCellView>;\n\n  @ViewRef({\n    viewType: TextCellView,\n    viewKey: \"status\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.leaf.insertView();\n    },\n    createView(): TextCellView {\n      return TextCellView.create().set({\n        style: {\n          color: Look.accentColor,\n        }\n      });\n    }\n  })\n  readonly statusCell!: ViewRef<this, TextCellView>;\n}\n","export enum OrderType {\n  OrderA = \"A\",\n  OrderB = \"B\",\n  OrderC = \"C\",\n  Unknown = \"Unknown\",\n}\n\nexport enum OrderStatus {\n  orderPlaced = 'orderPlaced',\n  orderProcessed = 'orderProcessed',\n  readyForPickup = 'readyForPickup',\n  pickupCompleted = 'pickupCompleted',\n}\n\nexport type StoreStatus = Record<OrderStatus, Record<OrderType | 'total', { count: number, value: number}>>;\n","import { MapDownlink } from \"@swim/client\";\nimport { Property } from \"@swim/component\";\nimport { Value } from \"@swim/structure\";\nimport { Uri } from \"@swim/uri\";\nimport { TimeTableController } from \"@swim/widget\";\nimport { OrderController } from \"../order\";\nimport { HtmlView } from \"@swim/dom\";\nimport { View, ViewRef } from \"@swim/view\";\nimport { ColLayout, ColView, HeaderView, LeafView, TableLayout, TableView, TextCellView, TextColView } from \"@swim/table\";\nimport { TraitViewRef } from \"@swim/controller\";\nimport { PanelView } from \"@swim/panel\";\nimport { Trait } from \"@swim/model\";\nimport { Feel, Look } from \"@swim/theme\";\nimport { Length } from \"@swim/math\";\nimport { Status } from \"@swim/domain\";\nimport { OrderStatus, OrderType } from \"../types\";\nimport { HtmlIconView, PolygonIcon, VectorIcon } from \"@swim/graphics\";\nimport { Observes } from \"@swim/util\";\n\nexport class OrderListController extends TimeTableController {\n  readonly listTitle: string;\n\n  constructor(title: string) {\n    super();\n    this.listTitle = title;\n\n    // set customerId\n    const customerId = (/(?<=\\/customer\\/)[^\\s!?\\/.*#|]+(?=\\/|$|\\?)/gm.exec(\n      window.location.href\n    ) ?? [\"\"])[0];\n    this.customerId.set(customerId);\n\n    // set up and open orders downlink\n    this.ordersDownlink.setHostUri(\"warp://localhost:9001\");\n    this.ordersDownlink.setNodeUri(`/customer/${this.customerId.value}`);\n    this.ordersDownlink.open();\n  }\n\n  // repeated from CustomerController; not very DRY; there's probably a way to connect these values\n  @Property({\n    valueType: String,\n    value: \"\",\n  })\n  readonly customerId!: Property<this, string>;\n\n  @ViewRef({\n    viewType: HtmlView,\n    createView(): HtmlView {\n      const containerEl = document.createElement(\"div\");\n      const containerView = HtmlView.fromNode(containerEl).set({\n        style: {\n          width: \"100%\",\n          height: \"auto\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"center\",\n          margin: \"0px\",\n          marginTop: \"80px\",\n        },\n      });\n\n      // iconOuterContainer for holding SVGs\n      containerView.appendChild(\"div\").set({\n        style: {\n          width: \"100%\",\n          height: \"auto\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          margin: \"0px\",\n        },\n      });\n\n      containerView.appendChild(\"p\").set({\n        style: {\n          margin: \"0px\",\n          fontSize: \"20px\",\n          fontWeight: \"400\",\n          maxWidth: \"400px\",\n          color: \"yellow\",\n        },\n      });\n      containerView.node.innerText =\n        \"Tap the (+) button below to add an order!\";\n\n      return containerView;\n    },\n  })\n  readonly emptyState!: ViewRef<this, HtmlView>;\n\n  @TraitViewRef({\n    extends: true,\n    initView(parentPanelView: PanelView): void {\n      parentPanelView.node.classList.add(\"order-list-controller__panel\");\n      parentPanelView.style.set({\n        margin: \"0px\",\n      });\n\n      // init OrderListController's panel\n      super.initView(parentPanelView);\n      this.owner.table.insertView(); // Insert the table when we insert this panel\n      this.owner.header.insertView(); // Insert the table's header when we insert this panel\n    },\n  })\n  override readonly panel!: TraitViewRef<this, Trait, PanelView> &\n    TimeTableController[\"panel\"];\n\n  @ViewRef({\n    extends: true,\n    initView(panelView: PanelView): void {\n      super.initView(panelView);\n      panelView.node.classList.add(\"order-list-controller__panel-view\");\n      panelView.set({\n        style: {\n          marginTop: 50,\n        },\n        unitHeight: 1,\n      });\n    },\n  })\n  override readonly tablePanel!: ViewRef<this, PanelView> &\n    TimeTableController[\"tablePanel\"];\n\n  @ViewRef({\n    extends: true,\n    createView(): HeaderView {\n      const headerView = super.createView() as HeaderView;\n      this.owner.shapeCol.insertView(headerView);\n      this.owner.orderCol.insertView(headerView);\n      this.owner.statusCol.insertView(headerView);\n      return headerView;\n    }\n  })\n  override readonly header!: ViewRef<this, HeaderView> & TimeTableController[\"header\"];\n\n  @ViewRef({\n    extends: true,\n    createLayout(): TableLayout {\n      const cols = new Array<ColLayout>();\n      cols.push(ColLayout.create(\"shape\", 1, 0, 0, false, false, Look.accentColor));\n      cols.push(ColLayout.create(\"order\", 2, 0, 0, false, false, Look.accentColor));\n      cols.push(ColLayout.create(\"status\", 4, 0, 0, false, false, Look.accentColor));\n      return new TableLayout(null, null, null, Length.px(8), cols);\n    },\n  })\n  override readonly table!: ViewRef<this, TableView> &\n    TimeTableController[\"table\"];\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"shape\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().set({\n        label: \"Shape\",\n      });\n    }\n  })\n  readonly shapeCol!: ViewRef<this, ColView>;\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"order\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().set({\n        label: \"Order\",\n      });\n    }\n  })\n  readonly orderCol!: ViewRef<this, ColView>;\n\n  @ViewRef({\n    viewType: ColView,\n    viewKey: \"status\",\n    extends: true,\n    get parentView(): View | null {\n      return this.owner.header.attachView();\n    },\n    createView(): ColView {\n      return TextColView.create().set({\n        label: \"Status\",\n      });\n    }\n  })\n  readonly statusCol!: ViewRef<this, ColView>;\n\n  // lane: placeOrder BEFORE\n  // @event(node:\"/customer/cam\",lane:placeOrder){products:{C:1},status:orderPlaced,timestamp:1694152466604}\n  // lane: placeOrder AFTER\n  // @event(node:\"/customer/cam\",lane:placeOrder){products:{C:1},status:orderPlaced,timestamp:1694153205335}\n\n  // lane: status BEFORE\n  // @event(node:\"/customer/cam\",lane:status){customerId:cam,orderCount:5,timestamp:1694152466609,orderStates:{orderPlaced:5},products:{A:3,B:1,C:1}}\n  // lane: status AFTER\n  // @event(node:\"/customer/cam\",lane:status){orderPlaced:{A:3,B:1,C:1}}\n\n  // lane: orders BEFORE\n  // @event(node:\"/customer/cam\",lane:orders)@update(key:\"/order/58700262-7835-4686-a8f1-6789dc3c5396\"){orderId:\"58700262-7835-4686-a8f1-6789dc3c5396\",customerId:cam,products:{C:1},status:orderPlaced,timestamp:1694152466609}\n  // lane: orders AFTER\n  // @event(node:\"/customer/cam\",lane:orders)@update(key:\"/order/657b812b-cc39-4f5f-a175-c244deca6875\"){orderId:\"657b812b-cc39-4f5f-a175-c244deca6875\",customerId:cam,products:{C:1},status:orderPlaced,timestamp:1694153205338}\n\n  @MapDownlink({\n    hostUri: \"warp://localhost:9001\",\n    laneUri: \"orders\",\n    consumed: true,\n    keyForm: Uri.form(),\n    didUpdate(nodeUri: Uri, value: Value): void {\n      let orderController = this.owner.getChild(\n        nodeUri.pathName,\n        OrderController\n      );\n      console.log('!!orderController: ', !!orderController);\n\n      const status: OrderStatus = (value.get(\"status\").stringValue() ?? \"unknown\") as OrderStatus;\n      console.log('status: ', status);\n      let orderType: OrderType = OrderType.Unknown;\n      if (value.get(\"products\").get(\"A\").numberValue() ?? 0) {\n        orderType = OrderType.OrderA;\n      } else if (value.get(\"products\").get(\"B\").numberValue() ?? 0) {\n        orderType = OrderType.OrderB;\n      } else if (value.get(\"products\").get(\"C\").numberValue() ?? 0) {\n        orderType = OrderType.OrderC;\n      }\n      console.log('orderType: ', orderType);\n\n      if (status === \"pickupCompleted\") {\n        console.log('status was pickupCompleted');\n        if (orderController) {\n          console.log('removing child 1');\n          this.owner.removeChild(nodeUri.pathName);\n        }\n\n      // If there is a new order, and the order is the same status that his controller is managing then add it to the list\n      } else if (orderController) {\n        console.log('existing orderController found');\n        let moodStatus = OrderListController.orderStatusMood.get(status);\n\n        const shapeCell = orderController.shapeCell.attachView() as TextCellView;\n        ['orange', 'yellow', 'lime', 'teal'].forEach(color => {\n          shapeCell.content.view?.node.classList.remove(color);\n        });\n        shapeCell.content.view?.node.classList.add(OrderListController.getColorFromStatus(status));\n\n        const orderCell = orderController.orderCell.attachView() as TextCellView;\n        orderCell.modifyMood(Feel.default, moodStatus!.moodModifier);\n\n        const statusCell = orderController.statusCell.attachView() as TextCellView;\n        statusCell.content.set(\n          OrderListController.orderStatusDescription.get(status)\n        );\n        statusCell.modifyMood(Feel.default, moodStatus!.moodModifier);\n\n        // If no OrderController is found, create and insert a new one\n      } else if (orderController === null) {\n        console.log('no existing orderController found');\n        orderController = new OrderController(nodeUri.pathName, orderType);\n        orderController.title.setValue(nodeUri.pathName);\n\n        let moodStatus = OrderListController.orderStatusMood.get(\n          status || \"orderPlaced\"\n        );\n\n        // set shapeCell of row\n        const shapeCell = orderController.shapeCell.attachView() as TextCellView;\n        shapeCell.set({\n          style: {\n            height: '40px',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'flex-end',\n          }\n        })\n        .modifyMood(Feel.default, moodStatus!.moodModifier);\n        shapeCell.content.insertView(void 0, this.owner.getOrderShapeSvgView(orderType, status));\n        (shapeCell.node.firstChild as HTMLElement).style.alignSelf = 'unset';\n\n        // set orderCell of row\n        const orderCell = orderController.orderCell.attachView() as TextCellView;\n        orderCell.set({\n          style: {\n            height: '40px',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'flex-end',\n          }\n        })\n        .modifyMood(Feel.default, moodStatus!.moodModifier);\n        orderCell.content.set(`Order ${orderType}`);\n        (orderCell.node.firstChild as HTMLElement).style.alignSelf = 'unset';\n\n        // set statusCell of row\n        const statusCell = orderController.statusCell.attachView() as TextCellView;\n        statusCell.set({\n          style: {\n            height: '40px',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'flex-end',\n          }\n        })\n        .modifyMood(Feel.default, moodStatus!.moodModifier);\n        statusCell.content.set(OrderListController.orderStatusDescription.get(status));\n        (statusCell.node.firstChild as HTMLElement).style.alignSelf = 'unset';\n\n        // insert the name cell and current cell for each order into the table\n        orderController.shapeCell.insertView();\n        orderController.orderCell.insertView();\n        orderController.statusCell.insertView();\n\n        // add the OrderController into the series\n        console.log('adding the new orderController to the series');\n        this.owner.series.addController(\n          orderController,\n          void 0,\n          nodeUri.pathName\n        );\n      }\n    },\n  })\n  readonly ordersDownlink!: MapDownlink<this, Uri, Value>;\n\n  private getOrderShapeSvgView(orderType: OrderType, status: OrderStatus): HtmlView {\n    // define container HtmlView\n    const htmlView = HtmlView.create();\n    let path: string;\n    if (orderType === OrderType.OrderA) {\n      path = \"M12,2L22,22L2,22Z\";\n    } else {\n      // path for OrderB (square)\n      path = \"M2,2L22,2L22,22L2,22Z\";\n    }\n    let colorClass: string = OrderListController.getColorFromStatus(status);\n    \n\n    // define and insert svg\n    const htmlIconView = HtmlIconView.create().setIntrinsic({\n      graphics: orderType === OrderType.OrderC ? PolygonIcon.create(999) : VectorIcon.create(\n        24,\n        24,\n        path\n      ),\n      style: {\n        width: \"40px\",\n        height: \"40px\",\n        marginRight: \"18px\",\n        marginBottom: \"-2px\",\n      },\n    });\n    htmlView.node.classList.add('svg', colorClass);\n    htmlView.insertChild(htmlIconView, null);\n\n    return htmlView;\n  }\n\n  private static getColorFromStatus(status: OrderStatus): string {\n    if (status === OrderStatus.orderPlaced) {\n      return \"orange\";\n    } else if (status === OrderStatus.orderProcessed) {\n      return \"yellow\";\n    }\n    return \"teal\";\n  }\n\n  private static orderStatusMood: Map<OrderStatus, Status> = new Map<OrderStatus, Status>(\n    [\n      [OrderStatus.orderPlaced, Status.improving(0, 1, 2, 3, 4)(1.4)],\n      [OrderStatus.orderProcessed, Status.improving(0, 1, 2, 3, 4)(2)],\n      [OrderStatus.readyForPickup, Status.improving(0, 1, 2, 3, 4)(3)],\n      [OrderStatus.pickupCompleted, Status.unknown()],\n    ]\n  );\n\n  private static orderStatusDescription: Map<OrderStatus, string> = new Map<\n    OrderStatus,\n    string\n  >([\n    [OrderStatus.orderPlaced, \"Received by store\"],\n    [OrderStatus.orderProcessed, \"Store is processing order\"],\n    [OrderStatus.readyForPickup, \"Order is ready for pickup!\"],\n    [OrderStatus.pickupCompleted, \"Unknown status\"],\n  ]);\n}\n","import { Property } from \"@swim/component\";\nimport { BoardController, BoardView } from \"@swim/panel\";\nimport { ControllerRef, TraitViewRef } from \"@swim/controller\";\nimport { Trait } from \"@swim/model\";\nimport { ViewRef } from \"@swim/view\";\nimport { HtmlView } from \"@swim/dom\";\nimport { PanelView } from \"@swim/panel\";\nimport { OrderListController } from \"./OrderListController\";\nimport { ButtonItem, ButtonStack, ButtonStackObserver, FloatingButton } from \"@swim/button\";\nimport {\n  HtmlIconView,\n  PolygonIcon,\n  VectorIcon,\n} from \"@swim/graphics\";\nimport { MapDownlink, ValueDownlink } from \"@swim/client\";\nimport { Uri } from \"@swim/uri\";\nimport { Value } from \"@swim/structure\";\nimport { Transform } from \"@swim/math\";\nimport { OrderStatus, OrderType, StoreStatus } from \"../types\";\nimport { TimeSeriesController } from \"@swim/widget\";\nimport { Observes } from \"@swim/util\";\n\nexport class MainController extends BoardController {\n  static readonly MAIN_PANEL_KEY: string = \"mainPanelView\";\n  static readonly ORDER_LIST_CONTROLLER_KEY: string = \"orderListController\";\n\n  constructor() {\n    super();\n\n    const boardView = this.sheet.attachView();\n    boardView.appendChild(PanelView, MainController.MAIN_PANEL_KEY);\n\n    // set customerId\n    const customerId = (/(?<=\\/customer\\/)[^\\s!?\\/.*#|]+(?=\\/|$|\\?)/gm.exec(\n      window.location.href\n    ) ?? [\"\"])[0];\n    this.customerId.set(customerId);\n\n    const hostUri = 'warp://localhost:9001';\n    const nodeUri = `/customer/${this.customerId.value}`;\n\n    // set up and open orders downlink\n    this.placeOrderDownlink.setHostUri(hostUri);\n    this.placeOrderDownlink.setNodeUri(nodeUri);\n    this.placeOrderDownlink.open();\n\n    // set up and open status downlink\n    this.statusDownlink.setHostUri(hostUri);\n    this.statusDownlink.setNodeUri(nodeUri);\n    this.statusDownlink.open();\n\n    // attach controller but don't insert any of its views\n    this.orderListController.attachController(new OrderListController(MainController.ORDER_LIST_CONTROLLER_KEY));\n  }\n\n  // repeated from CustomerController; not very DRY; there's probably a way to connect these values\n  @Property({\n    valueType: String,\n    value: \"\",\n  })\n  readonly customerId!: Property<this, string>;\n\n  @Property({\n    valueType: Number,\n    value: void 0,\n    extends: true,\n    binds: true,\n    didSetValue(newValue = 0, oldValue) {\n      const panelView = this.owner.sheet.attachView().getChild(MainController.MAIN_PANEL_KEY);\n\n      if (newValue > 0 && (oldValue === void 0 || oldValue === 0) && panelView) {\n        // remove empty state\n        this.owner.emptyState.removeView();\n\n        // insert orders table\n        this.owner.orderListController.controller?.panel.insertView(\n          panelView,\n          void 0,\n          void 0,\n          MainController.ORDER_LIST_CONTROLLER_KEY\n        ).set({\n          unitWidth: 1,\n          unitHeight: 1,\n        });\n      } else if (newValue === 0 && (oldValue === void 0 || oldValue > 0) && panelView) {\n        // remove orders table\n        panelView.removeChild(MainController.ORDER_LIST_CONTROLLER_KEY);\n\n        // insert empty state\n        this.owner.emptyState.insertView(panelView).set({\n          classList: ['empty-state-view']\n        });\n      }\n    }\n  })\n  readonly inFlightCount!: Property<this, number | undefined>;\n\n  @Property({\n    valueType: Boolean,\n    value: undefined,\n    binds: true,\n    extends: true,\n    didSetValue(value: Boolean, oldValue: Boolean | undefined = false): void {\n      const boardView = this.owner.sheet.attachView();\n\n      if (value) {\n        // remove placeOrderFab\n        this.owner.placeOrderFab.removeView();\n        // insert pickupOrdersFab\n        this.owner.pickupOrdersFab.insertView(boardView);\n      } else {\n        // remove pickupOrdersFab\n        this.owner.pickupOrdersFab.removeView();\n        // insert placeOrerFab\n        this.owner.placeOrderFab.insertView(boardView);\n      }\n    }\n  })\n  readonly pickupReady!: Property<this, Boolean | undefined>;\n\n  @TraitViewRef({\n    extends: true,\n    createView(): BoardView {\n      const mainElement = document.createElement(\"main\");\n      const boardView = new BoardView(mainElement).set({\n        style: {\n          width: \"100%\",\n          flexGrow: 1,\n          flexShrink: 1,\n          flexBasis: \"0px\",\n          margin: \"0px\",\n          backgroundColor: '#212121',\n        },\n      });\n\n      return boardView;\n    },\n  })\n  override readonly sheet!: TraitViewRef<this, Trait, BoardView> &\n    BoardController[\"sheet\"];\n\n  @ViewRef({\n    viewType: HtmlView,\n    createView(): HtmlView {\n      const containerEl = document.createElement(\"div\");\n      const containerView = HtmlView.fromNode(containerEl).set({\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          margin: \"0px\",\n          marginBottom: '80px',\n        }\n      });\n\n      // iconOuterContainer for holding SVGs\n      const svgContainerView = containerView.appendChild(\"div\").set({\n        style: {\n          width: \"100%\",\n          height: \"auto\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          margin: \"0px\",\n        },\n        classList: ['empty-state-svg-container']\n      });\n\n      // append triangle svg\n      svgContainerView.appendChild(HtmlIconView, 'triangle').set({\n        graphics: VectorIcon.create(24, 24, 'M12,2L22,22L2,22Z'),\n        style: {\n          width: '40px',\n          height: '40px',\n          marginRight:'24px',\n        },\n        classList: ['empty-state-svg', 'svg', 'yellow'],\n      });\n\n      // append square svg\n      svgContainerView.appendChild(HtmlIconView, 'square').set({\n        graphics: VectorIcon.create(24, 24, 'M2,2L22,2L22,22L2,22Z'),\n        style: {\n          width: '40px',\n          height: '40px',\n          marginRight:'24px',\n        },\n        classList: ['empty-state-svg', 'svg', 'yellow'],\n      });\n\n      // append circle svg\n      svgContainerView.appendChild(HtmlIconView, 'circle').set({\n        graphics: PolygonIcon.create(999),\n        style: {\n          width: '40px',\n          height: '40px',\n        },\n        classList: ['empty-state-svg', 'svg', 'yellow'],\n      });\n\n      // text view\n      const emptyStatePView = containerView.appendChild(\"p\").set({\n        style: {\n          fontSize: \"20px\",\n          fontWeight: \"400\",\n          color: \"#F8D260\",\n          marginTop: '24px',\n          marginRight: '80px',\n          marginBottom: \"80px\",\n          marginLeft: '80px',\n        },\n      });\n      emptyStatePView.node.innerText =\n        \"Tap the (+) button below to add an order!\";\n\n      return containerView;\n    },\n  })\n  readonly emptyState!: ViewRef<this, HtmlView>;\n\n  @ViewRef({\n    viewType: ButtonStack,\n    createView(): ButtonStack {\n      const buttonStackView: ButtonStack = super.createView().set({\n        style: {\n          position: \"absolute\",\n          bottom: \"24px\",\n          right: \"24px\",\n        },\n      });\n      buttonStackView.button.view?.style.backgroundColor.set('#F8D260');\n      buttonStackView.button.attachView().icon.attachView();\n      buttonStackView.button.view?.icon.push(VectorIcon.create(24, 24, 'M11,13L5,13L5,11L11,11L11,5L13,5L13,11L19,11L19,13L13,13L13,19L11,19Z'), false);\n      buttonStackView.button.view?.set({\n        style: {\n          width: '100%',\n          height: '100%',\n        },\n        classList: ['button-stack-view'],\n      });\n      buttonStackView.button.view?.icon.view?.set({\n        style: {\n          transform: Transform.parse(\"scale(1.5,1.5)\"),\n        },\n        classList: ['svg-container-view'],\n      });\n\n      // icon button handler\n      const that: ViewRef<MainController, ButtonStack> = this;\n      const handleClick = function (orderType: OrderType) {\n        return function () {\n          that.owner.createOrder(orderType);\n        };\n      };\n\n      /* circle icon button */\n      const circle: ButtonItem = buttonStackView.appendChild(\n        ButtonItem,\n        \"circle\"\n      );\n      circle.button?.style.backgroundColor.set('#F8D260');\n      const circleLabel = circle.insertChild(HtmlView, null, \"label\").set({\n        style: {\n          height: '24px',\n          lineHeight: '24px',\n          paddingTop: '2px',\n          paddingBottom: '2px',\n          paddingLeft: '4px',\n          paddingRight: '4px',\n          backgroundColor: 'rgba(33, 33, 33, 0.8)',\n          borderRadius: '4px',\n          boxShadow: '0px 0px 4px rgba(33, 33, 33, 0.8)',\n        },\n        classList: ['button-label', 'circle-label'],\n      });\n      circleLabel.node.innerText = \"Order C: $30.00\";\n      const circleButton = circle.button;\n      circleButton?.icon.push(\n        PolygonIcon.create(999),\n        false\n      ).set({\n        style: {\n          width: '24px',\n          height: '24px',\n          left: '8px',\n          top: '8px',\n        },\n        iconLayout: {width: 24, height: 24},\n      });\n      circle.addEventListener(\"click\", handleClick(OrderType.OrderC));\n\n      /* square icon button */\n      const square: ButtonItem = buttonStackView.appendChild(\n        ButtonItem,\n        \"square\"\n      );\n      square.button?.style.backgroundColor.set('#F8D260');\n      const squareLabel = square.insertChild(HtmlView, null, \"label\").set({\n        style: {\n          height: '24px',\n          lineHeight: '24px',\n          paddingTop: '2px',\n          paddingBottom: '2px',\n          paddingLeft: '4px',\n          paddingRight: '4px',\n          backgroundColor: 'rgba(33, 33, 33, 0.8)',\n          borderRadius: '4px',\n          boxShadow: '0px 0px 4px rgba(33, 33, 33, 0.8)',\n        },\n        classList: ['button-label', 'circle-label'],\n      });\n      squareLabel.node.innerText = \"Order B: $20.00\";\n      square.addEventListener(\"click\", handleClick(OrderType.OrderB));\n      square.button?.icon.push(\n        VectorIcon.create(24, 24, \"M2,2L22,2L22,22L2,22Z\"),\n        false\n      );\n\n      /* triangle icon button */\n      const triangle: ButtonItem = buttonStackView.appendChild(\n        ButtonItem,\n        \"triangle\"\n      );\n      triangle.button?.style.backgroundColor.set('#F8D260');\n      const triangleLabel = triangle.insertChild(HtmlView, null, \"label\").set({\n        style: {\n          height: '24px',\n          lineHeight: '24px',\n          paddingTop: '4px',\n          paddingBottom: '4px',\n          paddingLeft: '6px',\n          paddingRight: '6px',\n          backgroundColor: 'rgba(33, 33, 33, 0.8)',\n          borderRadius: '4px',\n          boxShadow: '0px 0px 4px rgba(33, 33, 33, 0.8)',\n        },\n        classList: ['button-label', 'circle-label'],\n      });\n      triangleLabel.node.innerText = \"Order A: $10.00\";\n      triangle.addEventListener(\"click\", handleClick(OrderType.OrderA));\n      triangle.button?.icon.push(\n        VectorIcon.create(24, 24, \"M12,2L22,22L2,22Z\"),\n        false\n      );\n\n      return buttonStackView;\n    },\n    initView(buttonStackView: ButtonStack): void {\n      buttonStackView.node.addEventListener('click', () => {\n        buttonStackView.presence.toggle();\n      });\n    },\n  })\n  readonly placeOrderFab!: ViewRef<this, ButtonStack> & Observes<ButtonStackObserver>;\n\n  @ViewRef({\n    viewType: FloatingButton,\n    createView() {\n      const fab: FloatingButton = super.createView().set({\n        style: {\n          position: \"absolute\",\n          bottom: \"24px\",\n          right: \"24px\",\n          width: '56px',\n          height: '56px',\n          overflow: 'unset',\n        },\n        classList: ['pickup-orders-fab-button'],\n      });\n      fab.style.backgroundColor.set('#66FFDD');\n      fab.icon.attachView();\n      fab.icon.push(VectorIcon.create(\n        24,\n        24,\n        'M5,8L5,19L19,19L19,8L16,8L16,16L12,14L8,16L8,8L5,8ZM5,21C4.45,21,3.98,20.8,3.59,20.41C3.2,20.02,3,19.55,3,19L3,6.53C3,6.29,3.04,6.07,3.11,5.85C3.19,5.63,3.3,5.43,3.45,5.25L4.7,3.73C4.88,3.49,5.11,3.31,5.39,3.19C5.66,3.06,5.95,3,6.25,3L17.75,3C18.05,3,18.34,3.06,18.61,3.19C18.89,3.31,19.12,3.49,19.3,3.73L20.55,5.25C20.7,5.43,20.81,5.63,20.89,5.85C20.96,6.07,21,6.29,21,6.53L21,19C21,19.55,20.8,20.02,20.41,20.41C20.02,20.8,19.55,21,19,21L5,21ZM5.4,6L18.6,6L17.75,5L6.25,5L5.4,6ZM10,8L10,12.75L12,11.75L14,12.75L14,8L10,8ZM5,8.04L19,8.04L5,8.04Z'\n      ), false);\n      fab.icon.view?.set({\n        style: {\n          transform: Transform.parse(\"scale(1.5,1.5)\"),\n        },\n        classList: ['svg', 'black'],\n      });\n\n      const that: MainController = this.owner;\n      fab.addEventListener('click', function() {\n        that.pickUpAllOrders();\n      })\n\n      // helper text\n      const helperText = fab.insertChild('p', null).set({\n        style: {\n          position: 'absolute',\n          bottom: '34px',\n          right: '35px',\n          width: '200px',\n          color: '#66FFDD',\n          fontSize: '20px',\n          fontWeight: '400',\n          lineHeight: '27px',\n        },\n        classList: ['pickup-orders-helper-text']\n      });\n      helperText.node.innerText = (\n        `Tap the button below\n        to pick up orders!`\n      );\n\n      return fab;\n    }\n  })\n  readonly pickupOrdersFab!: ViewRef<this, FloatingButton>;\n\n  @ControllerRef({\n    controllerType: OrderListController,\n  })\n  readonly orderListController!: ControllerRef<this, OrderListController>;\n\n  // lane: status AFTER\n  // @event(node:\"/customer/cam\",lane:status){orderPlaced:{A:5,B:2,C:1}}\n  @ValueDownlink({\n    hostUri: 'warp://localhost:9001',\n    laneUri: 'status',\n    consumed: true,\n    didSet(value: Value): void {\n      const status = MainController.parseStoreStatus(value);\n      console.log('status: ', status);\n      // propagate new value of inFlightCount\n      const newInFlightCount = [\n        OrderStatus.orderPlaced,\n        OrderStatus.orderProcessed,\n        OrderStatus.readyForPickup\n      ].reduce((acc, nextStatus: OrderStatus) => acc + status[nextStatus].total.count, 0);\n      this.owner.inFlightCount.set(newInFlightCount);\n\n      // propagate new value of pickupReady\n      const newPickupReadyValue = !status.orderPlaced.total.count && !status.orderProcessed.total.count && !!status.readyForPickup.total.count;\n      this.owner.pickupReady.set(newPickupReadyValue);\n    },\n  })\n  readonly statusDownlink!: ValueDownlink<this>;\n\n  @MapDownlink({\n    laneUri: \"placeOrder\",\n    consumed: true,\n    keyForm: Uri.form(),\n  })\n  readonly placeOrderDownlink!: MapDownlink<this, Uri, Value>;\n\n  @MapDownlink({\n    hostUri: 'warp://localhost:9001',\n    laneUri: 'updateOrder',\n    consumed: true,\n    keyForm: Uri.form(),\n  })\n  readonly updateOrderDownlink!: MapDownlink<this, Uri, Value>;\n\n  protected createOrder(orderType: OrderType): void {\n    const products = {\n      [orderType.charAt(orderType.length - 1)]: 1,\n    };\n    const status = 'orderPlaced';\n    const timestamp = Date.now().valueOf();\n\n    this.placeOrderDownlink.command({\n      products,\n      status,\n      timestamp\n    });\n  };\n\n  protected pickUpAllOrders(): void {\n    Object.values(this.orderListController.controller?.series.controllers ?? {})\n      .forEach((controller: TimeSeriesController | undefined) => {\n        if (controller === void 0) {\n          return;\n        }\n\n        this.updateOrderDownlink.setNodeUri(`/order/${controller.key}`);\n        this.updateOrderDownlink.open();\n        this.updateOrderDownlink.command(`{status:${OrderStatus.pickupCompleted}}`);\n        this.updateOrderDownlink.close();\n      })\n  }\n\n  static parseStoreStatus(v: Value): StoreStatus {\n    return [OrderStatus.orderPlaced, OrderStatus.orderProcessed, OrderStatus.readyForPickup, OrderStatus.pickupCompleted].reduce((acc, s) => {\n      [OrderType.OrderA, OrderType.OrderB, OrderType.OrderC].forEach(t => {\n        let count = v.get(s).get(t).numberValue(0);\n        let value = count * MainController.valuePerOrderType[t];\n        if (!acc[s]) { acc[s] = { total: { count: 0, value: 0 } } as StoreStatus[OrderStatus]; }\n        acc[s][t] = { count, value };\n        acc[s].total.count += count;\n        acc[s].total.value += value;\n      });\n      return acc;\n    }, {} as StoreStatus);\n  };\n\n  private static valuePerOrderType: Record<OrderType, number> = {\n    [OrderType.OrderA]: 10,\n    [OrderType.OrderB]: 20,\n    [OrderType.OrderC]: 30,\n    [OrderType.Unknown]: 0,\n  };\n}\n","import { BoardController } from \"@swim/panel\";\nimport { Property } from \"@swim/component\";\nimport { View, ViewRef } from \"@swim/view\";\nimport { HtmlView } from \"@swim/dom\";\nimport { ControllerRef } from \"@swim/controller\";\nimport { MainController } from \"./MainController\";\nimport { HtmlIconView, VectorIcon } from \"@swim/graphics\";\n\nexport class CustomerController extends BoardController {\n  constructor() {\n    super();\n\n    // set customerId\n    const customerId = (/(?<=\\/customer\\/)[^\\s!?\\/.*#|]+(?=\\/|$|\\?)/gm.exec(\n      window.location.href\n    ) ?? [\"\"])[0];\n    this.customerId.set(customerId);\n\n    // insert appBar view\n    this.initBoard();\n\n    // insert main view\n    this.mainController.controller?.sheet.insertView(this.sheet.attachView());\n  }\n\n  protected initBoard() {\n    const boardView = this.sheet.attachView().set({\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        boxSizing: \"border-box\",\n      },\n    });\n    this.appBarView.insertView(boardView);\n    this.mainController.attachController();\n  }\n\n  // repeated in MainController; not very DRY; there's probably a way to connect these values\n  @Property({\n    valueType: String,\n    value: \"\",\n  })\n  readonly customerId!: Property<this, string>;\n\n  @ViewRef({\n    viewType: HtmlView,\n    createView() {\n      const nav = document.createElement(\"nav\");\n      nav.style.backgroundColor = \"#181818\";\n      return new HtmlView(nav).set({\n        style: {\n          width: \"100%\",\n          height: \"80px\",\n          flexGrow: 0,\n          flexShrink: 0,\n          flexBasis: \"auto\",\n          boxSizing: \"border-box\",\n          padding: \"16px\",\n        },\n      });\n    },\n    initView(appBarView: HtmlView): void {\n      const container = appBarView.appendChild(\"div\").set({\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          boxSizing: \"border-box\",\n        },\n      });\n      // insert NStream logo icon\n      container.insertChild(HtmlIconView, null, \"nStreamIcon\").setIntrinsic({\n        graphics: VectorIcon.create(\n          64,\n          64,\n          \"M0,0H64V64H0Z M5,5V59H59V5Z M44,38.78V46L25,29.55V46H20V18Z M39,25V18H44V29.33Z\"\n        ),\n        style: {\n          width: \"48px\",\n          height: \"48px\",\n          marginRight: \"16px\",\n        },\n        classList: [\"n-stream-icon\"],\n      });\n\n      // insert details container\n      const detailsContainer = container\n        .appendChild(\"div\", \"app-bar-details-container\")\n        .setIntrinsic({\n          style: {\n            height: \"100%\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            flexBasis: \"0px\",\n            flexGrow: 1,\n            flexShrink: 1,\n            justifyContent: \"space-between\",\n            alignItems: \"flex-start\",\n          },\n        });\n\n      // insert NStream title text\n      const title = detailsContainer.appendChild(\"h1\").set({\n        style: {\n          width: \"auto\",\n          fontWeight: \"600\",\n          fontSize: \"20px\",\n          lineHeight: \"24px\",\n          color: \"#FFFFFF\",\n          margin: \"0px\",\n          boxSizing: \"border-box\",\n        },\n      });\n      title.node.innerText = \"NStream - Retail 360\";\n\n      const detailsInnerContainer = detailsContainer.appendChild(\"div\").set({\n        style: {\n          width: \"100%\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"flex-start\",\n          boxSizing: \"border-box\",\n        },\n        classList: [\"details-inner-container\"],\n      });\n      // insert NStream subtitle text\n      const subtitle = detailsInnerContainer.appendChild(\"p\").set({\n        style: {\n          fontWeight: \"400\",\n          fontSize: \"16px\",\n          lineHeight: \"17px\",\n          color: \"#FFFFFF\",\n          boxSizing: \"border-box\",\n          margin: \"0px\",\n        },\n      });\n      subtitle.node.innerText = \"1.0.0b\";\n\n      // insert customer ID (i.e. \"/cam\" or \"/will\")\n      const customerNodeName = detailsInnerContainer.appendChild(\"p\").set({\n        style: {\n          fontWeight: \"400\",\n          fontSize: \"16px\",\n          lineHeight: \"17px\",\n          color: \"#FFFFFF\",\n          margin: \"0px\",\n          boxSizing: \"border-box\",\n        },\n      });\n      customerNodeName.node.innerText = `/${this.owner.customerId.value}`; // I feel like I need to bind this text to the value of this.owner.customerId somehow. bindInlet?\n\n      // insert container for generic user img icon\n      const rightAppBarContainer = container.appendChild(\"div\").setIntrinsic({\n        style: {\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-end\",\n        },\n        classList: [\"right-app-bar-container\"],\n      });\n      // insert generic user img icon\n      rightAppBarContainer\n        .insertChild(HtmlIconView, null, \"user-img-icon\")\n        .setIntrinsic({\n          graphics: VectorIcon.create(\n            24,\n            24,\n            \"M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,6 C13.93,6 15.5,7.57 15.5,9.5 C15.5,11.43 13.93,13 12,13 C10.07,13 8.5,11.43 8.5,9.5 C8.5,7.57 10.07,6 12,6 Z M12,20 C9.97,20 7.57,19.18 5.86,17.12 C7.55,15.8 9.68,15 12,15 C14.32,15 16.45,15.8 18.14,17.12 C16.43,19.18 14.03,20 12,20 Z\"\n          ),\n          style: {\n            width: \"36px\",\n            height: \"36px\",\n            marginLeft: \"2px\",\n          },\n          classList: [\"user-img-icon\"],\n        });\n    },\n  })\n  readonly appBarView!: ViewRef<this, View>;\n\n  @ControllerRef({\n    controllerType: MainController,\n    controllerKey: \"body\",\n  })\n  readonly mainController!: ControllerRef<\n    this,\n    MainController,\n    [MainController]\n  >;\n}\n"],"names":["__esDecorate","ctor","descriptorIn","decorators","contextIn","initializers","extraInitializers","accept","f","TypeError","kind","key","target","prototype","descriptor","Object","getOwnPropertyDescriptor","name","_","done","i","length","context","p","access","addInitializer","push","result","get","set","init","unshift","defineProperty","__runInitializers","thisArg","value","useValue","arguments","call","SuppressedError","error","suppressed","message","e","Error","OrderController","_a","TimeSeriesController","constructor","orderId","orderType","console","log","super","this","_instanceExtraInitializers","row","_row_initializers","leaf","_leaf_initializers","shapeCell","_shapeCell_initializers","orderCell","_orderCell_initializers","statusCell","_statusCell_initializers","setKey","_row_decorators","ViewRef","viewType","RowView","extends","initView","rowView","style","height","_leaf_decorators","LeafView","leafView","marginTop","marginBottom","viewDidPress","viewDidLongPress","_shapeCell_decorators","TextCellView","viewKey","parentView","owner","insertView","createView","create","color","Look","accentColor","_orderCell_decorators","_statusCell_decorators","static","private","has","obj","OrderType","OrderStatus","OrderListController","TimeTableController","title","listTitle","customerId","_customerId_initializers","emptyState","_emptyState_initializers","panel","_panel_initializers","tablePanel","_tablePanel_initializers","header","_header_initializers","table","_table_initializers","shapeCol","_shapeCol_initializers","orderCol","_orderCol_initializers","statusCol","_statusCol_initializers","ordersDownlink","_ordersDownlink_initializers","exec","window","location","href","setHostUri","setNodeUri","open","getOrderShapeSvgView","status","htmlView","HtmlView","path","OrderA","colorClass","getColorFromStatus","htmlIconView","HtmlIconView","setIntrinsic","graphics","OrderC","PolygonIcon","VectorIcon","width","marginRight","node","classList","add","insertChild","orderPlaced","orderProcessed","_customerId_decorators","Property","valueType","String","_emptyState_decorators","containerEl","document","createElement","containerView","fromNode","display","flexDirection","justifyContent","alignItems","margin","appendChild","fontSize","fontWeight","maxWidth","innerText","_panel_decorators","TraitViewRef","parentPanelView","_tablePanel_decorators","panelView","unitHeight","_header_decorators","headerView","_table_decorators","createLayout","cols","Array","ColLayout","TableLayout","Length","px","_shapeCol_decorators","ColView","attachView","TextColView","label","_orderCol_decorators","_statusCol_decorators","_ordersDownlink_decorators","MapDownlink","hostUri","laneUri","consumed","keyForm","Uri","form","didUpdate","nodeUri","orderController","getChild","pathName","stringValue","Unknown","numberValue","_b","_c","OrderB","_d","removeChild","moodStatus","orderStatusMood","forEach","content","view","remove","_e","modifyMood","Feel","default","moodModifier","orderStatusDescription","setValue","firstChild","alignSelf","series","addController","Map","Status","improving","readyForPickup","pickupCompleted","unknown","MainController","BoardController","inFlightCount","_inFlightCount_initializers","pickupReady","_pickupReady_initializers","sheet","_sheet_initializers","placeOrderFab","_placeOrderFab_initializers","pickupOrdersFab","_pickupOrdersFab_initializers","orderListController","_orderListController_initializers","statusDownlink","_statusDownlink_initializers","placeOrderDownlink","_placeOrderDownlink_initializers","updateOrderDownlink","_updateOrderDownlink_initializers","boardView","PanelView","MAIN_PANEL_KEY","attachController","ORDER_LIST_CONTROLLER_KEY","createOrder","products","charAt","timestamp","Date","now","valueOf","command","pickUpAllOrders","values","controller","controllers","close","parseStoreStatus","v","reduce","acc","s","t","count","valuePerOrderType","total","_inFlightCount_decorators","Number","binds","didSetValue","newValue","oldValue","removeView","unitWidth","_pickupReady_decorators","Boolean","undefined","_sheet_decorators","mainElement","BoardView","flexGrow","flexShrink","flexBasis","backgroundColor","svgContainerView","emptyStatePView","marginLeft","_placeOrderFab_decorators","ButtonStack","buttonStackView","position","bottom","right","button","icon","transform","Transform","parse","that","handleClick","circle","ButtonItem","_f","circleLabel","lineHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","borderRadius","boxShadow","circleButton","left","top","iconLayout","addEventListener","square","_g","squareLabel","_h","triangle","_j","triangleLabel","_k","presence","toggle","_pickupOrdersFab_decorators","FloatingButton","fab","overflow","helperText","_orderListController_decorators","ControllerRef","controllerType","_statusDownlink_decorators","ValueDownlink","didSet","newInFlightCount","nextStatus","newPickupReadyValue","_placeOrderDownlink_decorators","_updateOrderDownlink_decorators","CustomerController","appBarView","_appBarView_initializers","mainController","_mainController_initializers","initBoard","boxSizing","_appBarView_decorators","nav","padding","container","detailsContainer","detailsInnerContainer","subtitle","customerNodeName","rightAppBarContainer","_mainController_decorators","controllerKey"],"mappings":"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"}