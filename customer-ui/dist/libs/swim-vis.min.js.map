{"version":3,"file":"swim-vis.min.js","sources":["../../../node_modules/tslib/tslib.es6.mjs","../swim-gauge/src/main/DialView.ts","../swim-gauge/src/main/DialTrait.ts","../swim-gauge/src/main/DialController.ts","../swim-gauge/src/main/GaugeView.ts","../swim-gauge/src/main/GaugeTrait.ts","../swim-gauge/src/main/GaugeController.ts","../swim-pie/src/main/SliceView.ts","../swim-pie/src/main/SliceTrait.ts","../swim-pie/src/main/SliceController.ts","../swim-pie/src/main/PieView.ts","../swim-pie/src/main/PieTrait.ts","../swim-pie/src/main/PieController.ts","../swim-chart/src/main/DataPointView.ts","../swim-chart/src/main/DataPointTrait.ts","../swim-chart/src/main/DataPointController.ts","../swim-chart/src/main/DataSetTrait.ts","../swim-chart/src/main/DataSetController.ts","../swim-chart/src/main/ContinuousScaleAnimator.ts","../swim-chart/src/main/ScaledXView.ts","../swim-chart/src/main/ScaledYView.ts","../swim-chart/src/main/ScaledXYView.ts","../swim-chart/src/main/ScaledView.ts","../swim-chart/src/main/ScatterPlotView.ts","../swim-chart/src/main/SeriesPlotView.ts","../swim-chart/src/main/BubblePlotView.ts","../swim-chart/src/main/LinePlotView.ts","../swim-chart/src/main/AreaPlotView.ts","../swim-chart/src/main/PlotTrait.ts","../swim-chart/src/main/ScatterPlotTrait.ts","../swim-chart/src/main/SeriesPlotTrait.ts","../swim-chart/src/main/BubblePlotTrait.ts","../swim-chart/src/main/LinePlotTrait.ts","../swim-chart/src/main/AreaPlotTrait.ts","../swim-chart/src/main/PlotController.ts","../swim-chart/src/main/ScatterPlotController.ts","../swim-chart/src/main/SeriesPlotController.ts","../swim-chart/src/main/BubblePlotController.ts","../swim-chart/src/main/LinePlotController.ts","../swim-chart/src/main/AreaPlotController.ts","../swim-chart/src/main/GraphView.ts","../swim-chart/src/main/GraphTrait.ts","../swim-chart/src/main/GraphController.ts","../swim-chart/src/main/TickGenerator.ts","../swim-chart/src/main/TickView.ts","../swim-chart/src/main/AxisView.ts","../swim-chart/src/main/AxisTrait.ts","../swim-chart/src/main/AxisController.ts","../swim-chart/src/main/ChartView.ts","../swim-chart/src/main/ChartTrait.ts","../swim-chart/src/main/ChartController.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Equivalent} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Animator} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {Angle} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport {FillView} from \"@swim/graphics\";\nimport {Arc} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\n\n/** @public */\nexport type DialViewArrangement = \"auto\" | \"manual\";\n\n/** @public */\nexport interface DialViewObserver<V extends DialView = DialView> extends GraphicsViewObserver<V> {\n  viewDidSetValue?(value: number, view: V): void;\n\n  viewDidSetLimit?(limit: number, view: V): void;\n\n  viewWillAttachLabel?(labelView: GraphicsView, view: V): void;\n\n  viewDidDetachLabel?(labelView: GraphicsView, view: V): void;\n\n  viewWillAttachLegend?(legendView: GraphicsView, view: V): void;\n\n  viewDidDetachLegend?(legendView: GraphicsView, view: V): void;\n}\n\n/** @public */\nexport class DialView extends GraphicsView {\n  declare readonly observerType?: Class<DialViewObserver>;\n\n  @Animator({\n    valueType: Number,\n    value: 0,\n    updateFlags: View.NeedsRender,\n    didSetValue(value: number): void {\n      this.owner.callObservers(\"viewDidSetValue\", value, this.owner);\n    },\n  })\n  readonly value!: Animator<this, number>;\n\n  @Animator({\n    valueType: Number,\n    value: 1,\n    updateFlags: View.NeedsRender,\n    didSetValue(limit: number): void {\n      this.owner.callObservers(\"viewDidSetLimit\", limit, this.owner);\n    },\n  })\n  readonly limit!: Animator<this, number>;\n\n  @Animator({valueType: R2Point, value: R2Point.origin(), inherits: true, updateFlags: View.NeedsRender})\n  readonly center!: Animator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(30), inherits: true, updateFlags: View.NeedsRender})\n  readonly innerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(40), inherits: true, updateFlags: View.NeedsRender})\n  readonly outerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.rad(-Math.PI / 2), inherits: true, updateFlags: View.NeedsRender})\n  readonly startAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.rad(2 * Math.PI), inherits: true, updateFlags: View.NeedsRender})\n  readonly sweepAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50), inherits: true, updateFlags: View.NeedsRender})\n  readonly cornerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.etchColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly dialColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.accentColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly meterColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50), inherits: true, updateFlags: View.NeedsRender})\n  readonly labelPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Number, value: 1, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickAlign!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(45), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickLength!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(1), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickWidth!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(2), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachLabel\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachLabel\", labelView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly label!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachLegend\", legendView, this.owner);\n    },\n    didDetachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachLegend\", legendView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly legend!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @Property({valueType: String, value: \"auto\"})\n  readonly arrangement!: Property<this, DialViewArrangement>;\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.center.recohere(this.updateTime);\n  }\n\n  protected override onRender(): void {\n    super.onRender();\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer && !this.hidden && !this.culled) {\n      const context = renderer.context;\n      context.save();\n      this.renderDial(context, this.viewFrame);\n      context.restore();\n    }\n  }\n\n  protected renderDial(context: CanvasContext, frame: R2Box): void {\n    const width = frame.width;\n    const height = frame.height;\n    const size = Math.min(width, height);\n    const value = this.value.getValue();\n    const limit = this.limit.getValue();\n    const delta = limit !== 0 ? value / limit : 0;\n\n    const center = this.center.getValue();\n    const innerRadius = this.innerRadius.getValue().px(size);\n    const outerRadius = this.outerRadius.getValue().px(size);\n    const deltaRadius = outerRadius.value - innerRadius.value;\n    const startAngle = this.startAngle.getValue().rad();\n    const sweepAngle = this.sweepAngle.getValue().rad();\n    const cornerRadius = this.cornerRadius.getValue().px(deltaRadius);\n    const dial = new Arc(center, innerRadius, outerRadius, startAngle,\n                         sweepAngle, Angle.zero(), null, cornerRadius);\n    const meter = dial.withSweepAngle(sweepAngle.times(delta));\n\n    context.save();\n\n    context.beginPath();\n    const dialColor = this.dialColor.value;\n    if (dialColor !== null) {\n      context.fillStyle = dialColor.toString();\n    }\n    dial.draw(context, frame);\n    if (dialColor !== null) {\n      context.fill();\n    }\n    context.clip();\n\n    const meterColor = this.meterColor.value;\n    if (meterColor !== null) {\n      context.beginPath();\n      context.fillStyle = meterColor.toString();\n      meter.draw(context, frame);\n      context.fill();\n    }\n\n    context.restore();\n\n    const labelView = this.label.view;\n    if (labelView !== null && !labelView.hidden) {\n      const r = (innerRadius.value + outerRadius.value) / 2;\n      const rx = r * Math.cos(startAngle.value + Equivalent.Epsilon);\n      const ry = r * Math.sin(startAngle.value + Equivalent.Epsilon);\n\n      let textAlign: CanvasTextAlign;\n      if (rx >= 0) {\n        if (ry >= 0) { // top-right\n          textAlign = \"start\";\n        } else { // bottom-right\n          textAlign = \"end\";\n        }\n      } else {\n        if (ry < 0) { // bottom-left\n          textAlign = \"end\";\n        } else { // top-left\n          textAlign = \"start\";\n        }\n      }\n      const padAngle = startAngle.value - Math.PI / 2;\n      const labelPadding = this.labelPadding.getValue().pxValue(deltaRadius);\n      const dx = labelPadding * Math.cos(padAngle);\n      const dy = labelPadding * Math.sin(padAngle);\n\n      if (TypesetView[Symbol.hasInstance](labelView)) {\n        labelView.setIntrinsic({\n          textAlign,\n          textBaseline: \"middle\",\n          textOrigin: new R2Point(center.x + rx + dx, center.y + ry + dy),\n        });\n      }\n    }\n\n    const legendView = this.legend.view;\n    if (legendView !== null && !legendView.hidden) {\n      const tickAlign = this.tickAlign.getValue();\n      const tickAngle = startAngle.value + sweepAngle.value * delta * tickAlign;\n      const tickRadius = this.tickRadius.getValue().pxValue(size);\n      const tickLength = this.tickLength.getValue().pxValue(width);\n      const tickWidth = this.tickWidth.getValue().pxValue(size);\n      const tickColor = this.tickColor.value;\n\n      const cx = center.x;\n      const cy = center.y;\n      const r1x = outerRadius.value * Math.cos(tickAngle + Equivalent.Epsilon);\n      const r1y = outerRadius.value * Math.sin(tickAngle + Equivalent.Epsilon);\n      const r2x = tickRadius * Math.cos(tickAngle + Equivalent.Epsilon);\n      const r2y = tickRadius * Math.sin(tickAngle + Equivalent.Epsilon);\n      let dx = 0;\n\n      if (tickColor !== null) {\n        context.beginPath();\n        context.lineWidth = tickWidth;\n        context.strokeStyle = tickColor.toString();\n        context.moveTo(cx + r1x, cy + r1y);\n        context.lineTo(cx + r2x, cy + r2y);\n        if (tickLength !== 0) {\n          if (r2x >= 0) {\n            context.lineTo(cx + tickLength, cy + r2y);\n            dx = tickLength - r2x;\n          } else if (r2x < 0) {\n            context.lineTo(cx - tickLength, cy + r2y);\n            dx = tickLength + r2x;\n          }\n        }\n        context.stroke();\n      }\n\n      let textAlign: CanvasTextAlign;\n      if (r2x >= 0) {\n        if (r2y >= 0) { // top-right\n          textAlign = \"end\";\n        } else { // bottom-right\n          textAlign = \"end\";\n        }\n      } else {\n        dx = -dx;\n        if (r2y < 0) { // bottom-left\n          textAlign = \"start\";\n        } else { // top-left\n          textAlign = \"start\";\n        }\n      }\n\n      if (TypesetView[Symbol.hasInstance](legendView)) {\n        const tickPadding = this.tickPadding.getValue().pxValue(size);\n        if (FillView[Symbol.hasInstance](legendView)) {\n          legendView.fill.setIntrinsic(tickColor);\n        }\n        legendView.setIntrinsic({\n          textAlign,\n          textBaseline: \"alphabetic\",\n          textOrigin: new R2Point(cx + r2x + dx, cy + r2y - tickPadding),\n        });\n      }\n    }\n  }\n\n  protected override hitTest(x: number, y: number): GraphicsView | null {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const p = renderer.transform.transform(x, y);\n      return this.hitTestDial(p.x, p.y, renderer.context, this.viewFrame);\n    }\n    return null;\n  }\n\n  protected hitTestDial(x: number, y: number, context: CanvasContext, frame: R2Box): GraphicsView | null {\n    const size = Math.min(frame.width, frame.height);\n    const center = this.center.getValue();\n    const innerRadius = this.innerRadius.getValue().px(size);\n    const outerRadius = this.outerRadius.getValue().px(size);\n    const deltaRadius = outerRadius.value - innerRadius.value;\n    const startAngle = this.startAngle.getValue();\n    const sweepAngle = this.sweepAngle.getValue();\n    const cornerRadius = this.cornerRadius.getValue().px(deltaRadius);\n    const dial = new Arc(center, innerRadius, outerRadius, startAngle,\n                         sweepAngle, Angle.zero(), null, cornerRadius);\n\n    context.beginPath();\n    dial.draw(context, frame);\n    if (context.isPointInPath(x, y)) {\n      return this;\n    }\n    return null;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\n\n/** @public */\nexport interface DialTraitObserver<T extends DialTrait = DialTrait> extends TraitObserver<T> {\n  traitDidSetValue?(value: number, trait: T): void;\n\n  traitDidSetLimit?(limit: number, trait: T): void;\n\n  traitDidSetDialColor?(dialColor: ColorOrLook | null, trait: T): void;\n\n  traitDidSetMeterColor?(meterColor: ColorOrLook | null, trait: T): void;\n\n  traitDidSetLabel?(label: string | undefined, trait: T): void;\n\n  traitDidSetLegend?(legend: string | undefined, trait: T): void;\n}\n\n/** @public */\nexport class DialTrait extends Trait {\n  declare readonly observerType?: Class<DialTraitObserver>;\n\n  @Property({\n    valueType: Number,\n    value: 0,\n    didSetValue(value: number): void {\n      this.owner.callObservers(\"traitDidSetValue\", value, this.owner);\n    },\n  })\n  readonly value!: Property<this, number>;\n\n  @Property({\n    valueType: Number,\n    value: 1,\n    didSetValue(limit: number): void {\n      this.owner.callObservers(\"traitDidSetLimit\", limit, this.owner);\n    },\n  })\n  readonly limit!: Property<this, number>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(dialColor: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetDialColor\", dialColor, this.owner);\n    },\n  })\n  readonly dialColor!: Property<this, ColorOrLook | null>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(meterColor: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetMeterColor\", meterColor, this.owner);\n    },\n  })\n  readonly meterColor!: Property<this, ColorOrLook | null>;\n\n  formatLabel(value: number, limit: number): string | undefined {\n    return void 0;\n  }\n\n  @Property({\n    valueType: String,\n    didSetValue(label: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetLabel\", label, this.owner);\n    },\n  })\n  readonly label!: Property<this, string | undefined>;\n\n  formatLegend(value: number, limit: number): string | undefined {\n    return void 0;\n  }\n\n  @Property({\n    valueType: String,\n    didSetValue(legend: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetLegend\", legend, this.owner);\n    },\n  })\n  readonly legend!: Property<this, string | undefined>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {DialView} from \"./DialView\";\nimport {DialTrait} from \"./DialTrait\";\n\n/** @public */\nexport interface DialControllerObserver<C extends DialController = DialController> extends ControllerObserver<C> {\n  controllerWillAttachDialTrait?(dialTrait: DialTrait, controller: C): void;\n\n  controllerDidDetachDialTrait?(dialTrait: DialTrait, controller: C): void;\n\n  controllerWillAttachDialView?(dialView: DialView, controller: C): void;\n\n  controllerDidDetachDialView?(dialView: DialView, controller: C): void;\n\n  controllerDidSetDialValue?(value: number, controller: C): void;\n\n  controllerDidSetDialLimit?(limit: number, controller: C): void;\n\n  controllerWillAttachDialLabelView?(labelView: GraphicsView, controller: C): void;\n\n  controllerDidDetachDialLabelView?(labelView: GraphicsView, controller: C): void;\n\n  controllerWillAttachDialLegendView?(legendView: GraphicsView, controller: C): void;\n\n  controllerDidDetachDialLegendView?(legendView: GraphicsView, controller: C): void;\n}\n\n/** @public */\nexport class DialController extends Controller {\n  declare readonly observerType?: Class<DialControllerObserver>;\n\n  protected updateLabel(value: number, limit: number, dialTrait: DialTrait): void {\n    if (dialTrait.label.hasAffinity(Affinity.Intrinsic)) {\n      const label = dialTrait.formatLabel(value, limit);\n      if (label !== void 0) {\n        dialTrait.label.setIntrinsic(label);\n      }\n    }\n  }\n\n  protected updateLegend(value: number, limit: number, dialTrait: DialTrait): void {\n    if (dialTrait.legend.hasAffinity(Affinity.Intrinsic)) {\n      const legend = dialTrait.formatLegend(value, limit);\n      if (legend !== void 0) {\n        dialTrait.legend.setIntrinsic(legend);\n      }\n    }\n  }\n\n  protected setValue(value: number, timing?: TimingLike | boolean): void {\n    const dialView = this.dial.view;\n    if (dialView !== null && dialView.value.hasAffinity(Affinity.Intrinsic)) {\n      if (timing === void 0 || timing === true) {\n        timing = this.dialTiming.value;\n        if (timing === true) {\n          timing = dialView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      dialView.value.setIntrinsic(value, timing);\n    }\n  }\n\n  protected setLimit(limit: number, timing?: TimingLike | boolean): void {\n    const dialView = this.dial.view;\n    if (dialView !== null && dialView.limit.hasAffinity(Affinity.Intrinsic)) {\n      if (timing === void 0 || timing === true) {\n        timing = this.dialTiming.value;\n        if (timing === true) {\n          timing = dialView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      dialView.limit.setIntrinsic(limit, timing);\n    }\n  }\n\n  protected setDialColor(dialColor: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const dialView = this.dial.view;\n    if (dialView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.dialTiming.value;\n        if (timing === true) {\n          timing = dialView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      dialView.dialColor.setIntrinsic(dialColor, timing);\n    }\n  }\n\n  protected setMeterColor(meterColor: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const dialView = this.dial.view;\n    if (dialView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.dialTiming.value;\n        if (timing === true) {\n          timing = dialView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      dialView.meterColor.setIntrinsic(meterColor, timing);\n    }\n  }\n\n  protected setLabelView(label: string | undefined): void {\n    const dialView = this.dial.view;\n    if (dialView !== null) {\n      dialView.label.set(label !== void 0 ? label : \"\");\n    }\n  }\n\n  protected setLegendView(legend: string | undefined): void {\n    const dialView = this.dial.view;\n    if (dialView !== null) {\n      dialView.legend.set(legend !== void 0 ? legend : \"\");\n    }\n  }\n\n  @Property({valueType: Timing, inherits: true})\n  get dialTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewRef({\n    traitType: DialTrait,\n    observesTrait: true,\n    willAttachTrait(dialTrait: DialTrait): void {\n      this.owner.callObservers(\"controllerWillAttachDialTrait\", dialTrait, this.owner);\n    },\n    didAttachTrait(dialTrait: DialTrait): void {\n      const dialView = this.view;\n      if (dialView !== null) {\n        this.owner.setValue(dialTrait.value.value);\n        this.owner.setLimit(dialTrait.limit.value);\n        const dialColor = dialTrait.dialColor.value;\n        if (dialColor !== null) {\n          this.owner.setDialColor(dialColor);\n        }\n        const meterColor = dialTrait.meterColor.value;\n        if (meterColor !== null) {\n          this.owner.setMeterColor(meterColor);\n        }\n        this.owner.setLabelView(dialTrait.label.value);\n        this.owner.setLegendView(dialTrait.legend.value);\n      }\n    },\n    didDetachTrait(dialTrait: DialTrait): void {\n      this.owner.callObservers(\"controllerDidDetachDialTrait\", dialTrait, this.owner);\n    },\n    traitDidSetValue(value: number): void {\n      this.owner.setValue(value);\n    },\n    traitDidSetLimit(limit: number): void {\n      this.owner.setLimit(limit);\n    },\n    traitDidSetDialColor(dialColor: ColorOrLook | null): void {\n      this.owner.setDialColor(dialColor);\n    },\n    traitDidSetMeterColor(meterColor: ColorOrLook | null): void {\n      this.owner.setMeterColor(meterColor);\n    },\n    traitDidSetLabel(label: string | undefined): void {\n      this.owner.setLabelView(label);\n    },\n    traitDidSetLegend(legend: string | undefined): void {\n      this.owner.setLegendView(legend);\n    },\n    viewType: DialView,\n    observesView: true,\n    willAttachView(dialView: DialView): void {\n      this.owner.callObservers(\"controllerWillAttachDialView\", dialView, this.owner);\n    },\n    didAttachView(dialView: DialView): void {\n      const dialTrait = this.trait;\n      if (dialTrait !== null) {\n        const dialColor = dialTrait.dialColor.value;\n        if (dialColor !== null) {\n          this.owner.setDialColor(dialColor);\n        }\n        const meterColor = dialTrait.meterColor.value;\n        if (meterColor !== null) {\n          this.owner.setMeterColor(meterColor);\n        }\n      }\n      this.owner.label.setView(dialView.label.view);\n      this.owner.legend.setView(dialView.legend.view);\n      if (dialTrait !== null) {\n        const value = dialView.value.value;\n        const limit = dialView.limit.value;\n        this.owner.updateLabel(value, limit, dialTrait);\n        this.owner.updateLegend(value, limit, dialTrait);\n        this.owner.setValue(dialTrait.value.value);\n        this.owner.setLimit(dialTrait.limit.value);\n        this.owner.setLabelView(dialTrait.label.value);\n        this.owner.setLegendView(dialTrait.legend.value);\n      }\n    },\n    willDetachView(dialView: DialView): void {\n      this.owner.label.setView(null);\n      this.owner.legend.setView(null);\n    },\n    didDetachView(dialView: DialView): void {\n      this.owner.callObservers(\"controllerDidDetachDialView\", dialView, this.owner);\n    },\n    viewDidSetValue(value: number, dialView: DialView): void {\n      const dialTrait = this.trait;\n      if (dialTrait !== null) {\n        const limit = dialView.limit.value;\n        this.owner.updateLabel(value, limit, dialTrait);\n        this.owner.updateLegend(value, limit, dialTrait);\n      }\n      this.owner.callObservers(\"controllerDidSetDialValue\", value, this.owner);\n    },\n    viewDidSetLimit(limit: number, dialView: DialView): void {\n      const dialTrait = this.trait;\n      if (dialTrait !== null) {\n        const value = dialView.value.value;\n        this.owner.updateLabel(value, limit, dialTrait);\n        this.owner.updateLegend(value, limit, dialTrait);\n      }\n      this.owner.callObservers(\"controllerDidSetDialLimit\", limit, this.owner);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(null);\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.owner.legend.setView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.owner.legend.setView(null);\n    },\n  })\n  readonly dial!: TraitViewRef<this, DialTrait, DialView> & Observes<DialTrait> & Observes<DialView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachDialLabelView\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachDialLabelView\", labelView, this.owner);\n    },\n  })\n  readonly label!: ViewRef<this, GraphicsView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachDialLegendView\", legendView, this.owner);\n    },\n    didDetachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachDialLegendView\", legendView, this.owner);\n    },\n  })\n  readonly legend!: ViewRef<this, GraphicsView>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Animator} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {Angle} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\nimport {DialView} from \"./DialView\";\n\n/** @public */\nexport interface GaugeViewObserver<V extends GaugeView = GaugeView> extends GraphicsViewObserver<V> {\n  viewWillAttachTitle?(titleView: GraphicsView, view: V): void;\n\n  viewDidDetachTitle?(titleView: GraphicsView, view: V): void;\n\n  viewWillAttachDial?(dialView: DialView, targetView: View | null, view: V): void;\n\n  viewDidDetachDial?(dialView: DialView, view: V): void;\n}\n\n/** @public */\nexport class GaugeView extends GraphicsView {\n  declare readonly observerType?: Class<GaugeViewObserver>;\n\n  @Animator({valueType: Number, value: 0, updateFlags: View.NeedsLayout})\n  readonly limit!: Animator<this, number>;\n\n  @Animator({valueType: R2Point, value: R2Point.origin(), updateFlags: View.NeedsLayout})\n  readonly center!: Animator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(30), updateFlags: View.NeedsLayout})\n  readonly innerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(40), updateFlags: View.NeedsLayout})\n  readonly outerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.rad(-Math.PI / 2), updateFlags: View.NeedsLayout})\n  readonly startAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.rad(2 * Math.PI), updateFlags: View.NeedsLayout})\n  readonly sweepAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50)})\n  readonly cornerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(1), updateFlags: View.NeedsLayout})\n  readonly dialSpacing!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.etchColor})\n  readonly dialColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.accentColor})\n  readonly meterColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50)})\n  readonly labelPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Number, value: 1})\n  readonly tickAlign!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(45)})\n  readonly tickRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50)})\n  readonly tickLength!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(1)})\n  readonly tickWidth!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(2)})\n  readonly tickPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor})\n  readonly tickColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    initView(titleView: GraphicsView): void {\n      if (TypesetView[Symbol.hasInstance](titleView)) {\n        titleView.setIntrinsic({\n          textAlign: \"center\",\n          textBaseline: \"middle\",\n          textOrigin: this.owner.center.state,\n        });\n      }\n    },\n    willAttachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachTitle\", titleView, this.owner);\n    },\n    didDetachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachTitle\", titleView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly title!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @ViewSet({\n    viewType: DialView,\n    binds: true,\n    observes: true,\n    willAttachView(dialView: DialView, targetView: View | null): void {\n      this.owner.callObservers(\"viewWillAttachDial\", dialView, targetView, this.owner);\n    },\n    didAttachView(dialView: DialView): void {\n      const labelView = dialView.label.view;\n      if (labelView !== null) {\n        this.attachLabelView(labelView);\n      }\n      const legendView = dialView.legend.view;\n      if (legendView !== null) {\n        this.attachLegendView(legendView);\n      }\n    },\n    willDetachView(dialView: DialView): void {\n      const legendView = dialView.legend.view;\n      if (legendView !== null) {\n        this.detachLegendView(legendView);\n      }\n      const labelView = dialView.label.view;\n      if (labelView !== null) {\n        this.detachLabelView(labelView);\n      }\n    },\n    didDetachView(dialView: DialView): void {\n      this.owner.callObservers(\"viewDidDetachDial\", dialView, this.owner);\n    },\n    viewDidSetValue(value: number): void {\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.attachLabelView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.detachLabelView(labelView);\n    },\n    attachLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n    detachLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.attachLegendView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.detachLegendView(legendView);\n    },\n    attachLegendView(legendView: GraphicsView): void {\n      // hook\n    },\n    detachLegendView(legendView: GraphicsView): void {\n      // hook\n    },\n  })\n  readonly dials!: ViewSet<this, DialView> & Observes<DialView> & {\n    attachLabelView(labelView: GraphicsView): void,\n    detachLabelView(labelView: GraphicsView): void,\n    attachLegendView(legendView: GraphicsView): void,\n    detachLegendView(legendView: GraphicsView): void,\n  };\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.layoutGauge(this.viewFrame);\n  }\n\n  protected layoutGauge(frame: R2Box): void {\n    if (this.center.hasAffinity(Affinity.Intrinsic)) {\n      const cx = (frame.xMin + frame.xMax) / 2;\n      const cy = (frame.yMin + frame.yMax) / 2;\n      this.center.setIntrinsic(new R2Point(cx, cy));\n    }\n\n    const dialViews = this.dials.views;\n\n    let autoCount = 0;\n    for (const viewId in dialViews) {\n      const dialView = dialViews[viewId]!;\n      if (dialView.arrangement.value === \"auto\") {\n        autoCount += 1;\n      }\n    }\n\n    const size = Math.min(frame.width, frame.height);\n    const gaugeLimit = this.limit.getValue();\n    const startAngle = this.startAngle.getValue();\n    const sweepAngle = this.sweepAngle.getValue();\n    let r0 = this.innerRadius.getValue().pxValue(size);\n    const r1 = this.outerRadius.getValue().pxValue(size);\n    const rs = this.dialSpacing.getValue().pxValue(size);\n    const dr = autoCount > 1 ? (r1 - r0 - rs * (autoCount - 1)) / autoCount : r1 - r0;\n\n    for (const viewId in dialViews) {\n      const dialView = dialViews[viewId]!;\n      if (dialView.arrangement.value === \"auto\") {\n        if (isFinite(gaugeLimit)) {\n          const dialLimit = dialView.limit.getValue();\n          dialView.limit.setIntrinsic(Math.max(dialLimit, gaugeLimit));\n        }\n        dialView.startAngle.setIntrinsic(startAngle);\n        dialView.sweepAngle.setIntrinsic(sweepAngle);\n        dialView.innerRadius.setIntrinsic(Length.px(r0));\n        dialView.outerRadius.setIntrinsic(Length.px(r0 + dr));\n        r0 = r0 + dr + rs;\n      }\n    }\n\n    const titleView = this.title.view;\n    if (TypesetView[Symbol.hasInstance](titleView)) {\n      titleView.textOrigin.setIntrinsic(this.center.state);\n    }\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitSet} from \"@swim/model\";\nimport {DialTrait} from \"./DialTrait\";\n\n/** @public */\nexport interface GaugeTraitObserver<T extends GaugeTrait = GaugeTrait> extends TraitObserver<T> {\n  traitDidSetTitle?(title: string | undefined, trait: T): void;\n\n  traitDidSetLimit?(limit: number, trait: T): void;\n\n  traitWillAttachDial?(dialTrait: DialTrait, targetTrait: Trait | null, trait: T): void;\n\n  traitDidDetachDial?(dialTrait: DialTrait, trait: T): void;\n}\n\n/** @public */\nexport class GaugeTrait extends Trait {\n  declare readonly observerType?: Class<GaugeTraitObserver>;\n\n  @Property({\n    valueType: String,\n    didSetValue(title: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetTitle\", title, this.owner);\n    },\n  })\n  readonly title!: Property<this, string | undefined>;\n\n  @Property({\n    valueType: Number,\n    value: 0,\n    didSetValue(limit: number): void {\n      this.owner.callObservers(\"traitDidSetLimit\", limit, this.owner);\n    },\n  })\n  readonly limit!: Property<this, number>;\n\n  @TraitSet({\n    traitType: DialTrait,\n    binds: true,\n    willAttachTrait(dialTrait: DialTrait, targetTrait: Trait | null): void {\n      this.owner.callObservers(\"traitWillAttachDial\", dialTrait, targetTrait, this.owner);\n    },\n    didAttachTrait(dialTrait: DialTrait): void {\n      if (this.owner.consuming) {\n        dialTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(dialTrait: DialTrait): void {\n      if (this.owner.consuming) {\n        dialTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(dialTrait: DialTrait): void {\n      this.owner.callObservers(\"traitDidDetachDial\", dialTrait, this.owner);\n    },\n    detectModel(model: Model): DialTrait | null {\n      return model.getTrait(DialTrait);\n    },\n  })\n  readonly dials!: TraitSet<this, DialTrait>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.dials.consumeTraits(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.dials.unconsumeTraits(this);\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DialView} from \"./DialView\";\nimport type {DialTrait} from \"./DialTrait\";\nimport {DialController} from \"./DialController\";\nimport {GaugeView} from \"./GaugeView\";\nimport {GaugeTrait} from \"./GaugeTrait\";\n\n/** @public */\nexport interface GaugeControllerObserver<C extends GaugeController = GaugeController> extends ControllerObserver<C> {\n  controllerWillAttachGaugeTrait?(gaugeTrait: GaugeTrait, controller: C): void;\n\n  controllerDidDetachGaugeTrait?(gaugeTrait: GaugeTrait, controller: C): void;\n\n  controllerWillAttachGaugeView?(gaugeView: GaugeView, controller: C): void;\n\n  controllerDidDetachGaugeView?(gaugeView: GaugeView | null, controller: C): void;\n\n  controllerWillAttachGaugeTitleView?(titleView: GraphicsView, controller: C): void;\n\n  controllerDidDetachGaugeTitleView?(titleView: GraphicsView, controller: C): void;\n\n  controllerWillAttachDial?(dialController: DialController, controller: C): void;\n\n  controllerDidDetachDial?(dialController: DialController, controller: C): void;\n\n  controllerWillAttachDialTrait?(dialTrait: DialTrait, dialController: DialController, controller: C): void;\n\n  controllerDidDetachDialTrait?(dialTrait: DialTrait, dialController: DialController, controller: C): void;\n\n  controllerWillAttachDialView?(dialView: DialView, dialController: DialController, controller: C): void;\n\n  controllerDidDetachDialView?(dialView: DialView, dialController: DialController, controller: C): void;\n\n  controllerDidSetDialValue?(value: number, dialController: DialController, controller: C): void;\n\n  controllerDidSetDialLimit?(limit: number, dialController: DialController, controller: C): void;\n\n  controllerWillAttachDialLabelView?(labelView: GraphicsView, dialController: DialController, controller: C): void;\n\n  controllerDidDetachDialLabelView?(labelView: GraphicsView, dialController: DialController, controller: C): void;\n\n  controllerWillAttachDialLegendView?(legendView: GraphicsView, dialController: DialController, controller: C): void;\n\n  controllerDidDetachDialLegendView?(legendView: GraphicsView, dialController: DialController, controller: C): void;\n}\n\n/** @public */\nexport class GaugeController extends Controller {\n  declare readonly observerType?: Class<GaugeControllerObserver>;\n\n  protected setTitleView(title: string | undefined): void {\n    const gaugeView = this.gauge.view;\n    if (gaugeView !== null) {\n      gaugeView.title.set(title);\n    }\n  }\n\n  protected setLimit(limit: number): void {\n    const gaugeView = this.gauge.view;\n    if (gaugeView !== null) {\n      gaugeView.limit.set(limit);\n    }\n  }\n\n  @TraitViewRef({\n    traitType: GaugeTrait,\n    observesTrait: true,\n    willAttachTrait(gaugeTrait: GaugeTrait): void {\n      this.owner.callObservers(\"controllerWillAttachGaugeTrait\", gaugeTrait, this.owner);\n    },\n    didAttachTrait(gaugeTrait: GaugeTrait): void {\n      this.owner.dials.addTraits(gaugeTrait.dials.traits);\n      const gaugeView = this.view;\n      if (gaugeView !== null) {\n        this.owner.setTitleView(gaugeTrait.title.value);\n        this.owner.setLimit(gaugeTrait.limit.value);\n      }\n    },\n    willDetachTrait(gaugeTrait: GaugeTrait): void {\n      const gaugeView = this.view;\n      if (gaugeView !== null) {\n        this.owner.setTitleView(void 0);\n        this.owner.setLimit(0);\n      }\n      this.owner.dials.deleteTraits(gaugeTrait.dials.traits);\n    },\n    didDetachTrait(gaugeTrait: GaugeTrait): void {\n      this.owner.callObservers(\"controllerDidDetachGaugeTrait\", gaugeTrait, this.owner);\n    },\n    traitDidSetTitle(title: string | undefined): void {\n      this.owner.setTitleView(title);\n    },\n    traitDidSetLimit(limit: number): void {\n      this.owner.setLimit(limit);\n    },\n    traitWillAttachDial(dialTrait: DialTrait, targetTrait: Trait): void {\n      this.owner.dials.addTrait(dialTrait, targetTrait);\n    },\n    traitDidDetachDial(dialTrait: DialTrait): void {\n      this.owner.dials.deleteTrait(dialTrait);\n    },\n    viewType: GaugeView,\n    observesView: true,\n    initView(gaugeView: GaugeView): void {\n      const dialControllers = this.owner.dials.controllers;\n      for (const controllerId in dialControllers) {\n        const dialController = dialControllers[controllerId]!;\n        const dialView = dialController.dial.view;\n        if (dialView !== null && dialView.parent === null) {\n          dialController.dial.insertView(gaugeView);\n        }\n      }\n      this.owner.title.setView(gaugeView.title.view);\n      const gaugeTrait = this.trait;\n      if (gaugeTrait !== null) {\n        this.owner.setTitleView(gaugeTrait.title.value);\n        this.owner.setLimit(gaugeTrait.limit.value);\n      }\n    },\n    deinitView(gaugeView: GaugeView): void {\n      this.owner.title.setView(null);\n    },\n    willAttachView(gaugeView: GaugeView): void {\n      this.owner.callObservers(\"controllerWillAttachGaugeView\", gaugeView, this.owner);\n    },\n    didDetachView(gaugeView: GaugeView): void {\n      this.owner.callObservers(\"controllerDidDetachGaugeView\", gaugeView, this.owner);\n    },\n    viewWillAttachTitle(titleView: GraphicsView): void {\n      this.owner.title.setView(titleView);\n    },\n    viewDidDetachTitle(titleView: GraphicsView): void {\n      this.owner.title.setView(null);\n    },\n  })\n  readonly gauge!: TraitViewRef<this, GaugeTrait, GaugeView> & Observes<GaugeTrait> & Observes<GaugeView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachGaugeTitleView\", titleView, this.owner);\n    },\n    didDetachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachGaugeTitleView\", titleView, this.owner);\n    },\n  })\n  readonly title!: ViewRef<this, GraphicsView>;\n\n  @Property({valueType: Timing, value: true})\n  get dialTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewControllerSet({\n    controllerType: DialController,\n    binds: true,\n    observes: true,\n    get parentView(): GaugeView | null {\n      return this.owner.gauge.view;\n    },\n    getTraitViewRef(dialController: DialController): TraitViewRef<unknown, DialTrait, DialView> {\n      return dialController.dial;\n    },\n    willAttachController(dialController: DialController): void {\n      this.owner.callObservers(\"controllerWillAttachDial\", dialController, this.owner);\n    },\n    didAttachController(dialController: DialController): void {\n      const dialTrait = dialController.dial.trait;\n      if (dialTrait !== null) {\n        this.attachDialTrait(dialTrait, dialController);\n      }\n      const dialView = dialController.dial.view;\n      if (dialView !== null) {\n        this.attachDialView(dialView, dialController);\n      }\n    },\n    willDetachController(dialController: DialController): void {\n      const dialView = dialController.dial.view;\n      if (dialView !== null) {\n        this.detachDialView(dialView, dialController);\n      }\n      const dialTrait = dialController.dial.trait;\n      if (dialTrait !== null) {\n        this.detachDialTrait(dialTrait, dialController);\n      }\n    },\n    didDetachController(dialController: DialController): void {\n      this.owner.callObservers(\"controllerDidDetachDial\", dialController, this.owner);\n    },\n    controllerWillAttachDialTrait(dialTrait: DialTrait, dialController: DialController): void {\n      this.owner.callObservers(\"controllerWillAttachDialTrait\", dialTrait, dialController, this.owner);\n      this.attachDialTrait(dialTrait, dialController);\n    },\n    controllerDidDetachDialTrait(dialTrait: DialTrait, dialController: DialController): void {\n      this.detachDialTrait(dialTrait, dialController);\n      this.owner.callObservers(\"controllerDidDetachDialTrait\", dialTrait, dialController, this.owner);\n    },\n    attachDialTrait(dialTrait: DialTrait, dialController: DialController): void {\n      // hook\n    },\n    detachDialTrait(dialTrait: DialTrait, dialController: DialController): void {\n      // hook\n    },\n    controllerWillAttachDialView(dialView: DialView, dialController: DialController): void {\n      this.owner.callObservers(\"controllerWillAttachDialView\", dialView, dialController, this.owner);\n      this.attachDialView(dialView, dialController);\n    },\n    controllerDidDetachDialView(dialView: DialView, dialController: DialController): void {\n      this.detachDialView(dialView, dialController);\n      this.owner.callObservers(\"controllerDidDetachDialView\", dialView, dialController, this.owner);\n    },\n    attachDialView(dialView: DialView, dialController: DialController): void {\n      const labelView = dialView.label.view;\n      if (labelView !== null) {\n        this.attachDialLabelView(labelView, dialController);\n      }\n      const legendView = dialView.legend.view;\n      if (legendView !== null) {\n        this.attachDialLegendView(legendView, dialController);\n      }\n    },\n    detachDialView(dialView: DialView, dialController: DialController): void {\n      const legendView = dialView.legend.view;\n      if (legendView !== null) {\n        this.detachDialLegendView(legendView, dialController);\n      }\n      const labelView = dialView.label.view;\n      if (labelView !== null) {\n        this.detachDialLabelView(labelView, dialController);\n      }\n      dialView.remove();\n    },\n    controllerDidSetDialValue(value: number, dialController: DialController): void {\n      this.owner.callObservers(\"controllerDidSetDialValue\", value, dialController, this.owner);\n    },\n    controllerDidSetDialLimit(limit: number, dialController: DialController): void {\n      this.owner.callObservers(\"controllerDidSetDialLimit\", limit, dialController, this.owner);\n    },\n    controllerWillAttachDialLabelView(labelView: GraphicsView, dialController: DialController): void {\n      this.owner.callObservers(\"controllerWillAttachDialLabelView\", labelView, dialController, this.owner);\n      this.attachDialLabelView(labelView, dialController);\n    },\n    controllerDidDetachDialLabelView(labelView: GraphicsView, dialController: DialController): void {\n      this.detachDialLabelView(labelView, dialController);\n      this.owner.callObservers(\"controllerDidDetachDialLabelView\", labelView, dialController, this.owner);\n    },\n    attachDialLabelView(labelView: GraphicsView, dialController: DialController): void {\n      // hook\n    },\n    detachDialLabelView(labelView: GraphicsView, dialController: DialController): void {\n      // hook\n    },\n    controllerWillAttachDialLegendView(legendView: GraphicsView, dialController: DialController): void {\n      this.owner.callObservers(\"controllerWillAttachDialLegendView\", legendView, dialController, this.owner);\n      this.attachDialLegendView(legendView, dialController);\n    },\n    controllerDidDetachDialLegendView(legendView: GraphicsView, dialController: DialController): void {\n      this.detachDialLegendView(legendView, dialController);\n      this.owner.callObservers(\"controllerDidDetachDialLegendView\", legendView, dialController, this.owner);\n    },\n    attachDialLegendView(legendView: GraphicsView, dialController: DialController): void {\n      // hook\n    },\n    detachDialLegendView(legendView: GraphicsView, dialController: DialController): void {\n      // hook\n    },\n  })\n  readonly dials!: TraitViewControllerSet<this, DialTrait, DialView, DialController> & Observes<DialController> & {\n    attachDialTrait(dialTrait: DialTrait, dialController: DialController): void;\n    detachDialTrait(dialTrait: DialTrait, dialController: DialController): void;\n    attachDialView(dialView: DialView, dialController: DialController): void;\n    detachDialView(dialView: DialView, dialController: DialController): void;\n    attachDialLabelView(labelView: GraphicsView, dialController: DialController): void;\n    detachDialLabelView(labelView: GraphicsView, dialController: DialController): void;\n    attachDialLegendView(legendView: GraphicsView, dialController: DialController): void;\n    detachDialLegendView(legendView: GraphicsView, dialController: DialController): void;\n  };\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Equivalent} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport {Animator} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {Angle} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {PaintingContext} from \"@swim/graphics\";\nimport {PaintingRenderer} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport {FillView} from \"@swim/graphics\";\nimport {Arc} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\n\n/** @public */\nexport interface SliceViewObserver<V extends SliceView = SliceView> extends GraphicsViewObserver<V> {\n  viewDidSetValue?(value: number, view: V): void;\n\n  viewDidSetTotal?(total: number, view: V): void;\n\n  viewWillAttachLabel?(labelView: GraphicsView, view: V): void;\n\n  viewDidDetachLabel?(labelView: GraphicsView, view: V): void;\n\n  viewWillAttachLegend?(legendView: GraphicsView, view: V): void;\n\n  viewDidDetachLegend?(legendView: GraphicsView, view: V): void;\n}\n\n/** @public */\nexport class SliceView extends GraphicsView {\n  declare readonly observerType?: Class<SliceViewObserver>;\n\n  @Animator({\n    valueType: Number,\n    value: 0,\n    updateFlags: View.NeedsRender,\n    didSetValue(value: number): void {\n      this.owner.callObservers(\"viewDidSetValue\", value, this.owner);\n    },\n  })\n  readonly value!: Animator<this, number>;\n\n  @Animator({\n    valueType: Number,\n    value: 1,\n    updateFlags: View.NeedsRender,\n    didSetValue(total: number): void {\n      this.owner.callObservers(\"viewDidSetTotal\", total, this.owner);\n    },\n  })\n  readonly total!: Animator<this, number>;\n\n  @Animator({valueType: R2Point, value: R2Point.origin(), inherits: true, updateFlags: View.NeedsRender})\n  readonly center!: Animator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(3), inherits: true, updateFlags: View.NeedsRender})\n  readonly innerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(25), inherits: true, updateFlags: View.NeedsRender})\n  readonly outerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.zero(), updateFlags: View.NeedsRender})\n  readonly phaseAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.deg(2), inherits: true, updateFlags: View.NeedsRender})\n  readonly padAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Length, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly padRadius!: ThemeAnimator<this, Length | null>;\n\n  @ThemeAnimator({valueType: Length, value: Length.zero(), inherits: true, updateFlags: View.NeedsRender})\n  readonly cornerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50), inherits: true, updateFlags: View.NeedsRender})\n  readonly labelRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.accentColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly sliceColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 0.5, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickAlign!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(30), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickLength!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(1), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickWidth!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(2), inherits: true, updateFlags: View.NeedsRender})\n  readonly tickPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor, inherits: true, updateFlags: View.NeedsRender})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachLabel\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachLabel\", labelView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly label!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachLegend\", legendView, this.owner);\n    },\n    didDetachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachLegend\", legendView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly legend!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.center.recohere(this.updateTime);\n  }\n\n  protected override onRender(): void {\n    super.onRender();\n    const renderer = this.renderer.value;\n    if (renderer instanceof PaintingRenderer && !this.hidden && !this.culled) {\n      this.renderSlice(renderer.context, this.viewFrame);\n    }\n  }\n\n  protected renderSlice(context: PaintingContext, frame: R2Box): void {\n    const width = frame.width;\n    const height = frame.height;\n    const size = Math.min(width, height);\n    const value = this.value.getValue();\n    const total = this.total.getValue();\n    const delta = total !== 0 ? value / total : 0;\n\n    const center = this.center.getValue();\n    const innerRadius = this.innerRadius.getValue().px(size);\n    const outerRadius = this.outerRadius.getValue().px(size);\n    const deltaRadius = outerRadius.value - innerRadius.value;\n    const startAngle = this.phaseAngle.getValue().rad();\n    const sweepAngle = Angle.rad(2 * Math.PI * delta);\n    const padAngle = this.padAngle.getValue();\n    const padRadius = this.padRadius.getValueOr(null);\n    const cornerRadius = this.cornerRadius.getValue().px(deltaRadius);\n    const arc = new Arc(center, innerRadius, outerRadius, startAngle,\n                        sweepAngle, padAngle, padRadius, cornerRadius);\n\n    const sliceColor = this.sliceColor.value;\n    if (sliceColor !== null) {\n      // save\n      const contextFillStyle = context.fillStyle;\n\n      context.beginPath();\n      context.fillStyle = sliceColor.toString();\n      arc.draw(context, frame);\n      context.fill();\n\n      // restore\n      context.fillStyle = contextFillStyle;\n    }\n\n    const labelView = this.label.view;\n    if (labelView !== null && !labelView.hidden) {\n      const labelRadius = this.labelRadius.getValue().pxValue(deltaRadius);\n      const labelAngle = startAngle.value + sweepAngle.value / 2;\n      const r = innerRadius.value + labelRadius;\n      const rx = r * Math.cos(labelAngle);\n      const ry = r * Math.sin(labelAngle);\n\n      if (TypesetView[Symbol.hasInstance](labelView)) {\n        labelView.setIntrinsic({\n          textAlign: \"center\",\n          textBaseline: \"middle\",\n          textOrigin: new R2Point(center.x + rx, center.y + ry),\n        });\n      }\n    }\n\n    const legendView = this.legend.view;\n    if (legendView !== null && !legendView.hidden) {\n      const tickAlign = this.tickAlign.getValue();\n      const tickAngle = startAngle.value + sweepAngle.value * tickAlign;\n      const tickRadius = this.tickRadius.getValue().pxValue(size);\n      const tickLength = this.tickLength.getValue().pxValue(width);\n      const tickWidth = this.tickWidth.getValue().pxValue(size);\n      const tickColor = this.tickColor.value;\n\n      const cx = center.x;\n      const cy = center.y;\n      const r1x = outerRadius.value * Math.cos(tickAngle + Equivalent.Epsilon);\n      const r1y = outerRadius.value * Math.sin(tickAngle + Equivalent.Epsilon);\n      const r2x = tickRadius * Math.cos(tickAngle + Equivalent.Epsilon);\n      const r2y = tickRadius * Math.sin(tickAngle + Equivalent.Epsilon);\n      let dx = 0;\n\n      if (tickColor !== null && tickWidth !== 0) {\n        // save\n        const contextLineWidth = context.lineWidth;\n        const contextStrokeStyle = context.strokeStyle;\n\n        context.beginPath();\n        context.lineWidth = tickWidth;\n        context.strokeStyle = tickColor.toString();\n        context.moveTo(cx + r1x, cy + r1y);\n        context.lineTo(cx + r2x, cy + r2y);\n        if (tickLength !== 0) {\n          if (r2x >= 0) {\n            context.lineTo(cx + tickLength, cy + r2y);\n            dx = tickLength - r2x;\n          } else if (r2x < 0) {\n            context.lineTo(cx - tickLength, cy + r2y);\n            dx = tickLength + r2x;\n          }\n        }\n        context.stroke();\n\n        // restore\n        context.lineWidth = contextLineWidth;\n        context.strokeStyle = contextStrokeStyle;\n      }\n\n      let textAlign: CanvasTextAlign;\n      if (r2x >= 0) {\n        if (r2y >= 0) { // top-right\n          textAlign = \"end\";\n        } else { // bottom-right\n          textAlign = \"end\";\n        }\n      } else {\n        dx = -dx;\n        if (r2y < 0) { // bottom-left\n          textAlign = \"start\";\n        } else { // top-left\n          textAlign = \"start\";\n        }\n      }\n\n      if (TypesetView[Symbol.hasInstance](legendView)) {\n        const tickPadding = this.tickPadding.getValue().pxValue(size);\n        if (FillView[Symbol.hasInstance](legendView)) {\n          legendView.fill.setIntrinsic(tickColor);\n        }\n        legendView.setIntrinsic({\n          textAlign,\n          textBaseline: \"alphabetic\",\n          textOrigin: new R2Point(cx + r2x + dx, cy + r2y - tickPadding),\n        });\n      }\n    }\n  }\n\n  protected override hitTest(x: number, y: number): GraphicsView | null {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const p = renderer.transform.transform(x, y);\n      return this.hitTestSlice(p.x, p.y, renderer.context, this.viewFrame);\n    }\n    return null;\n  }\n\n  protected hitTestSlice(x: number, y: number, context: CanvasContext, frame: R2Box): GraphicsView | null {\n    const size = Math.min(frame.width, frame.height);\n    const value = this.value.getValue();\n    const total = this.total.getValue();\n    const delta = total !== 0 ? value / total : 0;\n\n    const center = this.center.getValue();\n    const innerRadius = this.innerRadius.getValue().px(size);\n    const outerRadius = this.outerRadius.getValue().px(size);\n    const deltaRadius = outerRadius.value - innerRadius.value;\n    const startAngle = this.phaseAngle.getValue().rad();\n    const sweepAngle = Angle.rad(2 * Math.PI * delta);\n    const padAngle = this.padAngle.getValue();\n    const padRadius = this.padRadius.getValueOr(null);\n    const cornerRadius = this.cornerRadius.getValue().px(deltaRadius);\n    const arc = new Arc(center, innerRadius, outerRadius, startAngle,\n                        sweepAngle, padAngle, padRadius, cornerRadius);\n\n    context.beginPath();\n    arc.draw(context, frame);\n    if (context.isPointInPath(x, y)) {\n      return this;\n    }\n    return null;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\n\n/** @public */\nexport interface SliceTraitObserver<T extends SliceTrait = SliceTrait> extends TraitObserver<T> {\n  traitDidSetValue?(value: number, trait: T): void;\n\n  traitDidSetSliceColor?(sliceColor: ColorOrLook | null, trait: T): void;\n\n  traitDidSetLabel?(label: string | undefined, trait: T): void;\n\n  traitDidSetLegend?(legend: string | undefined, trait: T): void;\n}\n\n/** @public */\nexport class SliceTrait extends Trait {\n  declare readonly observerType?: Class<SliceTraitObserver>;\n\n  @Property({\n    valueType: Number,\n    value: 0,\n    didSetValue(value: number): void {\n      this.owner.callObservers(\"traitDidSetValue\", value, this.owner);\n    },\n  })\n  readonly value!: Property<this, number>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(sliceColor: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetSliceColor\", sliceColor, this.owner);\n    },\n  })\n  readonly sliceColor!: Property<this, ColorOrLook | null>;\n\n  formatLabel(value: number): string | undefined {\n    return void 0;\n  }\n\n  @Property({\n    valueType: String,\n    didSetValue(label: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetLabel\", label, this.owner);\n    },\n  })\n  readonly label!: Property<this, string | undefined>;\n\n  formatLegend(value: number): string | undefined {\n    return void 0;\n  }\n\n  @Property({\n    valueType: String,\n    didSetValue(legend: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetLegend\", legend, this.owner);\n    },\n  })\n  readonly legend!: Property<this, string | undefined>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {SliceView} from \"./SliceView\";\nimport {SliceTrait} from \"./SliceTrait\";\n\n/** @public */\nexport interface SliceControllerObserver<C extends SliceController = SliceController> extends ControllerObserver<C> {\n  controllerWillAttachSliceTrait?(sliceTrait: SliceTrait, controller: C): void;\n\n  controllerDidDetachSliceTrait?(sliceTrait: SliceTrait, controller: C): void;\n\n  controllerWillAttachSliceView?(sliceView: SliceView, controller: C): void;\n\n  controllerDidDetachSliceView?(sliceView: SliceView, controller: C): void;\n\n  controllerDidSetSliceValue?(value: number, controller: C): void;\n\n  controllerWillAttachSliceLabelView?(labelView: GraphicsView, controller: C): void;\n\n  controllerDidDetachSliceLabelView?(labelView: GraphicsView, controller: C): void;\n\n  controllerWillAttachSliceLegendView?(legendView: GraphicsView, controller: C): void;\n\n  controllerDidDetachSliceLegendView?(legendView: GraphicsView, controller: C): void;\n}\n\n/** @public */\nexport class SliceController extends Controller {\n  declare readonly observerType?: Class<SliceControllerObserver>;\n\n  protected updateLabel(value: number, sliceTrait: SliceTrait): void {\n    if (sliceTrait.label.hasAffinity(Affinity.Intrinsic)) {\n      const label = sliceTrait.formatLabel(value);\n      if (label !== void 0) {\n        sliceTrait.label.setIntrinsic(label);\n      }\n    }\n  }\n\n  protected updateLegend(value: number, sliceTrait: SliceTrait): void {\n    if (sliceTrait.legend.hasAffinity(Affinity.Intrinsic)) {\n      const legend = sliceTrait.formatLegend(value);\n      if (legend !== void 0) {\n        sliceTrait.legend.setIntrinsic(legend);\n      }\n    }\n  }\n\n  protected setValue(value: number, timing?: TimingLike | boolean): void {\n    const sliceView = this.slice.view;\n    if (sliceView !== null && sliceView.value.hasAffinity(Affinity.Intrinsic)) {\n      if (timing === void 0 || timing === true) {\n        timing = this.sliceTiming.value;\n        if (timing === true) {\n          timing = sliceView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      sliceView.value.setIntrinsic(value, timing);\n    }\n  }\n\n  protected setSliceColor(sliceColor: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const sliceView = this.slice.view;\n    if (sliceView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.sliceTiming.value;\n        if (timing === true) {\n          timing = sliceView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      sliceView.sliceColor.setIntrinsic(sliceColor, timing);\n    }\n  }\n\n  protected setLabelView(label: string | undefined): void {\n    const sliceView = this.slice.view;\n    if (sliceView !== null) {\n      sliceView.label.set(label !== void 0 ? label : \"\");\n    }\n  }\n\n  protected setLegendView(legend: string | undefined): void {\n    const sliceView = this.slice.view;\n    if (sliceView !== null) {\n      sliceView.legend.set(legend !== void 0 ? legend : \"\");\n    }\n  }\n\n  @Property({valueType: Timing, inherits: true})\n  get sliceTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewRef({\n    traitType: SliceTrait,\n    observesTrait: true,\n    willAttachTrait(sliceTrait: SliceTrait): void {\n      this.owner.callObservers(\"controllerWillAttachSliceTrait\", sliceTrait, this.owner);\n    },\n    didAttachTrait(sliceTrait: SliceTrait): void {\n      const sliceView = this.view;\n      if (sliceView !== null) {\n        this.owner.setValue(sliceTrait.value.value);\n        const sliceColor = sliceTrait.sliceColor.value;\n        if (sliceColor !== null) {\n          this.owner.setSliceColor(sliceColor);\n        }\n        this.owner.setLabelView(sliceTrait.label.value);\n        this.owner.setLegendView(sliceTrait.legend.value);\n      }\n    },\n    didDetachTrait(sliceTrait: SliceTrait): void {\n      this.owner.callObservers(\"controllerDidDetachSliceTrait\", sliceTrait, this.owner);\n    },\n    traitDidSetValue(value: number): void {\n      this.owner.setValue(value);\n    },\n    traitDidSetSliceColor(sliceColor: ColorOrLook | null): void {\n      this.owner.setSliceColor(sliceColor);\n    },\n    traitDidSetLabel(label: string | undefined): void {\n      this.owner.setLabelView(label);\n    },\n    traitDidSetLegend(legend: string | undefined): void {\n      this.owner.setLegendView(legend);\n    },\n    viewType: SliceView,\n    observesView: true,\n    willAttachView(sliceView: SliceView): void {\n      this.owner.callObservers(\"controllerWillAttachSliceView\", sliceView, this.owner);\n    },\n    didAttachView(sliceView: SliceView): void {\n      const sliceTrait = this.trait;\n      if (sliceTrait !== null) {\n        const sliceColor = sliceTrait.sliceColor.value;\n        if (sliceColor !== null) {\n          this.owner.setSliceColor(sliceColor);\n        }\n      }\n      this.owner.label.setView(sliceView.label.view);\n      this.owner.legend.setView(sliceView.legend.view);\n      const value = sliceView.value.value;\n      sliceView.setHidden(value === 0);\n      if (sliceTrait !== null) {\n        this.owner.updateLabel(value, sliceTrait);\n        this.owner.updateLegend(value, sliceTrait);\n        this.owner.setValue(sliceTrait.value.value);\n        this.owner.setLabelView(sliceTrait.label.value);\n        this.owner.setLegendView(sliceTrait.legend.value);\n      }\n    },\n    willDetachView(sliceView: SliceView): void {\n      this.owner.label.setView(null);\n      this.owner.legend.setView(null);\n    },\n    didDetachView(sliceView: SliceView): void {\n      this.owner.callObservers(\"controllerDidDetachSliceView\", sliceView, this.owner);\n    },\n    viewDidSetValue(value: number, sliceView: SliceView): void {\n      sliceView.setHidden(value === 0);\n      const sliceTrait = this.trait;\n      if (sliceTrait !== null) {\n        this.owner.updateLabel(value, sliceTrait);\n        this.owner.updateLegend(value, sliceTrait);\n      }\n      this.owner.callObservers(\"controllerDidSetSliceValue\", value, this.owner);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(null);\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.owner.legend.setView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.owner.legend.setView(null);\n    },\n  })\n  readonly slice!: TraitViewRef<this, SliceTrait, SliceView> & Observes<SliceTrait> & Observes<SliceView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachSliceLabelView\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachSliceLabelView\", labelView, this.owner);\n    },\n  })\n  readonly label!: ViewRef<this, GraphicsView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachSliceLegendView\", legendView, this.owner);\n    },\n    didDetachView(legendView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachSliceLegendView\", legendView, this.owner);\n    },\n  })\n  readonly legend!: ViewRef<this, GraphicsView>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Animator} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {Angle} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\nimport {SliceView} from \"./SliceView\";\n\n/** @public */\nexport interface PieViewObserver<V extends PieView = PieView> extends GraphicsViewObserver<V> {\n  viewWillAttachTitle?(titleView: GraphicsView, view: V): void;\n\n  viewDidDetachTitle?(titleView: GraphicsView, view: V): void;\n\n  viewWillAttachSlice?(sliceView: SliceView, targetView: View | null, view: V): void;\n\n  viewDidDetachSlice?(sliceView: SliceView, view: V): void;\n}\n\n/** @public */\nexport class PieView extends GraphicsView {\n  declare readonly observerType?: Class<PieViewObserver>;\n\n  @Animator({valueType: Number, value: 0, updateFlags: View.NeedsLayout})\n  readonly limit!: Animator<this, number>;\n\n  @Animator({valueType: R2Point, value: R2Point.origin(), updateFlags: View.NeedsLayout})\n  readonly center!: Animator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.rad(-Math.PI / 2), updateFlags: View.NeedsLayout})\n  readonly baseAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(3)})\n  readonly innerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(25)})\n  readonly outerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Angle, value: Angle.deg(2)})\n  readonly padAngle!: ThemeAnimator<this, Angle>;\n\n  @ThemeAnimator({valueType: Length, value: null})\n  readonly padRadius!: ThemeAnimator<this, Length | null>;\n\n  @ThemeAnimator({valueType: Length, value: Length.zero()})\n  readonly cornerRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50)})\n  readonly labelRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.accentColor})\n  readonly sliceColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 0.5})\n  readonly tickAlign!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(30)})\n  readonly tickRadius!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.pct(50)})\n  readonly tickLength!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(1)})\n  readonly tickWidth!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(2)})\n  readonly tickPadding!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor})\n  readonly tickColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.legendColor})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    initView(titleView: GraphicsView): void {\n      if (TypesetView[Symbol.hasInstance](titleView)) {\n        titleView.setIntrinsic({\n          textAlign: \"center\",\n          textBaseline: \"middle\",\n          textOrigin: this.owner.center.state,\n        });\n      }\n    },\n    willAttachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachTitle\", titleView, this.owner);\n    },\n    didDetachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachTitle\", titleView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly title!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @ViewSet({\n    viewType: SliceView,\n    binds: true,\n    observes: true,\n    willAttachView(sliceView: SliceView, targetView: View | null): void {\n      this.owner.callObservers(\"viewWillAttachSlice\", sliceView, targetView, this.owner);\n    },\n    didAttachView(sliceView: SliceView): void {\n      const labelView = sliceView.label.view;\n      if (labelView !== null) {\n        this.attachLabelView(labelView);\n      }\n      const legendView = sliceView.legend.view;\n      if (legendView !== null) {\n        this.attachLegendView(legendView);\n      }\n    },\n    willDetachView(sliceView: SliceView): void {\n      const legendView = sliceView.legend.view;\n      if (legendView !== null) {\n        this.detachLegendView(legendView);\n      }\n      const labelView = sliceView.label.view;\n      if (labelView !== null) {\n        this.detachLabelView(labelView);\n      }\n    },\n    didDetachView(sliceView: SliceView): void {\n      this.owner.callObservers(\"viewDidDetachSlice\", sliceView, this.owner);\n    },\n    viewDidSetValue(value: number): void {\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.attachLabelView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.detachLabelView(labelView);\n    },\n    attachLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n    detachLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n    viewWillAttachLegend(legendView: GraphicsView): void {\n      this.attachLegendView(legendView);\n    },\n    viewDidDetachLegend(legendView: GraphicsView): void {\n      this.detachLegendView(legendView);\n    },\n    attachLegendView(legendView: GraphicsView): void {\n      // hook\n    },\n    detachLegendView(legendView: GraphicsView): void {\n      // hook\n    },\n  })\n  readonly slices!: ViewSet<this, SliceView> & Observes<SliceView> & {\n    attachLabelView(labelView: GraphicsView): void,\n    detachLabelView(labelView: GraphicsView): void,\n    attachLegendView(legendView: GraphicsView): void,\n    detachLegendView(legendView: GraphicsView): void,\n  };\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.layoutPie(this.viewFrame);\n  }\n\n  protected layoutPie(frame: R2Box): void {\n    if (this.center.hasAffinity(Affinity.Intrinsic)) {\n      const cx = (frame.xMin + frame.xMax) / 2;\n      const cy = (frame.yMin + frame.yMax) / 2;\n      this.center.setIntrinsic(new R2Point(cx, cy));\n    }\n\n    const sliceViews = this.slices.views;\n\n    let total = 0;\n    for (const viewId in sliceViews) {\n      const sliceView = sliceViews[viewId]!;\n      const value = sliceView.value.getValue();\n      if (isFinite(value)) {\n        total += value;\n      }\n    }\n    total = Math.max(total, this.limit.getValue());\n\n    let baseAngle = this.baseAngle.getValue().rad();\n    for (const viewId in sliceViews) {\n      const sliceView = sliceViews[viewId]!;\n      sliceView.total.setIntrinsic(total);\n      sliceView.phaseAngle.setIntrinsic(baseAngle);\n      const value = sliceView.value.getValue();\n      if (isFinite(value)) {\n        const delta = total !== 0 ? value / total : 0;\n        baseAngle = Angle.rad(baseAngle.value + 2 * Math.PI * delta);\n      }\n    }\n\n    const titleView = this.title.view;\n    if (TypesetView[Symbol.hasInstance](titleView)) {\n      titleView.textOrigin.setIntrinsic(this.center.value);\n    }\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitSet} from \"@swim/model\";\nimport {SliceTrait} from \"./SliceTrait\";\n\n/** @public */\nexport interface PieTraitObserver<T extends PieTrait = PieTrait> extends TraitObserver<T> {\n  traitDidSetTitle?(title: string | undefined, trait: T): void;\n\n  traitWillAttachSlice?(sliceTrait: SliceTrait, targetTrait: Trait | null, trait: T): void;\n\n  traitDidDetachSlice?(sliceTrait: SliceTrait, trait: T): void;\n}\n\n/** @public */\nexport class PieTrait extends Trait {\n  declare readonly observerType?: Class<PieTraitObserver>;\n\n  @Property({\n    valueType: String,\n    didSetValue(title: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetTitle\", title, this.owner);\n    },\n  })\n  readonly title!: Property<this, string | undefined>;\n\n  @TraitSet({\n    traitType: SliceTrait,\n    binds: true,\n    willAttachTrait(sliceTrait: SliceTrait, targetTrait: Trait | null): void {\n      this.owner.callObservers(\"traitWillAttachSlice\", sliceTrait, targetTrait, this.owner);\n    },\n    didAttachTrait(sliceTrait: SliceTrait): void {\n      if (this.owner.consuming) {\n        sliceTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(sliceTrait: SliceTrait): void {\n      if (this.owner.consuming) {\n        sliceTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(sliceTrait: SliceTrait): void {\n      this.owner.callObservers(\"traitDidDetachSlice\", sliceTrait, this.owner);\n    },\n    detectModel(model: Model): SliceTrait | null {\n      return model.getTrait(SliceTrait);\n    },\n  })\n  readonly slices!: TraitSet<this, SliceTrait>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.slices.consumeTraits(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.slices.unconsumeTraits(this);\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Trait} from \"@swim/model\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {SliceView} from \"./SliceView\";\nimport type {SliceTrait} from \"./SliceTrait\";\nimport {SliceController} from \"./SliceController\";\nimport {PieView} from \"./PieView\";\nimport {PieTrait} from \"./PieTrait\";\n\n/** @public */\nexport interface PieControllerObserver<C extends PieController = PieController> extends ControllerObserver<C> {\n  controllerWillAttachPieTrait?(pieTrait: PieTrait, controller: C): void;\n\n  controllerDidDetachPieTrait?(pieTrait: PieTrait, controller: C): void;\n\n  controllerWillAttachPieView?(pieView: PieView, controller: C): void;\n\n  controllerDidDetachPieView?(pieView: PieView, controller: C): void;\n\n  controllerWillAttachPieTitleView?(titleView: GraphicsView, controller: C): void;\n\n  controllerDidDetachPieTitleView?(titleView: GraphicsView, controller: C): void;\n\n  controllerWillAttachSlice?(sliceController: SliceController, controller: C): void;\n\n  controllerDidDetachSlice?(sliceController: SliceController, controller: C): void;\n\n  controllerWillAttachSliceTrait?(sliceTrait: SliceTrait, sliceController: SliceController, controller: C): void;\n\n  controllerDidDetachSliceTrait?(sliceTrait: SliceTrait, sliceController: SliceController, controller: C): void;\n\n  controllerWillAttachSliceView?(sliceView: SliceView, sliceController: SliceController, controller: C): void;\n\n  controllerDidDetachSliceView?(sliceView: SliceView, sliceController: SliceController, controller: C): void;\n\n  controllerDidSetSliceValue?(sliceValue: number, sliceController: SliceController, controller: C): void;\n\n  controllerWillAttachSliceLabelView?(labelView: GraphicsView, sliceController: SliceController, controller: C): void;\n\n  controllerDidDetachSliceLabelView?(labelView: GraphicsView, sliceController: SliceController, controller: C): void;\n\n  controllerWillAttachSliceLegendView?(legendView: GraphicsView, sliceController: SliceController, controller: C): void;\n\n  controllerDidDetachSliceLegendView?(legendView: GraphicsView, sliceController: SliceController, controller: C): void;\n}\n\n/** @public */\nexport class PieController extends Controller {\n  declare readonly observerType?: Class<PieControllerObserver>;\n\n  protected setTitleView(title: string | undefined): void {\n    const pieView = this.pie.view;\n    if (pieView !== null) {\n      pieView.title.set(title);\n    }\n  }\n\n  @TraitViewRef({\n    traitType: PieTrait,\n    observesTrait: true,\n    willAttachTrait(pieTrait: PieTrait): void {\n      this.owner.callObservers(\"controllerWillAttachPieTrait\", pieTrait, this.owner);\n    },\n    didAttachTrait(pieTrait: PieTrait): void {\n      this.owner.slices.addTraits(pieTrait.slices.traits);\n      const pieView = this.view;\n      if (pieView !== null) {\n        this.owner.setTitleView(pieTrait.title.value);\n      }\n    },\n    willDetachTrait(pieTrait: PieTrait): void {\n      const pieView = this.view;\n      if (pieView !== null) {\n        this.owner.setTitleView(pieTrait.title.value);\n      }\n      this.owner.slices.deleteTraits(pieTrait.slices.traits);\n    },\n    didDetachTrait(pieTrait: PieTrait): void {\n      this.owner.callObservers(\"controllerDidDetachPieTrait\", pieTrait, this.owner);\n    },\n    traitDidSetTitle(title: string | undefined): void {\n      this.owner.setTitleView(title);\n    },\n    traitWillAttachSlice(sliceTrait: SliceTrait, targetTrait: Trait): void {\n      this.owner.slices.addTrait(sliceTrait);\n    },\n    traitDidDetachSlice(sliceTrait: SliceTrait): void {\n      this.owner.slices.deleteTrait(sliceTrait);\n    },\n    viewType: PieView,\n    observesView: true,\n    initView(pieView: PieView): void {\n      const sliceControllers = this.owner.slices.controllers;\n      for (const controllerId in sliceControllers) {\n        const sliceController = sliceControllers[controllerId]!;\n        const sliceView = sliceController.slice.view;\n        if (sliceView !== null && sliceView.parent === null) {\n          sliceController.slice.insertView(pieView);\n        }\n      }\n      this.owner.title.setView(pieView.title.view);\n      const pieTrait = this.trait;\n      if (pieTrait !== null) {\n        this.owner.setTitleView(pieTrait.title.value);\n      }\n    },\n    deinitView(pieView: PieView): void {\n      this.owner.title.setView(null);\n    },\n    willAttachView(pieView: PieView): void {\n      this.owner.callObservers(\"controllerWillAttachPieView\", pieView, this.owner);\n    },\n    didDetachView(pieView: PieView): void {\n      this.owner.callObservers(\"controllerDidDetachPieView\", pieView, this.owner);\n    },\n    viewWillAttachTitle(titleView: GraphicsView): void {\n      this.owner.title.setView(titleView);\n    },\n    viewDidDetachTitle(titleView: GraphicsView): void {\n      this.owner.title.setView(null);\n    },\n  })\n  readonly pie!: TraitViewRef<this, PieTrait, PieView> & Observes<PieTrait> & Observes<PieView>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachPieTitleView\", titleView, this.owner);\n    },\n    didDetachView(titleView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachPieTitleView\", titleView, this.owner);\n    },\n  })\n  readonly title!: ViewRef<this, GraphicsView>;\n\n  @Property({valueType: Timing, value: true})\n  get sliceTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewControllerSet({\n    controllerType: SliceController,\n    binds: true,\n    observes: true,\n    get parentView(): PieView | null {\n      return this.owner.pie.view;\n    },\n    getTraitViewRef(sliceController: SliceController): TraitViewRef<unknown, SliceTrait, SliceView> {\n      return sliceController.slice;\n    },\n    willAttachController(sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerWillAttachSlice\", sliceController, this.owner);\n    },\n    didAttachController(sliceController: SliceController): void {\n      const sliceTrait = sliceController.slice.trait;\n      if (sliceTrait !== null) {\n        this.attachSliceTrait(sliceTrait, sliceController);\n      }\n      const sliceView = sliceController.slice.view;\n      if (sliceView !== null) {\n        this.attachSliceView(sliceView, sliceController);\n      }\n    },\n    willDetachController(sliceController: SliceController): void {\n      const sliceView = sliceController.slice.view;\n      if (sliceView !== null) {\n        this.detachSliceView(sliceView, sliceController);\n      }\n      const sliceTrait = sliceController.slice.trait;\n      if (sliceTrait !== null) {\n        this.detachSliceTrait(sliceTrait, sliceController);\n      }\n    },\n    didDetachController(sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerDidDetachSlice\", sliceController, this.owner);\n    },\n    controllerWillAttachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerWillAttachSliceTrait\", sliceTrait, sliceController, this.owner);\n      this.attachSliceTrait(sliceTrait, sliceController);\n    },\n    controllerDidDetachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void {\n      this.detachSliceTrait(sliceTrait, sliceController);\n      this.owner.callObservers(\"controllerDidDetachSliceTrait\", sliceTrait, sliceController, this.owner);\n    },\n    attachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void {\n      // hook\n    },\n    detachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void {\n      // hook\n    },\n    controllerWillAttachSliceView(sliceView: SliceView, sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerWillAttachSliceView\", sliceView, sliceController, this.owner);\n      this.attachSliceView(sliceView, sliceController);\n    },\n    controllerDidDetachSliceView(sliceView: SliceView, sliceController: SliceController): void {\n      this.detachSliceView(sliceView, sliceController);\n      this.owner.callObservers(\"controllerDidDetachSliceView\", sliceView, sliceController, this.owner);\n    },\n    attachSliceView(sliceView: SliceView, sliceController: SliceController): void {\n      const labelView = sliceView.label.view;\n      if (labelView !== null) {\n        this.attachSliceLabelView(labelView, sliceController);\n      }\n      const legendView = sliceView.legend.view;\n      if (legendView !== null) {\n        this.attachSliceLegendView(legendView, sliceController);\n      }\n    },\n    detachSliceView(sliceView: SliceView, sliceController: SliceController): void {\n      const legendView = sliceView.legend.view;\n      if (legendView !== null) {\n        this.detachSliceLegendView(legendView, sliceController);\n      }\n      const labelView = sliceView.label.view;\n      if (labelView !== null) {\n        this.detachSliceLabelView(labelView, sliceController);\n      }\n      sliceView.remove();\n    },\n    controllerDidSetSliceValue(sliceValue: number, sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerDidSetSliceValue\", sliceValue, sliceController, this.owner);\n    },\n    controllerWillAttachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerWillAttachSliceLabelView\", labelView, sliceController, this.owner);\n      this.attachSliceLabelView(labelView, sliceController);\n    },\n    controllerDidDetachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void {\n      this.detachSliceLabelView(labelView, sliceController);\n      this.owner.callObservers(\"controllerDidDetachSliceLabelView\", labelView, sliceController, this.owner);\n    },\n    attachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void {\n      // hook\n    },\n    detachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void {\n      // hook\n    },\n    controllerWillAttachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void {\n      this.owner.callObservers(\"controllerWillAttachSliceLegendView\", legendView, sliceController, this.owner);\n      this.attachSliceLegendView(legendView, sliceController);\n    },\n    controllerDidDetachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void {\n      this.detachSliceLegendView(legendView, sliceController);\n      this.owner.callObservers(\"controllerDidDetachSliceLegendView\", legendView, sliceController, this.owner);\n    },\n    attachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void {\n      // hook\n    },\n    detachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void {\n      // hook\n    },\n  })\n  readonly slices!: TraitViewControllerSet<this, SliceTrait, SliceView, SliceController> & Observes<SliceController> & {\n    attachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void,\n    detachSliceTrait(sliceTrait: SliceTrait, sliceController: SliceController): void,\n    attachSliceView(sliceView: SliceView, sliceController: SliceController): void,\n    detachSliceView(sliceView: SliceView, sliceController: SliceController): void,\n    attachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void,\n    detachSliceLabelView(labelView: GraphicsView, sliceController: SliceController): void,\n    attachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void,\n    detachSliceLegendView(legendView: GraphicsView, sliceController: SliceController): void,\n  };\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Mutable} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Animator} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\n\n/** @public */\nexport type DataPointCategory = \"flat\" | \"increasing\" | \"decreasing\" | \"maxima\" | \"minima\";\n\n/** @public */\nexport type DataPointLabelPlacement = \"auto\" | \"above\" | \"middle\" | \"below\";\n\n/** @public */\nexport interface DataPointViewObserver<X = unknown, Y = unknown, V extends DataPointView<X, Y> = DataPointView<X, Y>> extends GraphicsViewObserver<V> {\n  viewDidSetX?(x: X | undefined, view: V): void;\n\n  viewDidSetY?(y: Y | undefined, view: V): void;\n\n  viewDidSetY2?(y2: Y | undefined, view: V): void;\n\n  viewDidSetRadius?(radius: Length | null, view: V): void;\n\n  viewDidSetColor?(color: Color | null, view: V): void;\n\n  viewDidSetOpacity?(opacity: number | undefined, view: V): void;\n\n  viewWillAttachLabel?(labelView: GraphicsView, view: V): void;\n\n  viewDidDetachLabel?(labelView: GraphicsView, view: V): void;\n}\n\n/** @public */\nexport class DataPointView<X = unknown, Y = unknown> extends GraphicsView {\n  constructor(x?: X, y?: Y) {\n    super();\n    this.xCoord = NaN;\n    this.yCoord = NaN;\n    this.y2Coord = void 0;\n    this.gradientStop = false;\n    if (x !== void 0) {\n      this.x.setState(x);\n    }\n    if (y !== void 0) {\n      this.y.setState(y);\n    }\n  }\n\n  declare readonly observerType?: Class<DataPointViewObserver<X, Y>>;\n\n  readonly xCoord: number;\n\n  /** @internal */\n  setXCoord(xCoord: number): void {\n    (this as Mutable<this>).xCoord = xCoord;\n  }\n\n  readonly yCoord: number;\n\n  /** @internal */\n  setYCoord(yCoord: number): void {\n    (this as Mutable<this>).yCoord = yCoord;\n  }\n\n  readonly y2Coord: number | undefined;\n\n  /** @internal */\n  setY2Coord(y2Coord: number | undefined): void {\n    (this as Mutable<this>).y2Coord = y2Coord;\n  }\n\n  @Animator({\n    didSetValue(x: X | undefined, oldX: X | undefined): void {\n      this.owner.callObservers(\"viewDidSetX\", x, this.owner);\n    },\n  })\n  readonly x!: Animator<this, X | undefined>;\n\n  @Animator({\n    didSetValue(y: Y | undefined, oldY: Y | undefined): void {\n      this.owner.callObservers(\"viewDidSetY\", y, this.owner);\n    },\n  })\n  readonly y!: Animator<this, Y | undefined>;\n\n  @Animator({\n    didSetValue(y2: Y | undefined, oldY2: Y | undefined): void {\n      this.owner.callObservers(\"viewDidSetY2\", y2, this.owner);\n    },\n  })\n  get y2(): Animator<this, Y | undefined> {\n    return Animator.getter();\n  }\n\n  @ThemeAnimator({\n    valueType: Length,\n    value: null,\n    didSetValue(radius: Length | null): void {\n      this.owner.callObservers(\"viewDidSetRadius\", radius, this.owner);\n    },\n  })\n  get radius(): ThemeAnimator<this, Length | null> {\n    return ThemeAnimator.getter();\n  }\n\n  @Property({valueType: Number, value: 5})\n  get hitRadius(): Property<this, number> {\n    return Property.getter();\n  }\n\n  @ThemeAnimator({\n    valueType: Color,\n    value: null,\n    didSetValue(color: Color | null): void {\n      this.owner.updateGradientStop();\n      this.owner.callObservers(\"viewDidSetColor\", color, this.owner);\n    },\n  })\n  get color(): ThemeAnimator<this, Color | null> {\n    return ThemeAnimator.getter();\n  }\n\n  @ThemeAnimator({\n    valueType: Number,\n    didSetValue(opacity: number | undefined): void {\n      this.owner.updateGradientStop();\n      this.owner.callObservers(\"viewDidSetOpacity\", opacity, this.owner);\n    },\n  })\n  get opacity(): ThemeAnimator<this, number | undefined> {\n    return ThemeAnimator.getter();\n  }\n\n  @ThemeAnimator({valueType: Font, inherits: true})\n  get font(): ThemeAnimator<this, Font | undefined> {\n    return ThemeAnimator.getter();\n  }\n\n  @ThemeAnimator({valueType: Color, inherits: true})\n  get textColor(): ThemeAnimator<this, Color | undefined> {\n    return ThemeAnimator.getter();\n  }\n\n  @Property({valueType: String})\n  get category(): Property<this, DataPointCategory> {\n    return Property.getter();\n  }\n\n  @ThemeAnimator({valueType: Length, value: Length.zero(), updateFlags: View.NeedsLayout})\n  get labelPadding(): ThemeAnimator<this, Length> {\n    return ThemeAnimator.getter();\n  }\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachLabel\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachLabel\", labelView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly label!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  @Property({valueType: String, value: \"auto\"})\n  get labelPlacement(): Property<this, DataPointLabelPlacement> {\n    return Property.getter();\n  }\n\n  /** @internal */\n  readonly gradientStop: boolean;\n\n  isGradientStop(): boolean {\n    return this.gradientStop;\n  }\n\n  protected updateGradientStop(): void {\n    (this as Mutable<this>).gradientStop = this.color.value !== null || this.opacity.value !== void 0;\n  }\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.layoutDataPoint(this.viewFrame);\n  }\n\n  protected layoutDataPoint(frame: R2Box): void {\n    const labelView = ViewRef.tryView(this, \"label\");\n    if (labelView !== null) {\n      this.layoutLabel(labelView, frame);\n    }\n  }\n\n  protected layoutLabel(labelView: GraphicsView, frame: R2Box): void {\n    let placement = this.labelPlacement.value;\n    if (placement !== \"above\" && placement !== \"below\" && placement !== \"middle\") {\n      const category = this.category.value;\n      if (category === \"increasing\" || category === \"maxima\") {\n        placement = \"above\";\n      } else if (category === \"decreasing\" || category === \"minima\") {\n        placement = \"below\";\n      } else {\n        placement = \"above\";\n      }\n    }\n\n    const x = this.xCoord;\n    const y0 = this.yCoord;\n    let y1 = y0;\n    if (placement === \"above\") {\n      y1 -= this.labelPadding.getValue().pxValue(Math.min(frame.width, frame.height));\n    } else if (placement === \"below\") {\n      y1 += this.labelPadding.getValue().pxValue(Math.min(frame.width, frame.height));\n    }\n\n    if (TypesetView[Symbol.hasInstance](labelView)) {\n      labelView.textAlign.setIntrinsic(\"center\");\n      if (placement === \"above\") {\n        labelView.textBaseline.setIntrinsic(\"bottom\");\n      } else if (placement === \"below\") {\n        labelView.textBaseline.setIntrinsic(\"top\");\n      } else if (placement === \"middle\") {\n        labelView.textBaseline.setIntrinsic(\"middle\");\n      }\n      labelView.textOrigin.setIntrinsic(new R2Point(x, y1));\n    }\n  }\n\n  protected override hitTest(x: number, y: number): GraphicsView | null {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      return this.hitTestPoint(x, y, renderer.context, this.viewFrame);\n    }\n    return null;\n  }\n\n  protected hitTestPoint(x: number, y: number, context: CanvasContext, frame: R2Box): GraphicsView | null {\n    let hitRadius: number = Property.tryValue(this, \"hitRadius\");\n    const radius = ThemeAnimator.tryValue(this, \"radius\");\n    if (radius !== null) {\n      const size = Math.min(frame.width, frame.height);\n      hitRadius = Math.max(hitRadius, radius.pxValue(size));\n    }\n\n    const dx = this.xCoord - x;\n    const dy = this.yCoord - y;\n    if (dx * dx + dy * dy < hitRadius * hitRadius) {\n      return this;\n    }\n    return null;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\n\n/** @public */\nexport interface DataPointTraitObserver<X = unknown, Y = unknown, T extends DataPointTrait<X, Y> = DataPointTrait<X, Y>> extends TraitObserver<T> {\n  traitDidSetX?(x: X, trait: T): void;\n\n  traitDidSetY?(y: Y, trait: T): void;\n\n  traitDidSetY2?(y2: Y | undefined, trait: T): void;\n\n  traitDidSetRadius?(radius: Length | null, trait: T): void;\n\n  traitDidSetColor?(color: ColorOrLook | null, trait: T): void;\n\n  traitDidSetOpacity?(opacity: number | undefined, trait: T): void;\n\n  traitDidSetLabel?(label: string | undefined, trait: T): void;\n}\n\n/** @public */\nexport class DataPointTrait<X = unknown, Y = unknown> extends Trait {\n  constructor(x?: X, y?: Y) {\n    super();\n    if (x !== void 0) {\n      this.x.set(x);\n    }\n    if (y !== void 0) {\n      this.y.set(y);\n    }\n  }\n\n  declare readonly observerType?: Class<DataPointTraitObserver<X, Y>>;\n\n  @Property({\n    didSetValue(x: X): void {\n      this.owner.callObservers(\"traitDidSetX\", x, this.owner);\n    },\n  })\n  readonly x!: Property<this, X>;\n\n  @Property({\n    didSetValue(y: Y): void {\n      this.owner.callObservers(\"traitDidSetY\", y, this.owner);\n    },\n  })\n  readonly y!: Property<this, Y>;\n\n  @Property({\n    didSetValue(y2: Y | undefined): void {\n      this.owner.callObservers(\"traitDidSetY2\", y2, this.owner);\n    },\n  })\n  get y2(): Property<this, Y | undefined> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: Length,\n    value: null,\n    didSetValue(radius: Length | null): void {\n      this.owner.callObservers(\"traitDidSetRadius\", radius, this.owner);\n    },\n  })\n  get radius(): Property<this, Length | null> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(color: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetColor\", color, this.owner);\n    },\n  })\n  get color(): Property<this, ColorOrLook | null> {\n    return Property.getter();\n  }\n\n  @Property({\n    valueType: Number,\n    didSetValue(opacity: number | undefined): void {\n      this.owner.callObservers(\"traitDidSetOpacity\", opacity, this.owner);\n    },\n  })\n  get opacity(): Property<this, number | undefined> {\n    return Property.getter();\n  }\n\n  formatLabel(x: X | undefined, y: Y | undefined): string | undefined {\n    return void 0;\n  }\n\n  @Property({\n    valueType: String,\n    didSetValue(label: string | undefined): void {\n      this.owner.callObservers(\"traitDidSetLabel\", label, this.owner);\n    },\n  })\n  get label(): Property<this, string | undefined> {\n    return Property.getter();\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {LengthLike} from \"@swim/math\";\nimport type {Length} from \"@swim/math\";\nimport type {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLookLike} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {DataPointView} from \"./DataPointView\";\nimport {DataPointTrait} from \"./DataPointTrait\";\n\n/** @public */\nexport interface DataPointControllerObserver<X = unknown, Y = unknown, C extends DataPointController<X, Y> = DataPointController<X, Y>> extends ControllerObserver<C> {\n  controllerWillAttachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointView?(dataPointView: DataPointView<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointView?(dataPointView: DataPointView<X, Y> , controller: C): void;\n\n  controllerDidSetDataPointX?(x: X | undefined, controller: C): void;\n\n  controllerDidSetDataPointY?(y: Y | undefined, controller: C): void;\n\n  controllerDidSetDataPointY2?(y2: Y | undefined, controller: C): void;\n\n  controllerDidSetDataPointRadius?(radius: Length | null, controller: C): void;\n\n  controllerDidSetDataPointColor?(color: Color | null, controller: C): void;\n\n  controllerDidSetDataPointOpacity?(opacity: number | undefined, controller: C): void;\n\n  controllerWillAttachDataPointLabelView?(labelView: GraphicsView, controller: C): void;\n\n  controllerDidDetachDataPointLabelView?(labelView: GraphicsView, controller: C): void;\n}\n\n/** @public */\nexport class DataPointController<X = unknown, Y = unknown> extends Controller {\n  declare readonly observerType?: Class<DataPointControllerObserver<X, Y>>;\n\n  protected updateLabel(x: X | undefined, y: Y | undefined, dataPointTrait: DataPointTrait<X, Y>): void {\n    const label = dataPointTrait.formatLabel(x, y);\n    if (label !== void 0) {\n      dataPointTrait.label.setIntrinsic(label);\n    }\n  }\n\n  protected setX(x: X, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.x.setIntrinsic(x, timing);\n  }\n\n  protected setY(y: Y, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.y.setIntrinsic(y, timing);\n  }\n\n  protected setY2(y2: Y | undefined, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.y2.setIntrinsic(y2, timing);\n  }\n\n  protected setRadius(radius: LengthLike | null, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.radius.setIntrinsic(radius, timing);\n  }\n\n  protected setColor(color: ColorOrLookLike | null, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.color.setIntrinsic(color, timing);\n  }\n\n  protected setOpacity(opacity: number | undefined, timing?: TimingLike | boolean): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    } else if (timing === void 0 || timing === true) {\n      timing = this.dataPointTiming.value;\n      if (timing === true) {\n        timing = dataPointView.getLook(Look.timing, Mood.ambient);\n      }\n    } else {\n      timing = Timing.fromLike(timing);\n    }\n    dataPointView.opacity.setIntrinsic(opacity, timing);\n  }\n\n  protected setLabelView(label: string | undefined): void {\n    const dataPointView = this.dataPoint.view;\n    if (dataPointView === null) {\n      return;\n    }\n    dataPointView.label.set(label);\n  }\n\n  @Property({valueType: Timing, inherits: true})\n  get dataPointTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewRef({\n    traitType: DataPointTrait,\n    observesTrait: true,\n    willAttachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointTrait\", dataPointTrait, this.owner);\n    },\n    didAttachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      const dataPointView = this.view;\n      if (dataPointView !== null) {\n        this.owner.setX(dataPointTrait.x.value);\n        this.owner.setY(dataPointTrait.y.value);\n        const y2 = dataPointTrait.tryFastener(\"y2\");\n        if (y2 !== null) {\n          this.owner.setY2(y2.value);\n        }\n        const radius = dataPointTrait.tryFastener(\"radius\");\n        if (radius !== null) {\n          this.owner.setRadius(radius.value);\n        }\n        const color = dataPointTrait.tryFastener(\"color\");\n        if (color !== null) {\n          this.owner.setColor(color.value);\n        }\n        const opacity = dataPointTrait.tryFastener(\"opacity\");\n        if (opacity !== null) {\n          this.owner.setOpacity(opacity.value);\n        }\n        const label = dataPointTrait.tryFastener(\"label\");\n        if (label !== null) {\n          this.owner.setLabelView(label.value);\n        }\n      }\n    },\n    willDetachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      const dataPointView = this.view;\n      if (dataPointView !== null) {\n        this.owner.setLabelView(void 0);\n      }\n    },\n    didDetachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachDataPointTrait\", dataPointTrait, this.owner);\n    },\n    traitDidSetX(x: X): void {\n      this.owner.setX(x);\n    },\n    traitDidSetY(y: Y): void {\n      this.owner.setY(y);\n    },\n    traitDidSetY2(y2: Y | undefined): void {\n      this.owner.setY2(y2);\n    },\n    traitDidSetRadius(radius: Length | null): void {\n      this.owner.setRadius(radius);\n    },\n    traitDidSetColor(color: ColorOrLook | null): void {\n      this.owner.setColor(color);\n    },\n    traitDidSetOpacity(opacity: number | undefined): void {\n      this.owner.setOpacity(opacity);\n    },\n    traitDidSetLabel(label: string | undefined): void {\n      this.owner.setLabelView(label);\n    },\n    viewType: DataPointView,\n    observesView: true,\n    willAttachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointView\", dataPointView, this.owner);\n    },\n    didAttachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.label.setView(dataPointView.label.view);\n      const dataPointTrait = this.trait;\n      if (dataPointTrait === null) {\n        return;\n      }\n        this.owner.setX(dataPointTrait.x.value);\n        this.owner.setY(dataPointTrait.y.value);\n        const y2 = dataPointTrait.tryFastener(\"y2\");\n        if (y2 !== null) {\n          this.owner.setY2(y2.value);\n        }\n        const radius = dataPointTrait.tryFastener(\"radius\");\n        if (radius !== null) {\n          this.owner.setRadius(radius.value);\n        }\n        const color = dataPointTrait.tryFastener(\"color\");\n        if (color !== null) {\n          this.owner.setColor(color.value);\n        }\n        const opacity = dataPointTrait.tryFastener(\"opacity\");\n        if (opacity !== null) {\n          this.owner.setOpacity(opacity.value);\n        }\n        const label = dataPointTrait.tryFastener(\"label\");\n        if (label !== null) {\n          this.owner.setLabelView(label.value);\n        }\n        const x = dataPointView.x.value;\n        const y = dataPointView.y.value;\n        this.owner.updateLabel(x, y, dataPointTrait);\n    },\n    willDetachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.label.setView(null);\n    },\n    didDetachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachDataPointView\", dataPointView, this.owner);\n    },\n    viewDidSetX(x: X | undefined, dataPointView: DataPointView<X, Y>): void {\n      const dataPointTrait = this.trait;\n      if (dataPointTrait !== null) {\n        const y = dataPointView.y.value;\n        this.owner.updateLabel(x, y, dataPointTrait);\n      }\n      this.owner.callObservers(\"controllerDidSetDataPointX\", x, this.owner);\n    },\n    viewDidSetY(y: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      const dataPointTrait = this.trait;\n      if (dataPointTrait !== null) {\n        const x = dataPointView.x.value;\n        this.owner.updateLabel(x, y, dataPointTrait);\n      }\n      this.owner.callObservers(\"controllerDidSetDataPointY\", y, this.owner);\n    },\n    viewDidSetY2(y2: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointY2\", y2, this.owner);\n    },\n    viewDidSetRadius(radius: Length | null, dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointRadius\", radius, this.owner);\n    },\n    viewDidSetColor(color: Color | null, dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointColor\", color, this.owner);\n    },\n    viewDidSetOpacity(opacity: number | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointOpacity\", opacity, this.owner);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.owner.label.setView(null);\n    },\n    createView(): DataPointView<X, Y> {\n      const dataPointView = new DataPointView<X, Y>();\n      const dataPointTrait = this.trait;\n      if (dataPointTrait !== null) {\n        dataPointView.x.setIntrinsic(dataPointTrait.x.value);\n        dataPointView.y.setIntrinsic(dataPointTrait.y.value);\n        const y2 = dataPointTrait.tryFastener(\"y2\");\n        if (y2 !== null) {\n          dataPointView.y2.setIntrinsic(y2.value);\n        }\n        const radius = dataPointTrait.tryFastener(\"radius\");\n        if (radius !== null) {\n          dataPointView.radius.setIntrinsic(radius.value);\n        }\n      }\n      return dataPointView;\n    },\n  })\n  readonly dataPoint!: TraitViewRef<this, DataPointTrait<X, Y>, DataPointView<X, Y>> & Observes<DataPointTrait<X, Y>> & Observes<DataPointView<X, Y>>;\n\n  @ViewRef({\n    viewKey: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointLabelView\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"controllerDidDetachDataPointLabelView\", labelView, this.owner);\n    },\n  })\n  readonly label!: ViewRef<this, GraphicsView>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitSet} from \"@swim/model\";\nimport {DataPointTrait} from \"./DataPointTrait\";\n\n/** @public */\nexport interface DataSetTraitObserver<X = unknown, Y = unknown, T extends DataSetTrait<X, Y> = DataSetTrait<X, Y>> extends TraitObserver<T> {\n  traitWillAttachDataPoint?(dataPointTrait: DataPointTrait<X, Y>, targetTrait: Trait | null, trait: T): void;\n\n  traitDidDetachDataPoint?(dataPointTrait: DataPointTrait<X, Y>, trait: T): void;\n}\n\n/** @public */\nexport class DataSetTrait<X = unknown, Y = unknown> extends Trait {\n  declare readonly observerType?: Class<DataSetTraitObserver<X, Y>>;\n\n  @TraitSet({\n    traitType: DataPointTrait,\n    binds: true,\n    willAttachTrait(dataPointTrait: DataPointTrait<X, Y>, targetTrait: Trait | null): void {\n      this.owner.callObservers(\"traitWillAttachDataPoint\", dataPointTrait, targetTrait, this.owner);\n    },\n    didAttachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        dataPointTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        dataPointTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(dataPointTrait: DataPointTrait<X, Y>): void {\n      this.owner.callObservers(\"traitDidDetachDataPoint\", dataPointTrait, this.owner);\n    },\n    detectModel(model: Model): DataPointTrait<X, Y> | null {\n      return model.getTrait(DataPointTrait) as DataPointTrait<X, Y>;\n    },\n  })\n  readonly dataPoints!: TraitSet<this, DataPointTrait<X, Y>>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.dataPoints.consumeTraits(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.dataPoints.unconsumeTraits(this);\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {Length} from \"@swim/math\";\nimport type {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport type {Color} from \"@swim/style\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport type {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {DataPointTrait} from \"./DataPointTrait\";\nimport {DataPointController} from \"./DataPointController\";\nimport {DataSetTrait} from \"./DataSetTrait\";\n\n/** @public */\nexport interface DataSetControllerObserver<X = unknown, Y = unknown, C extends DataSetController<X, Y> = DataSetController<X, Y>> extends ControllerObserver<C> {\n  controllerWillAttachDataSetTrait?(dataSetTrait: DataSetTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachDataSetTrait?(dataSetTrait: DataSetTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPoint?(dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPoint?(dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointView?(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointView?(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointX?(x: X | undefined, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointY?(y: Y | undefined, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointY2?(y2: Y | undefined, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointRadius?(radius: Length | null, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointColor?(color: Color | null, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidSetDataPointOpacity?(opacity: number | undefined, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointLabelView?(labelView: GraphicsView | null, dataPointController: DataPointController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointLabelView?(labelView: GraphicsView | null, dataPointController: DataPointController<X, Y>, controller: C): void;\n}\n\n/** @public */\nexport class DataSetController<X = unknown, Y = unknown> extends Controller {\n  declare readonly observerType?: Class<DataSetControllerObserver<X, Y>>;\n\n  @TraitRef({\n    traitType: DataSetTrait,\n    observes: true,\n    willAttachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataSetTrait\", dataSetTrait, this.owner);\n    },\n    didAttachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      this.owner.dataPoints.addTraits(dataSetTrait.dataPoints.traits);\n    },\n    willDetachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      this.owner.dataPoints.deleteTraits(dataSetTrait.dataPoints.traits);\n    },\n    didDetachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachDataSetTrait\", dataSetTrait, this.owner);\n    },\n    traitWillAttachDataPoint(dataPointTrait: DataPointTrait<X, Y>, targetTrait: Trait): void {\n      this.owner.dataPoints.addTrait(dataPointTrait, targetTrait);\n    },\n    traitDidDetachDataPoint(dataPointTrait: DataPointTrait<X, Y>): void {\n      this.owner.dataPoints.deleteTrait(dataPointTrait);\n    },\n  })\n  readonly dataSet!: TraitRef<this, DataSetTrait<X, Y>> & Observes<DataSetTrait<X, Y>>;\n\n  @Property({valueType: Timing, value: true})\n  get dataPointTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  @TraitViewControllerSet({\n    controllerType: DataPointController,\n    binds: true,\n    observes: true,\n    getTraitViewRef(dataPointController: DataPointController<X, Y>): TraitViewRef<unknown, DataPointTrait<X, Y>, DataPointView<X, Y>> {\n      return dataPointController.dataPoint;\n    },\n    willAttachController(dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPoint\", dataPointController, this.owner);\n    },\n    didAttachController(dataPointController: DataPointController<X, Y>): void {\n      const dataPointTrait = dataPointController.dataPoint.trait;\n      if (dataPointTrait !== null) {\n        this.attachDataPointTrait(dataPointTrait, dataPointController);\n      }\n      const dataPointView = dataPointController.dataPoint.view;\n      if (dataPointView !== null) {\n        this.attachDataPointView(dataPointView, dataPointController);\n      }\n      const parentView = this.parentView;\n      if (parentView !== null) {\n        dataPointController.dataPoint.insertView(parentView);\n      }\n    },\n    willDetachController(dataPointController: DataPointController<X, Y>): void {\n      const dataPointView = dataPointController.dataPoint.view;\n      if (dataPointView !== null) {\n        this.detachDataPointView(dataPointView, dataPointController);\n      }\n      const dataPointTrait = dataPointController.dataPoint.trait;\n      if (dataPointTrait !== null) {\n        this.detachDataPointTrait(dataPointTrait, dataPointController);\n      }\n    },\n    didDetachController(dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachDataPoint\", dataPointController, this.owner);\n    },\n    controllerWillAttachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointTrait\", dataPointTrait, dataPointController, this.owner);\n      this.attachDataPointTrait(dataPointTrait, dataPointController);\n    },\n    controllerDidDetachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      this.detachDataPointTrait(dataPointTrait, dataPointController);\n      this.owner.callObservers(\"controllerDidDetachDataPointTrait\", dataPointTrait, dataPointController, this.owner);\n    },\n    attachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      // hook\n    },\n    detachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      // hook\n    },\n    controllerWillAttachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointView\", dataPointView, dataPointController, this.owner);\n      this.attachDataPointView(dataPointView, dataPointController);\n    },\n    controllerDidDetachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      this.detachDataPointView(dataPointView, dataPointController);\n      this.owner.callObservers(\"controllerDidDetachDataPointView\", dataPointView, dataPointController, this.owner);\n    },\n    attachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      const labelView = ViewRef.tryView(dataPointView, \"label\");\n      if (labelView !== null) {\n        this.attachDataPointLabelView(labelView, dataPointController);\n      }\n    },\n    detachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void {\n      const labelView = ViewRef.tryView(dataPointView, \"label\");\n      if (labelView !== null) {\n        this.detachDataPointLabelView(labelView, dataPointController);\n      }\n      dataPointView.remove();\n    },\n    controllerDidSetDataPointX(x: X | undefined, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointX\", x, dataPointController, this.owner);\n    },\n    controllerDidSetDataPointY(y: Y | undefined, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointY\", y, dataPointController, this.owner);\n    },\n    controllerDidSetDataPointY2(y2: Y | undefined, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointY2\", y2, dataPointController, this.owner);\n    },\n    controllerDidSetDataPointRadius(radius: Length | null, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointRadius\", radius, dataPointController, this.owner);\n    },\n    controllerDidSetDataPointColor(color: Color | null, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointColor\", color, dataPointController, this.owner);\n    },\n    controllerDidSetDataPointOpacity(opacity: number | undefined, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidSetDataPointOpacity\", opacity, dataPointController, this.owner);\n    },\n    controllerWillAttachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointLabelView\", labelView, dataPointController, this.owner);\n      this.attachDataPointLabelView(labelView, dataPointController);\n    },\n    controllerDidDetachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void {\n      this.detachDataPointLabelView(labelView, dataPointController);\n      this.owner.callObservers(\"controllerDidDetachDataPointLabelView\", labelView, dataPointController, this.owner);\n    },\n    attachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void {\n      // hook\n    },\n    detachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void {\n      // hook\n    },\n  })\n  readonly dataPoints!: TraitViewControllerSet<this, DataPointTrait<X, Y>, DataPointView<X, Y>, DataPointController<X, Y>> & Observes<DataPointController<X, Y>> & {\n    attachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void,\n    detachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>): void,\n    attachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void,\n    detachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>): void,\n    attachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void,\n    detachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>): void,\n  };\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {LikeType} from \"@swim/util\";\nimport {Domain} from \"@swim/util\";\nimport {Range} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {ContinuousScale} from \"@swim/util\";\nimport type {DateTimeLike} from \"@swim/time\";\nimport {DateTime} from \"@swim/time\";\nimport {TimeDomain} from \"@swim/time\";\nimport {Affinity} from \"@swim/component\";\nimport type {AnimatorClass} from \"@swim/component\";\nimport {Animator} from \"@swim/component\";\nimport type {View} from \"@swim/view\";\nimport {ScaledView} from \"./\"; // forward import\n\n/** @public */\nexport interface ContinuousScaleAnimator<R extends View = View, X = unknown, Y = unknown, T extends ContinuousScale<X, Y> | null | undefined = ContinuousScale<X, Y> | null, I extends any[] = [T]> extends Animator<R, T, I> {\n  setScale(domain: Domain<X> | string, range: Range<Y>, timing?: TimingLike | boolean | null): void;\n  setScale(xMin: X, xMax: X, yMin: Y, yMax: Y, timing?: TimingLike | boolean | null): void;\n\n  setDomain(domain: Domain<X> | string, timing?: TimingLike | boolean | null): void;\n  setDomain(xMin: X, xMax: X, timing?: TimingLike | boolean | null): void;\n\n  setRange(range: Range<Y>, timing?: TimingLike | boolean | null): void;\n  setRange(yMin: Y, yMax: Y, timing?: TimingLike | boolean | null): void;\n\n  setBaseScale(domain: Domain<X> | string, range: Range<Y>, timing?: TimingLike | boolean | null): void;\n  setBaseScale(xMin: X, xMax: X, yMin: Y, yMax: Y, timing?: TimingLike | boolean | null): void;\n\n  setBaseDomain(domain: Domain<X> | string, timing?: TimingLike | boolean | null): void;\n  setBaseDomain(xMin: X, xMax: X, timing?: TimingLike | boolean | null): void;\n\n  setBaseRange(range: Range<Y>, timing?: TimingLike | boolean | null): void;\n  setBaseRange(yMin: Y, yMax: Y, timing?: TimingLike | boolean | null): void;\n\n  createDomain(xMin: X, xMax: X): Domain<X>;\n\n  /** @override */\n  fromLike(value: T | LikeType<T>): T;\n}\n\n/** @public */\nexport const ContinuousScaleAnimator = (<R extends View, X, Y, T extends ContinuousScale<X, Y> | null | undefined, I extends any[], A extends ContinuousScaleAnimator<any, any, any, any, any>>() => Animator.extend<ContinuousScaleAnimator<R, X, Y, T, I>, AnimatorClass<A>>(\"ContinuousScaleAnimator\", {\n  valueType: ContinuousScale,\n\n  setScale(xMin?: Domain<X> | X | string, xMax?: Range<Y> | X, yMin?: Y | TimingLike | boolean | null, yMax?: Y, timing?: TimingLike | boolean | null): void {\n    if (typeof xMin === \"string\") {\n      xMin = ScaledView.parseScale<X, Y>(xMin).domain;\n    }\n    if (xMin instanceof Domain) {\n      timing = yMin as TimingLike | boolean | null;\n      if (xMax instanceof Domain) {\n        yMax = (xMax as Domain<Y>)[1];\n        yMin = (xMax as Domain<Y>)[0];\n      }\n      xMax = (xMin as Domain<X>)[1];\n      xMin = (xMin as Domain<X>)[0];\n    }\n    const oldState = this.state;\n    let newState: NonNullable<T>;\n    if (oldState === void 0 || oldState === null) {\n      newState = ScaledView.createScale(xMin as X, xMax as X, yMin as Y, yMax as Y) as NonNullable<T>;\n    } else {\n      newState = oldState.withDomain(xMin as X, xMax as X) as NonNullable<T>;\n      if (yMin !== void 0 && yMax !== void 0) {\n        newState = newState.overRange(yMin as Y, yMax) as NonNullable<T>;\n      }\n      if ((timing === void 0 || timing === null || timing === false) && (this.flags & Animator.TweeningFlag) !== 0) {\n        const oldValue = this.getValue();\n        const newValue = oldValue.withDomain(xMin as X, xMax as X) as NonNullable<T>;\n        this.setValue(newValue, Affinity.Extrinsic);\n        timing = true;\n      }\n    }\n    this.setState(newState, timing, Affinity.Extrinsic);\n  },\n\n  setDomain(xMin?: Domain<X> | X | string, xMax?: X | TimingLike | boolean | null, timing?: TimingLike | boolean | null): void {\n    if (typeof xMin === \"string\") {\n      xMin = ScaledView.parseScale<X, Y>(xMin).domain;\n    }\n    if (xMin instanceof Domain) {\n      timing = xMax as TimingLike | boolean | null;\n      xMax = (xMin as Domain<X>)[1];\n      xMin = (xMin as Domain<X>)[0];\n    }\n    const oldState = this.state;\n    let newState: NonNullable<T>;\n    if (oldState === void 0 || oldState === null) {\n      newState = ScaledView.createScale(xMin as X, xMax as X, 0 as unknown as Y, 1 as unknown as Y) as NonNullable<T>;\n    } else {\n      newState = oldState.withDomain(xMin as X, xMax as X) as NonNullable<T>;\n      if ((timing === void 0 || timing === null || timing === false) && (this.flags & Animator.TweeningFlag) !== 0) {\n        const oldValue = this.getValue();\n        const newValue = oldValue.withDomain(xMin as X, xMax as X) as NonNullable<T>;\n        this.setValue(newValue, Affinity.Extrinsic);\n        timing = true;\n      }\n    }\n    this.setState(newState, timing, Affinity.Extrinsic);\n  },\n\n  setRange(yMin?: Range<Y> | Y, yMax?: Y | TimingLike | boolean | null, timing?: TimingLike | boolean | null): void {\n    const oldState = this.state;\n    if (oldState === void 0 || oldState === null) {\n      return;\n    }\n    if (yMin instanceof Range) {\n      timing = yMax as TimingLike | boolean | null;\n      yMax = (yMin as Range<Y>)[1];\n      yMin = (yMin as Range<Y>)[0];\n    }\n    const newState = oldState.overRange(yMin as Y, yMax as Y) as NonNullable<T>;\n    if ((timing === void 0 || timing === null || timing === false) && (this.flags & Animator.TweeningFlag) !== 0) {\n      const oldValue = this.getValue();\n      const newValue = oldValue.overRange(yMin as Y, yMax as Y) as NonNullable<T>;\n      this.setValue(newValue, Affinity.Extrinsic);\n      timing = true;\n    }\n    this.setState(newState, timing, Affinity.Extrinsic);\n  },\n\n  setBaseScale(xMin?: Domain<X> | X | string, xMax?: Range<Y> | X, yMin?: Y | TimingLike | boolean | null, yMax?: Y, timing?: TimingLike | boolean | null): void {\n    if (this.derived && this.inlet instanceof ContinuousScaleAnimator) {\n      this.inlet.setBaseScale(xMin as any, xMax as any, yMin as any, yMax as any, timing);\n    } else {\n      this.setScale(xMin as any, xMax as any, yMin as any, yMax as any, timing);\n    }\n  },\n\n  setBaseDomain(xMin?: Domain<X> | X | string, xMax?: X | TimingLike | boolean | null, timing?: TimingLike | boolean | null): void {\n    if (this.derived && this.inlet instanceof ContinuousScaleAnimator) {\n      this.inlet.setBaseDomain(xMin as any, xMax as any, timing);\n    } else {\n      this.setDomain(xMin as any, xMax as any, timing);\n    }\n  },\n\n  setBaseRange(yMin?: Range<Y> | Y, yMax?: Y | TimingLike | boolean | null, timing?: TimingLike | boolean | null): void {\n    if (this.derived && this.inlet instanceof ContinuousScaleAnimator) {\n      this.inlet.setBaseRange(yMin as any, yMax as any, timing);\n    } else {\n      this.setRange(yMin as any, yMax as any, timing);\n    }\n  },\n\n  createDomain(xMin: X, xMax: X): Domain<X> {\n    if (xMin instanceof DateTime || xMax instanceof DateTime) {\n      return TimeDomain(DateTime.fromLike(xMin as DateTimeLike), DateTime.fromLike(xMax as DateTimeLike)) as unknown as Domain<X>;\n    }\n    return Domain(xMin, xMax);\n  },\n\n  fromLike(value: T | LikeType<T>): T {\n    if (typeof value === \"string\") {\n      return ScaledView.parseScale(value) as T;\n    }\n    return value as T;\n  },\n}))();\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Domain} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport type {Property} from \"@swim/component\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport {ScaledView} from \"./\"; // forward import\n\n/** @public */\nexport interface ScaledXViewObserver<X = unknown, V extends ScaledXView<X> = ScaledXView<X>> extends GraphicsViewObserver<V> {\n  viewDidSetXScale?(xScale: ContinuousScale<X, number> | null, view: V): void;\n\n  viewDidSetXRangePadding?(xRangePadding: readonly [number, number], view: V): void;\n\n  viewDidSetXDataDomain?(xDataDomain: Domain<X> | null, view: V): void;\n}\n\n/** @public */\nexport interface ScaledXView<X = unknown> extends GraphicsView {\n  /** @override */\n  readonly observerType?: Class<ScaledXViewObserver<X>>;\n\n  readonly xScale: ContinuousScaleAnimator<this, X, number>;\n\n  xDomain(): Domain<X> | null;\n  xDomain(xDomain: Domain<X> | null, timing?: TimingLike | boolean): this;\n  xDomain(xMin: X, xMax: X, timing: TimingLike | boolean): this;\n\n  xRange(): Range<number> | null;\n\n  readonly xRangePadding: Property<this, readonly [number, number]>\n\n  readonly xDataDomain: Domain<X> | null;\n\n  readonly xDataRange: Range<number> | null;\n}\n\n/** @public */\nexport const ScaledXView = (function () {\n  const ScaledXView = {} as {\n    is<X>(object: unknown): object is ScaledXView<X>;\n  };\n\n  ScaledXView.is = function <X>(object: unknown): object is ScaledXView<X> {\n    if (typeof object === \"object\" && object !== null) {\n      const view = object as ScaledXView<X>;\n      return view instanceof ScaledView\n          || view instanceof GraphicsView && \"xScale\" in view;\n    }\n    return false;\n  };\n\n  return ScaledXView;\n})();\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Domain} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport type {Property} from \"@swim/component\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport {ScaledView} from \"./\"; // forward import\n\n/** @public */\nexport interface ScaledYViewObserver<Y = unknown, V extends ScaledYView<Y> = ScaledYView<Y>> extends GraphicsViewObserver<V> {\n  viewDidSetYScale?(yScale: ContinuousScale<Y, number> | null, view: V): void;\n\n  viewDidSetYRangePadding?(yRangePadding: readonly [number, number], view: V): void;\n\n  viewDidSetYDataDomain?(yDataDomain: Domain<Y> | null, view: V): void;\n}\n\n/** @public */\nexport interface ScaledYView<Y = unknown> extends GraphicsView {\n  /** @override */\n  readonly observerType?: Class<ScaledYViewObserver<Y>>;\n\n  readonly yScale: ContinuousScaleAnimator<this, Y, number>;\n\n  yDomain(): Domain<Y> | null;\n  yDomain(yDomain: Domain<Y> | null, timing?: TimingLike | boolean): this;\n  yDomain(yMin: Y, yMax: Y, timing: TimingLike | boolean): this;\n\n  yRange(): Range<number> | null;\n\n  readonly yRangePadding: Property<this, readonly [number, number]>\n\n  readonly yDataDomain: Domain<Y> | null;\n\n  readonly yDataRange: Range<number> | null;\n}\n\n/** @public */\nexport const ScaledYView = (function () {\n  const ScaledYView = {} as {\n    is<Y>(object: unknown): object is ScaledYView<Y>\n  };\n\n  ScaledYView.is = function <Y>(object: unknown): object is ScaledYView<Y> {\n    if (typeof object === \"object\" && object !== null) {\n      const view = object as ScaledYView<Y>;\n      return view instanceof ScaledView\n          || view instanceof GraphicsView && \"yScale\" in view;\n    }\n    return false;\n  };\n\n  return ScaledYView;\n})();\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {ScaledXViewObserver} from \"./ScaledXView\";\nimport type {ScaledXView} from \"./ScaledXView\";\nimport type {ScaledYViewObserver} from \"./ScaledYView\";\nimport type {ScaledYView} from \"./ScaledYView\";\nimport {ScaledView} from \"./\"; // forward import\n\n/** @public */\nexport interface ScaledXYViewObserver<X = unknown, Y = unknown, V extends ScaledXYView<X, Y> = ScaledXYView<X, Y>> extends ScaledXViewObserver<X, V>, ScaledYViewObserver<Y, V> {\n}\n\n/** @public */\nexport interface ScaledXYView<X = unknown, Y = unknown> extends GraphicsView, ScaledXView<X>, ScaledYView<Y> {\n  /** @override */\n  readonly observerType?: Class<ScaledXYViewObserver<X, Y>>;\n}\n\n/** @public */\nexport const ScaledXYView = (function () {\n  const ScaledXYView = {} as {\n    is<X, Y>(object: unknown): object is ScaledXYView<X, Y>;\n  };\n\n  ScaledXYView.is = function <X, Y>(object: unknown): object is ScaledXYView<X, Y> {\n    if (typeof object === \"object\" && object !== null) {\n      const view = object as ScaledXYView<X, Y>;\n      return view instanceof ScaledView\n          || view instanceof GraphicsView && \"xScale\" in view && \"yScale\" in view;\n    }\n    return false;\n  };\n\n  return ScaledXYView;\n})();\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Mutable} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport {Equals} from \"@swim/util\";\nimport {Equivalent} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport {Arrays} from \"@swim/util\";\nimport {Values} from \"@swim/util\";\nimport {Domain} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport {Easing} from \"@swim/util\";\nimport {LinearDomain} from \"@swim/util\";\nimport {LinearRange} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport {LinearScale} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport {DateTime} from \"@swim/time\";\nimport {TimeDomain} from \"@swim/time\";\nimport {TimeScale} from \"@swim/time\";\nimport type {ViewFlags} from \"@swim/view\";\nimport {View} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport type {ScaleGestureInput} from \"@swim/view\";\nimport {ScaleGesture} from \"@swim/view\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport {ScaledXView} from \"./ScaledXView\";\nimport {ScaledYView} from \"./ScaledYView\";\nimport type {ScaledXYViewObserver} from \"./ScaledXYView\";\nimport type {ScaledXYView} from \"./ScaledXYView\";\n\n/** @internal */\nexport type ScaledFlags = number;\n\n/** @public */\nexport interface ScaledViewObserver<X = unknown, Y = unknown, V extends ScaledView<X, Y> = ScaledView<X, Y>> extends ScaledXYViewObserver<X, Y, V> {\n  viewWillAttachScaled?(scaledView: ScaledXView<X> | ScaledYView<Y>, targetView: View | null, view: V): void;\n\n  viewDidDetachScaled?(scaledView: ScaledXView<X> | ScaledYView<Y>, view: V): void;\n}\n\n/** @public */\nexport abstract class ScaledView<X = unknown, Y = unknown> extends GraphicsView implements ScaledXYView<X, Y> {\n  constructor() {\n    super();\n    this.scaledFlags = 0;\n    this.xDataDomain = null;\n    this.yDataDomain = null;\n    this.xDataRange = null;\n    this.yDataRange = null;\n    this.xDataDomainPadded = null;\n    this.yDataDomainPadded = null;\n  }\n\n  declare readonly observerType?: Class<ScaledViewObserver<X, Y>>;\n\n  /** @internal */\n  readonly scaledFlags: ScaledFlags;\n\n  /** @internal */\n  setScaledFlags(scaledFlags: ScaledFlags): void {\n    (this as Mutable<this>).scaledFlags = scaledFlags;\n  }\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(xScale: ContinuousScale<X, number> | null): void {\n      this.owner.updateXDataRange();\n      this.owner.callObservers(\"viewDidSetXScale\", xScale, this.owner);\n    },\n    willTransition(xScale: ContinuousScale<X, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.XBoundingFlag) !== 0) {\n        this.owner.onBeginBoundingXScale(xScale);\n      }\n    },\n    didTransition(xScale: ContinuousScale<X, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.XBoundingFlag) !== 0) {\n        this.owner.onEndBoundingXScale(xScale);\n      }\n    },\n    didInterrupt(xScale: ContinuousScale<X, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.XBoundingFlag) !== 0) {\n        this.owner.onInterruptBoundingXScale(xScale);\n      }\n    },\n  })\n  readonly xScale!: ContinuousScaleAnimator<this, X, number>;\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(yScale: ContinuousScale<Y, number> | null): void {\n      this.owner.updateYDataRange();\n      this.owner.callObservers(\"viewDidSetYScale\", yScale, this.owner);\n    },\n    willTransition(yScale: ContinuousScale<Y, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.YBoundingFlag) !== 0) {\n        this.owner.onBeginBoundingYScale(yScale);\n      }\n    },\n    didTransition(yScale: ContinuousScale<Y, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.YBoundingFlag) !== 0) {\n        this.owner.onEndBoundingYScale(yScale);\n      }\n    },\n    didInterrupt(yScale: ContinuousScale<Y, number>): void {\n      if ((this.owner.scaledFlags & ScaledView.YBoundingFlag) !== 0) {\n        this.owner.onInterruptBoundingYScale(yScale);\n      }\n    },\n  })\n  readonly yScale!: ContinuousScaleAnimator<this, Y, number>;\n\n  /** @override */\n  xDomain(): Domain<X> | null;\n  xDomain(xDomain: Domain<X> | string | null, timing?: TimingLike | boolean): this;\n  xDomain(xMin: X, xMax: X, timing?: TimingLike | boolean): this;\n  xDomain(xMin?: Domain<X> | X | string | null, xMax?: X | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<X> | null | this {\n    if (xMin === void 0) {\n      const xScale = this.xScale.value;\n      return xScale !== null ? xScale.domain : null;\n    } else {\n      if (xMin instanceof Domain || typeof xMin === \"string\") {\n        timing = xMax as TimingLike | boolean;\n      }\n      if (timing === true) {\n        timing = this.rescaleTransition.value;\n      }\n      const xRange = this.xRange();\n      if (xMin instanceof Domain || typeof xMin === \"string\") {\n        if (xRange !== null) {\n          this.xScale.setBaseScale(xMin as Domain<X> | string, xRange, timing);\n        } else {\n          this.xScale.setBaseDomain(xMin as Domain<X> | string, timing);\n        }\n      } else {\n        if (xRange !== null) {\n          this.xScale.setBaseScale(xMin as X, xMax as X, xRange[0], xRange[1], timing);\n        } else {\n          this.xScale.setBaseDomain(xMin as X, xMax as X, timing);\n        }\n      }\n      return this;\n    }\n  }\n\n  /** @override */\n  yDomain(): Domain<Y> | null;\n  yDomain(yDomain: Domain<Y> | string | null, timing?: TimingLike | boolean): this;\n  yDomain(yMin: Y, yMax: Y, timing?: TimingLike | boolean): this;\n  yDomain(yMin?: Domain<Y> | Y | string | null, yMax?: Y | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<Y> | null | this {\n    if (yMin === void 0) {\n      const yScale = this.yScale.value;\n      return yScale !== null ? yScale.domain : null;\n    } else {\n      if (yMin instanceof Domain || typeof yMin === \"string\") {\n        timing = yMax as TimingLike | boolean;\n      }\n      if (timing === true) {\n        timing = this.rescaleTransition.value;\n      }\n      const yRange = this.yRange();\n      if (yMin instanceof Domain || typeof yMin === \"string\") {\n        if (yRange !== null) {\n          this.yScale.setBaseScale(yMin as Domain<Y> | string, yRange, timing);\n        } else {\n          this.yScale.setBaseDomain(yMin as Domain<Y>| string, timing);\n        }\n      } else {\n        if (yRange !== null) {\n          this.yScale.setBaseScale(yMin as Y, yMax as Y, yRange[0], yRange[1], timing);\n        } else {\n          this.yScale.setBaseDomain(yMin as Y, yMax as Y, timing);\n        }\n      }\n      return this;\n    }\n  }\n\n  /** @override */\n  xRange(): Range<number> | null {\n    const width = this.viewFrame.width;\n    if (isFinite(width)) {\n      const xRangePadding = this.xRangePadding.value;\n      const xRangeMin = xRangePadding[0];\n      const xRangeMax = width - xRangePadding[1];\n      return LinearRange(xRangeMin, xRangeMax);\n    } else {\n      return null;\n    }\n  }\n\n  /** @override */\n  yRange(): Range<number> | null {\n    const height = this.viewFrame.height;\n    if (isFinite(height)) {\n      const yRangePadding = this.yRangePadding.value;\n      const yRangeMin = yRangePadding[0];\n      const yRangeMax = height - yRangePadding[1];\n      return LinearRange(yRangeMax, yRangeMin);\n    } else {\n      return null;\n    }\n  }\n\n  /** @override */\n  readonly xDataDomain: Domain<X> | null;\n\n  protected setXDataDomain(newXDataDomain: Domain<X> | null): void {\n    const oldXDataDomain = this.xDataDomain;\n    if (!Equals(newXDataDomain, oldXDataDomain)) {\n      this.willSetXDataDomain(newXDataDomain, oldXDataDomain);\n      (this as Mutable<this>).xDataDomain = newXDataDomain;\n      this.onSetXDataDomain(newXDataDomain, oldXDataDomain);\n      this.didSetXDataDomain(newXDataDomain, oldXDataDomain);\n    }\n  }\n\n  protected willSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    // hook\n  }\n\n  protected onSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.updateXDataRange();\n    this.updateXDataDomainPadded();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.callObservers(\"viewDidSetXDataDomain\", newXDataDomain, this);\n  }\n\n  protected updateXDataDomain(xScaledDomain: Domain<X> | null): void {\n    let xDataDomain = this.xDataDomain;\n    if (xDataDomain === null || this.scaled.viewCount === 1) {\n      xDataDomain = xScaledDomain;\n    } else if (xScaledDomain !== null) {\n      if (Values.compare(xScaledDomain[0], xDataDomain[0]) < 0) {\n        xDataDomain = this.xScale.createDomain(xScaledDomain[0], xDataDomain[1]);\n      }\n      if (Values.compare(xDataDomain[1], xScaledDomain[1]) < 0) {\n        xDataDomain = this.xScale.createDomain(xDataDomain[0], xScaledDomain[1]);\n      }\n    }\n    this.setXDataDomain(xDataDomain);\n  }\n\n  /** @override */\n  readonly yDataDomain: Domain<Y> | null;\n\n  protected setYDataDomain(newYDataDomain: Domain<Y> | null): void {\n    const oldYDataDomain = this.yDataDomain;\n    if (!Equals(newYDataDomain, oldYDataDomain)) {\n      this.willSetYDataDomain(newYDataDomain, oldYDataDomain);\n      (this as Mutable<this>).yDataDomain = newYDataDomain;\n      this.onSetYDataDomain(newYDataDomain, oldYDataDomain);\n      this.didSetYDataDomain(newYDataDomain, oldYDataDomain);\n    }\n  }\n\n  protected willSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    // hook\n  }\n\n  protected onSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.updateYDataRange();\n    this.updateYDataDomainPadded();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.callObservers(\"viewDidSetYDataDomain\", newYDataDomain, this);\n  }\n\n  protected updateYDataDomain(yScaledDomain: Domain<Y> | null): void {\n    let yDataDomain = this.yDataDomain;\n    if (yDataDomain === null || this.scaled.viewCount === 1) {\n      yDataDomain = yScaledDomain;\n    } else if (yScaledDomain !== null) {\n      if (Values.compare(yScaledDomain[0], yDataDomain[0]) < 0) {\n        yDataDomain = this.yScale.createDomain(yScaledDomain[0], yDataDomain[1]);\n      }\n      if (Values.compare(yDataDomain[1], yScaledDomain[1]) < 0) {\n        yDataDomain = this.yScale.createDomain(yDataDomain[0], yScaledDomain[1]);\n      }\n    }\n    this.setYDataDomain(yDataDomain);\n  }\n\n  /** @override */\n  readonly xDataRange: Range<number> | null;\n\n  protected setXDataRange(xDataRange: Range<number> | null): void {\n    (this as Mutable<this>).xDataRange = xDataRange;\n  }\n\n  protected updateXDataRange(): void {\n    const xDataDomain = this.xDataDomain;\n    if (xDataDomain !== null) {\n      const xScale = this.xScale.value;\n      if (xScale !== null) {\n        this.setXDataRange(LinearRange(xScale(xDataDomain[0]), xScale(xDataDomain[1])));\n      } else {\n        this.setXDataRange(null);\n      }\n    }\n  }\n\n  /** @override */\n  readonly yDataRange: Range<number> | null;\n\n  protected setYDataRange(yDataRange: Range<number> | null): void {\n    (this as Mutable<this>).yDataRange = yDataRange;\n  }\n\n  protected updateYDataRange(): void {\n    const yDataDomain = this.yDataDomain;\n    if (yDataDomain !== null) {\n      const yScale = this.yScale.value;\n      if (yScale !== null) {\n        this.setYDataRange(LinearRange(yScale(yDataDomain[0]), yScale(yDataDomain[1])));\n      } else {\n        this.setYDataRange(null);\n      }\n    }\n  }\n\n  readonly xDataDomainPadded: Domain<X> | null;\n\n  protected setXDataDomainPadded(xDataDomainPadded: Domain<X> | null): void {\n    (this as Mutable<this>).xDataDomainPadded = xDataDomainPadded;\n  }\n\n  protected updateXDataDomainPadded(): void {\n    let xDataDomainPadded: Domain<X> | null;\n    const xDataDomain = this.xDataDomain;\n    if (xDataDomain !== null) {\n      let xDataDomainPaddedMin = xDataDomain[0];\n      let xDataDomainPaddedMax = xDataDomain[1];\n      const xDomainPadding = this.xDomainPadding.value;\n      if (typeof xDomainPadding[0] !== \"boolean\") {\n        xDataDomainPaddedMin = (+xDataDomainPaddedMin - +xDomainPadding[0]) as unknown as X;\n      }\n      if (typeof xDomainPadding[1] !== \"boolean\") {\n        xDataDomainPaddedMax = (+xDataDomainPaddedMax + +xDomainPadding[1]) as unknown as X;\n      }\n      xDataDomainPadded = this.xScale.createDomain(xDataDomainPaddedMin, xDataDomainPaddedMax);\n    } else {\n      xDataDomainPadded = null;\n    }\n    this.setXDataDomainPadded(xDataDomainPadded);\n  }\n\n  readonly yDataDomainPadded: Domain<Y> | null;\n\n  protected setYDataDomainPadded(yDataDomainPadded: Domain<Y> | null): void {\n    (this as Mutable<this>).yDataDomainPadded = yDataDomainPadded;\n  }\n\n  protected updateYDataDomainPadded(): void {\n    let yDataDomainPadded: Domain<Y> | null;\n    const yDataDomain = this.yDataDomain;\n    if (yDataDomain !== null) {\n      let yDataDomainPaddedMin = yDataDomain[0];\n      let yDataDomainPaddedMax = yDataDomain[1];\n      const yDomainPadding = this.yDomainPadding.value;\n      if (typeof yDomainPadding[0] !== \"boolean\") {\n        yDataDomainPaddedMin = (+yDataDomainPaddedMin - +yDomainPadding[0]) as unknown as Y;\n      }\n      if (typeof yDomainPadding[1] !== \"boolean\") {\n        yDataDomainPaddedMax = (+yDataDomainPaddedMax + +yDomainPadding[1]) as unknown as Y;\n      }\n      if (Values.equivalent(yDataDomainPaddedMin, yDataDomainPaddedMax)) {\n        yDataDomainPaddedMin = Math.floor(+yDataDomainPaddedMin) as unknown as Y;\n        yDataDomainPaddedMax = Math.ceil(+yDataDomainPaddedMax) as unknown as Y;\n        if (Values.equivalent(yDataDomainPaddedMin, yDataDomainPaddedMax)) {\n          yDataDomainPaddedMin = 0 as unknown as Y;\n          if (Values.equivalent(yDataDomainPaddedMin, yDataDomainPaddedMax)) {\n            yDataDomainPaddedMax = 1 as unknown as Y;\n          }\n        }\n      }\n      yDataDomainPadded = this.yScale.createDomain(yDataDomainPaddedMin, yDataDomainPaddedMax);\n    } else {\n      yDataDomainPadded = null;\n    }\n    this.setYDataDomainPadded(yDataDomainPadded);\n  }\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [X | boolean, X | boolean] {\n      return [true, true];\n    },\n    equalValues(newXDomainBounds: readonly [X | boolean, X | boolean], oldXDomainBounds: readonly [X | boolean, X | boolean]): boolean {\n      return Arrays.equal(newXDomainBounds, oldXDomainBounds);\n    },\n  })\n  readonly xDomainBounds!: Property<this, readonly [X | boolean, X | boolean]>;\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [Y | boolean, Y | boolean] {\n      return [true, true];\n    },\n    equalValues(newYDomainBounds: readonly [Y | boolean, Y | boolean], oldYDomainBounds: readonly [Y | boolean, Y | boolean]): boolean {\n      return Arrays.equal(newYDomainBounds, oldYDomainBounds);\n    },\n  })\n  readonly yDomainBounds!: Property<this, readonly [Y | boolean, Y | boolean]>;\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [number | boolean, number | boolean] {\n      return [true, true];\n    },\n    equalValues(newXZoomBounds: readonly [number | boolean, number | boolean], oldXZoomBounds: readonly [number | boolean, number | boolean]): boolean {\n      return Arrays.equal(newXZoomBounds, oldXZoomBounds);\n    },\n  })\n  readonly xZoomBounds!: Property<this, readonly [number | boolean, number | boolean]>;\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [number | boolean, number | boolean] {\n      return [true, true];\n    },\n    equalValues(newYDomainBounds: readonly [number | boolean, number | boolean], oldYDomainBounds: readonly [number | boolean, number | boolean]): boolean {\n      return Arrays.equal(newYDomainBounds, oldYDomainBounds);\n    },\n  })\n  readonly yZoomBounds!: Property<this, readonly [number | boolean, number | boolean]>;\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [X | boolean, X | boolean] {\n      return [false, false];\n    },\n    equalValues(newXDomainPadding: readonly [X | boolean, X | boolean], oldXDomainPadding: readonly [X | boolean, X | boolean]): boolean {\n      return Arrays.equal(newXDomainPadding, oldXDomainPadding);\n    },\n  })\n  readonly xDomainPadding!: Property<this, readonly [X | boolean, X | boolean]>;\n\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [Y | boolean, Y | boolean] {\n      return [false, false];\n    },\n    equalValues(newYDomainPadding: readonly [Y | boolean, Y | boolean], oldYDomainPadding: readonly [Y | boolean, Y | boolean]): boolean {\n      return Arrays.equal(newYDomainPadding, oldYDomainPadding);\n    },\n  })\n  readonly yDomainPadding!: Property<this, readonly [Y | boolean, Y | boolean]>;\n\n  protected updateXRangePadding(xScaledRangePadding: readonly [number, number]): void {\n    if (this.xRangePadding.hasAffinity(Affinity.Intrinsic)) {\n      let xRangePadding = this.xRangePadding.value;\n      if (xRangePadding === null || this.scaled.viewCount === 1) {\n        xRangePadding = xScaledRangePadding;\n      } else if (xScaledRangePadding !== null) {\n        xRangePadding = [Math.max(xRangePadding[0], xScaledRangePadding[0]), Math.max(xRangePadding[1], xScaledRangePadding[1])];\n      }\n      this.xRangePadding.setIntrinsic(xRangePadding);\n    }\n  }\n\n  /** @override */\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(xRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetXRangePadding\", xRangePadding, this.owner);\n    },\n    equalValues(newXRangePadding: readonly [number, number], oldXRangePadding: readonly [number, number]): boolean {\n      return Arrays.equal(newXRangePadding, oldXRangePadding);\n    },\n  })\n  readonly xRangePadding!: Property<this, readonly [number, number]>;\n\n  protected updateYRangePadding(yScaledRangePadding: readonly [number, number]): void {\n    if (this.yRangePadding.hasAffinity(Affinity.Intrinsic)) {\n      let yRangePadding = this.yRangePadding.value;\n      if (yRangePadding === null || this.scaled.viewCount === 1) {\n        yRangePadding = yScaledRangePadding;\n      } else if (yScaledRangePadding !== null) {\n        yRangePadding = [Math.max(yRangePadding[0], yScaledRangePadding[0]), Math.max(yRangePadding[1], yScaledRangePadding[1])];\n      }\n      this.yRangePadding.setIntrinsic(yRangePadding);\n    }\n  }\n\n  /** @override */\n  @Property({\n    updateFlags: View.NeedsLayout,\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(yRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetYRangePadding\", yRangePadding, this.owner);\n    },\n    equalValues(newYRangePadding: readonly [number, number], oldYRangePadding: readonly [number, number]): boolean {\n      return Arrays.equal(newYRangePadding, oldYRangePadding);\n    },\n  })\n  readonly yRangePadding!: Property<this, readonly [number, number]>;\n\n  @Property({\n    initValue(): readonly [number, number] {\n      return [1.0, 0.5];\n    },\n    equalValues(newFitAlign: readonly [number, number], oldFitAlign: readonly [number, number]): boolean {\n      return Arrays.equal(newFitAlign, oldFitAlign);\n    },\n    fromLike(value: readonly [number, number] | number): readonly [number, number] {\n      if (typeof value === \"number\") {\n        return [value, value];\n      }\n      return value;\n    },\n  })\n  readonly fitAlign!: Property<this, Like<readonly [number, number], number>>;\n\n  xFitAlign(): number;\n  xFitAlign(xFitAlign: number): this;\n  xFitAlign(xFitAlign?: number): number | this {\n    const fitAlign = this.fitAlign.value;\n    if (xFitAlign === void 0) {\n      return fitAlign[0];\n    } else {\n      this.fitAlign.set([xFitAlign, fitAlign[1]]);\n      return this;\n    }\n  }\n\n  yFitAlign(): number;\n  yFitAlign(yFitAlign: number): this;\n  yFitAlign(yFitAlign?: number): number | this {\n    const fitAlign = this.fitAlign.value;\n    if (yFitAlign === void 0) {\n      return fitAlign[0];\n    } else {\n      this.fitAlign.set([fitAlign[0], yFitAlign]);\n      return this;\n    }\n  }\n\n  @Property({valueType: Number})\n  readonly fitAspectRatio!: Property<this, number | undefined>;\n\n  preserveAspectRatio(): boolean;\n  preserveAspectRatio(preserveAspectRatio: boolean): this;\n  preserveAspectRatio(preserveAspectRatio?: boolean): boolean | this {\n    if (preserveAspectRatio === void 0) {\n      return this.gesture.preserveAspectRatio;\n    } else {\n      this.gesture.preserveAspectRatio = preserveAspectRatio;\n      return this;\n    }\n  }\n\n  domainTracking(): readonly [boolean, boolean];\n  domainTracking(domainTracking: readonly [boolean, boolean] | boolean): this;\n  domainTracking(xDomainTracking: boolean, yDomainTracking: boolean): this;\n  domainTracking(xDomainTracking?: readonly [boolean, boolean] | boolean,\n                 yDomainTracking?: boolean): readonly [boolean, boolean] | this {\n    if (xDomainTracking === void 0) {\n      return [(this.scaledFlags & ScaledView.XDomainTrackingFlag) !== 0,\n              (this.scaledFlags & ScaledView.YDomainTrackingFlag) !== 0];\n    } else {\n      if (Array.isArray(xDomainTracking)) {\n        yDomainTracking = xDomainTracking[1] as boolean;\n        xDomainTracking = xDomainTracking[0] as boolean;\n      } else if (yDomainTracking === void 0) {\n        yDomainTracking = xDomainTracking as boolean;\n      }\n      if (xDomainTracking as boolean) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.XDomainTrackingFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.XDomainTrackingFlag);\n      }\n      if (yDomainTracking) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.YDomainTrackingFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.YDomainTrackingFlag);\n      }\n      return this;\n    }\n  }\n\n  xDomainTracking(): boolean;\n  xDomainTracking(xDomainTracking: boolean): this;\n  xDomainTracking(xDomainTracking?: boolean): boolean | this {\n    if (xDomainTracking === void 0) {\n      return (this.scaledFlags & ScaledView.XDomainTrackingFlag) !== 0;\n    } else {\n      if (xDomainTracking) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.XDomainTrackingFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.XDomainTrackingFlag);\n      }\n      return this;\n    }\n  }\n\n  yDomainTracking(): boolean;\n  yDomainTracking(yDomainTracking: boolean): this;\n  yDomainTracking(yDomainTracking?: boolean): boolean | this {\n    if (yDomainTracking === void 0) {\n      return (this.scaledFlags & ScaledView.YDomainTrackingFlag) !== 0;\n    } else {\n      if (yDomainTracking) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.YDomainTrackingFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.YDomainTrackingFlag);\n      }\n      return this;\n    }\n  }\n\n  scaleGestures(): readonly [boolean, boolean];\n  scaleGestures(scaleGestures: readonly [boolean, boolean] | boolean): this;\n  scaleGestures(xScaleGestures: boolean, yScaleGestures: boolean): this;\n  scaleGestures(xScaleGestures?: readonly [boolean, boolean] | boolean,\n                yScaleGestures?: boolean): readonly [boolean, boolean] | this {\n    if (xScaleGestures === void 0) {\n      return [(this.scaledFlags & ScaledView.XScaleGesturesFlag) !== 0,\n              (this.scaledFlags & ScaledView.YScaleGesturesFlag) !== 0];\n    } else {\n      if (Array.isArray(xScaleGestures)) {\n        yScaleGestures = xScaleGestures[1] as boolean;\n        xScaleGestures = xScaleGestures[0] as boolean;\n      } else if (yScaleGestures === void 0) {\n        yScaleGestures = xScaleGestures as boolean;\n      }\n      if (xScaleGestures as boolean) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.XScaleGesturesFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.XScaleGesturesFlag);\n      }\n      if (yScaleGestures) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.YScaleGesturesFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.YScaleGesturesFlag);\n      }\n      return this;\n    }\n  }\n\n  xScaleGestures(): boolean;\n  xScaleGestures(xScaleGestures: boolean): this;\n  xScaleGestures(xScaleGestures?: boolean): boolean | this {\n    if (xScaleGestures === void 0) {\n      return (this.scaledFlags & ScaledView.XScaleGesturesFlag) !== 0;\n    } else {\n      if (xScaleGestures) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.XScaleGesturesFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.XScaleGesturesFlag);\n      }\n      return this;\n    }\n  }\n\n  yScaleGestures(): boolean;\n  yScaleGestures(yScaleGestures: boolean): this;\n  yScaleGestures(yScaleGestures?: boolean): boolean | this {\n    if (yScaleGestures === void 0) {\n      return (this.scaledFlags & ScaledView.YScaleGesturesFlag) !== 0;\n    } else {\n      if (yScaleGestures) {\n        this.setScaledFlags(this.scaledFlags | ScaledView.YScaleGesturesFlag);\n      } else {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.YScaleGesturesFlag);\n      }\n      return this;\n    }\n  }\n\n  @Property({\n    valueType: Timing,\n    inherits: true,\n    initValue(): Timing | boolean | undefined {\n      return Easing.linear.withDuration(250);\n    },\n  })\n  readonly rescaleTransition!: Property<this, Timing | boolean | undefined>;\n\n  @Property({\n    valueType: Timing,\n    inherits: true,\n    initValue(): Timing | boolean | undefined {\n      return Easing.cubicOut.withDuration(250);\n    },\n  })\n  readonly reboundTransition!: Property<this, Timing | boolean | undefined>;\n\n  fitX(tween: boolean = false): void {\n    this.setScaledFlags(this.scaledFlags | ScaledView.XFitFlag);\n    if (tween === true) {\n      this.setScaledFlags(this.scaledFlags | ScaledView.XFitTweenFlag);\n    }\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  fitY(tween: boolean = false): void {\n    this.setScaledFlags(this.scaledFlags | ScaledView.YFitFlag);\n    if (tween === true) {\n      this.setScaledFlags(this.scaledFlags | ScaledView.YFitTweenFlag);\n    }\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  fit(tween: boolean = false): void {\n    this.setScaledFlags(this.scaledFlags | (ScaledView.XFitFlag | ScaledView.YFitFlag));\n    if (tween === true) {\n      this.setScaledFlags(this.scaledFlags | ScaledView.FitTweenMask);\n    }\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  /** @internal */\n  @ViewSet({\n    binds: true,\n    observes: true,\n    willAttachView(scaledView: ScaledXView<X> | ScaledYView<Y>, targetView: View | null): void {\n      this.owner.callObservers(\"viewWillAttachScaled\", scaledView, targetView, this.owner);\n    },\n    didAttachView(newScaledView: ScaledXView<X> | ScaledYView<Y>): void {\n      if (ScaledXView.is<X>(newScaledView)) {\n        this.owner.updateXDataDomain(newScaledView.xDataDomain);\n      }\n      if (ScaledYView.is<Y>(newScaledView)) {\n        this.owner.updateYDataDomain(newScaledView.yDataDomain);\n      }\n    },\n    didDetachView(scaledView: ScaledXView<X> | ScaledYView<Y>): void {\n      this.owner.callObservers(\"viewDidDetachScaled\", scaledView, this.owner);\n    },\n    viewDidSetXRangePadding(xRangePadding: readonly [number, number]): void {\n      this.owner.updateXRangePadding(xRangePadding);\n    },\n    viewDidSetYRangePadding(yRangePadding: readonly [number, number]): void {\n      this.owner.updateYRangePadding(yRangePadding);\n    },\n    viewDidSetXDataDomain(xDataDomain: Domain<X> | null): void {\n      this.owner.updateXDataDomain(xDataDomain);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewDidSetYDataDomain(yDataDomain: Domain<Y> | null): void {\n      this.owner.updateYDataDomain(yDataDomain);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    detectView(view: View): ScaledXView<X> | ScaledYView<Y> | null {\n      return ScaledXView.is<X>(view) || ScaledYView.is<Y>(view) ? view : null;\n    },\n  })\n  readonly scaled!: ViewSet<this, ScaledXView<X> | ScaledYView<Y>> & Observes<ScaledXView<X>> & Observes<ScaledYView<Y>>;\n\n  protected override onLayout(): void {\n    super.onLayout();\n    const updateTime = this.updateTime;\n    this.xScale.recohere(updateTime);\n    this.yScale.recohere(updateTime);\n    this.resizeScales();\n    this.updateScales();\n  }\n\n  /**\n   * Updates own scale ranges to project onto view frame. Infers own scales\n   * from child view data domains if derived x/y scales are undefined.\n   */\n  protected resizeScales(): void {\n    let xScale: ContinuousScale<X, number> | null;\n    const xRange = this.xRange();\n    if (xRange !== null) {\n      xScale = !this.xScale.derived ? this.xScale.state : null;\n      if (xScale !== null) {\n        if (!xScale.range.equals(xRange)) {\n          this.xScale.setRange(xRange);\n          this.setScaledFlags(this.scaledFlags | ScaledView.RescaleFlag);\n        }\n      } else if (this.xScale.inlet === null || this.xScale.inletValue === null) {\n        const xDataDomainPadded = this.xDataDomainPadded;\n        if (xDataDomainPadded !== null) {\n          xScale = ScaledView.createScale(xDataDomainPadded[0], xDataDomainPadded[1], xRange[0], xRange[1]);\n          this.xScale.set(xScale);\n          this.setScaledFlags(this.scaledFlags | ScaledView.XFitFlag);\n        }\n      }\n    }\n\n    let yScale: ContinuousScale<Y, number> | null;\n    const yRange = this.yRange();\n    if (yRange !== null) {\n      yScale = !this.yScale.derived ? this.yScale.state : null;\n      if (yScale !== null) {\n        if (!yScale.range.equals(yRange)) {\n          this.yScale.setRange(yRange);\n          this.setScaledFlags(this.scaledFlags | ScaledView.RescaleFlag);\n        }\n      } else if (this.yScale.inlet === null || this.yScale.inletValue === null) {\n        const yDataDomainPadded = this.yDataDomainPadded;\n        if (yDataDomainPadded !== null) {\n          yScale = ScaledView.createScale(yDataDomainPadded[0], yDataDomainPadded[1], yRange[0], yRange[1]);\n          this.yScale.set(yScale);\n          this.setScaledFlags(this.scaledFlags | ScaledView.YFitFlag);\n        }\n      }\n    }\n  }\n\n  protected updateScales(): void {\n    const xScale = !this.xScale.derived ? this.xScale.state : null;\n    const yScale = !this.yScale.derived ? this.yScale.state : null;\n    if (xScale !== null && yScale !== null) {\n      const isPressing = this.gesture.pressing;\n      if (!isPressing) {\n        const isCoasting = this.gesture.coasting;\n        this.boundScales(xScale, yScale, isCoasting);\n      }\n    }\n  }\n\n  /**\n   * Clamps scales to domain bounds and corrects aspect ratio.\n   */\n  protected boundScales(oldXScale: ContinuousScale<X, number>,\n                        oldYScale: ContinuousScale<Y, number>,\n                        isCoasting: boolean): void {\n    const oldXDomain = oldXScale.domain;\n    const oldYDomain = oldYScale.domain;\n    let newXDomain: Domain<X> = oldXDomain;\n    let newYDomain: Domain<Y> = oldYDomain;\n\n    // fit x domain\n    const xDataDomainPadded = this.xDataDomainPadded;\n    if (xDataDomainPadded !== null && (this.scaledFlags & ScaledView.XFitFlag) !== 0) {\n      newXDomain = xDataDomainPadded;\n      this.setScaledFlags(this.scaledFlags | ScaledView.XInRangeMask);\n    } else {\n      newXDomain = oldXDomain;\n    }\n\n    // fit y domain\n    const yDataDomainPadded = this.yDataDomainPadded;\n    if (yDataDomainPadded !== null && (this.scaledFlags & ScaledView.YFitFlag) !== 0) {\n      newYDomain = yDataDomainPadded;\n      this.setScaledFlags(this.scaledFlags | ScaledView.YInRangeMask);\n    } else {\n      newYDomain = oldYDomain;\n    }\n\n    // clamp x domain\n    const xDomainPadded = xDataDomainPadded !== null ? xDataDomainPadded : oldXDomain;\n    const xDomainBounds = this.xDomainBounds.value;\n    const xDomainMin = xDomainBounds[0] === false ? void 0\n                     : xDomainBounds[0] === true ? xDomainPadded[0]\n                     : xDomainBounds[0];\n    const xDomainMax = xDomainBounds[1] === false ? void 0\n                     : xDomainBounds[1] === true ? xDomainPadded[1]\n                     : xDomainBounds[1];\n    const xZoomBounds = this.xZoomBounds.value;\n    let xZoomMin: number | boolean | undefined = xZoomBounds[0];\n    let xZoomMax: number | boolean | undefined = xZoomBounds[1];\n    if (xZoomMin === true) {\n      if (oldXScale instanceof LinearScale) {\n        xZoomMin = ScaledView.LinearZoomMin;\n      } else if (oldXScale instanceof TimeScale) {\n        xZoomMin = ScaledView.TimeZoomMin;\n      } else {\n        xZoomMin = void 0;\n      }\n    } else if (xZoomMin === false) {\n      xZoomMin = void 0;\n    }\n    if (xZoomMax === true) {\n      if (oldXScale instanceof LinearScale) {\n        xZoomMax = ScaledView.LinearZoomMax;\n      } else if (oldXScale instanceof TimeScale) {\n        xZoomMax = ScaledView.TimeZoomMax;\n      } else {\n        xZoomMax = void 0;\n      }\n    } else if (xZoomMax === false) {\n      xZoomMax = void 0;\n    }\n    newXDomain = oldXScale.clampDomain(xDomainMin, xDomainMax, xZoomMin, xZoomMax).domain;\n\n    // clamp y domain\n    const yDomainPadded = yDataDomainPadded !== null ? yDataDomainPadded : oldYDomain;\n    const yDomainBounds = this.yDomainBounds.value;\n    const yDomainMin = yDomainBounds[0] === false ? void 0\n                     : yDomainBounds[0] === true ? yDomainPadded[0]\n                     : yDomainBounds[0];\n    const yDomainMax = yDomainBounds[1] === false ? void 0\n                     : yDomainBounds[1] === true ? yDomainPadded[1]\n                     : yDomainBounds[1];\n    const yZoomBounds = this.yZoomBounds.value;\n    let yZoomMin: number | boolean | undefined = yZoomBounds[0];\n    let yZoomMax: number | boolean | undefined = yZoomBounds[1];\n    if (yZoomMin === true) {\n      if (oldYScale instanceof LinearScale) {\n        yZoomMin = ScaledView.LinearZoomMin;\n      } else if (oldYScale instanceof TimeScale) {\n        yZoomMin = ScaledView.TimeZoomMin;\n      } else {\n        yZoomMin = void 0;\n      }\n    } else if (yZoomMin === false) {\n      yZoomMin = void 0;\n    }\n    if (yZoomMax === true) {\n      if (oldYScale instanceof LinearScale) {\n        yZoomMax = ScaledView.LinearZoomMax;\n      } else if (oldYScale instanceof TimeScale) {\n        yZoomMax = ScaledView.TimeZoomMax;\n      } else {\n        yZoomMax = void 0;\n      }\n    } else if (yZoomMax === false) {\n      yZoomMax = void 0;\n    }\n    newYDomain = oldYScale.clampDomain(yDomainMin, yDomainMax, yZoomMin, yZoomMax).domain;\n\n    // track x domain\n    if (xDataDomainPadded !== null && !isCoasting &&\n        (this.scaledFlags & ScaledView.XDomainTrackingFlag) !== 0 &&\n        (this.scaledFlags & ScaledView.XInRangeMask) !== 0) {\n      if ((this.scaledFlags & ScaledView.XInRangeMask) === ScaledView.XInRangeMask) {\n        newXDomain = xDataDomainPadded;\n      } else {\n        const xDomainWidth = +newXDomain[1] - +newXDomain[0] as unknown as X;\n        if ((this.scaledFlags & ScaledView.XMinInRangeFlag) !== 0) {\n          newXDomain = this.xScale.createDomain(xDataDomainPadded[0], +xDataDomainPadded[0] + +xDomainWidth as unknown as X);\n        } else {\n          newXDomain = this.xScale.createDomain(+xDataDomainPadded[1] - +xDomainWidth as unknown as X, xDataDomainPadded[1]);\n        }\n      }\n    }\n\n    // track y domain\n    if (yDataDomainPadded !== null && !isCoasting &&\n        (this.scaledFlags & ScaledView.YDomainTrackingFlag) !== 0 &&\n        (this.scaledFlags & ScaledView.YInRangeMask) !== 0) {\n      if ((this.scaledFlags & ScaledView.YInRangeMask) === ScaledView.YInRangeMask) {\n        newYDomain = yDataDomainPadded;\n      } else {\n        const yDomainWidth = +newYDomain[1] - +newYDomain[0] as unknown as Y;\n        if ((this.scaledFlags & ScaledView.YMinInRangeFlag) !== 0) {\n          newYDomain = this.yScale.createDomain(yDataDomainPadded[0], +yDataDomainPadded[0] + +yDomainWidth as unknown as Y);\n        } else {\n          newYDomain = this.yScale.createDomain(+yDataDomainPadded[1] - +yDomainWidth as unknown as Y, yDataDomainPadded[1]);\n        }\n      }\n    }\n\n    // fit aspect ratio\n    const fitAspectRatio = this.fitAspectRatio.value;\n    if (fitAspectRatio !== void 0 && (this.gesture.preserveAspectRatio || (this.scaledFlags & ScaledView.FitMask) !== 0)) {\n      const xRange = oldXScale.range;\n      const yRange = oldYScale.range;\n      const oldDomainWidth = +newXDomain[1] - +newXDomain[0];\n      const oldDomainHeight = +newYDomain[1] - +newYDomain[0];\n      const domainAspectRatio = oldDomainWidth / oldDomainHeight;\n      const rangeAspectRatio = (xRange[1] - xRange[0]) / (yRange[0] - yRange[1]);\n      const anamorphicAspectRatio = Math.abs(fitAspectRatio * rangeAspectRatio);\n      if (!Equivalent(domainAspectRatio, anamorphicAspectRatio)) {\n        const fitAlign = this.fitAlign.value;\n        if (fitAspectRatio < 0 && domainAspectRatio < anamorphicAspectRatio ||\n            fitAspectRatio > 0 && domainAspectRatio > anamorphicAspectRatio) {\n          const newDomainWidth = oldDomainHeight * anamorphicAspectRatio;\n          const dx = newDomainWidth - oldDomainWidth;\n          newXDomain = this.xScale.createDomain(+newXDomain[0] - dx * fitAlign[0] as unknown as X,\n                                                +newXDomain[1] + dx * (1 - fitAlign[0]) as unknown as X);\n        } else {\n          const newDomainHeight = oldDomainWidth / anamorphicAspectRatio;\n          const dy = newDomainHeight - oldDomainHeight;\n          newYDomain = this.yScale.createDomain(+newYDomain[0] - dy * fitAlign[1] as unknown as Y,\n                                                +newYDomain[1] + dy * (1 - fitAlign[1]) as unknown as Y);\n        }\n      }\n    }\n\n    // update x domain\n    if ((this.scaledFlags & ScaledView.XBoundingFlag) === 0 && !Equivalent(newXDomain, oldXDomain)) {\n      let timing: Timing | boolean | undefined;\n      if ((this.scaledFlags & (ScaledView.XFitFlag | ScaledView.RescaleFlag)) === 0 ||\n          (this.scaledFlags & ScaledView.XFitTweenFlag) !== 0) {\n        timing = (this.scaledFlags & ScaledView.InteractingMask) !== 0\n               ? this.reboundTransition.value : this.rescaleTransition.value;\n        if (timing !== void 0 && timing !== false) {\n          this.setScaledFlags(this.scaledFlags | ScaledView.XBoundingFlag);\n        }\n      }\n      this.willReboundX(oldXScale);\n      this.xDomain(newXDomain, timing);\n      if (timing === void 0 && timing !== false) {\n        this.didReboundX(this.xScale.getState());\n      }\n      if (xDataDomainPadded !== null && (this.scaledFlags & ScaledView.XFitFlag) !== 0) {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.XFitFlag);\n      }\n    }\n\n    // update y domain\n    if ((this.scaledFlags & ScaledView.YBoundingFlag) === 0 && !Equivalent(newYDomain, oldYDomain)) {\n      let timing: Timing | boolean | undefined;\n      if ((this.scaledFlags & (ScaledView.YFitFlag | ScaledView.RescaleFlag)) === 0 ||\n          (this.scaledFlags & ScaledView.YFitTweenFlag) !== 0) {\n        timing = (this.scaledFlags & ScaledView.InteractingMask) !== 0\n               ? this.reboundTransition.value : this.rescaleTransition.value;\n        if (timing !== void 0 && timing !== false) {\n          this.setScaledFlags(this.scaledFlags | ScaledView.YBoundingFlag);\n        }\n      }\n      this.willReboundY(oldYScale);\n      this.yDomain(newYDomain, timing);\n      if (timing === void 0 && timing !== false) {\n        this.didReboundY(this.yScale.getState());\n      }\n      if (yDataDomainPadded !== null && (this.scaledFlags & ScaledView.YFitFlag) !== 0) {\n        this.setScaledFlags(this.scaledFlags & ~ScaledView.YFitFlag);\n      }\n    }\n\n    this.setScaledFlags(this.scaledFlags & ~(ScaledView.InteractedFlag | ScaledView.RescaleFlag));\n  }\n\n  protected override displayChildren(displayFlags: ViewFlags, displayChild: (this: this, childView: View, displayFlags: ViewFlags) => void): void {\n    let xScale: ContinuousScale<X, number> | null;\n    let yScale: ContinuousScale<Y, number> | null;\n    if ((displayFlags & View.NeedsLayout) !== 0 &&\n        (xScale = this.xScale.value, xScale !== null) &&\n        (yScale = this.yScale.value, yScale !== null)) {\n      this.layoutChildren(xScale, yScale, displayFlags, displayChild);\n    } else {\n      super.displayChildren(displayFlags, displayChild);\n    }\n  }\n\n  protected layoutChildren(xScale: ContinuousScale<X, number>, yScale: ContinuousScale<Y, number>,\n                           displayFlags: ViewFlags, displayChild: (this: this, childView: View, displayFlags: ViewFlags) => void): void {\n    // Recompute extrema when laying out child views.\n    let xDataDomainMin: X | undefined;\n    let xDataDomainMax: X | undefined;\n    let yDataDomainMin: Y | undefined;\n    let yDataDomainMax: Y | undefined;\n    let xRangePaddingMin = 0;\n    let xRangePaddingMax = 0;\n    let yRangePaddingMin = 0;\n    let yRangePaddingMax = 0;\n    let xCount = 0;\n    let yCount = 0;\n\n    type self = this;\n    function layoutChild(this: self, childView: View, displayFlags: ViewFlags): void {\n      displayChild.call(this, childView, displayFlags);\n      if (ScaledXView.is<X>(childView) && childView.xScale.derived) {\n        const childXDataDomain = childView.xDataDomain;\n        if (childXDataDomain !== null) {\n          if (xCount !== 0) {\n            if (Values.compare(childXDataDomain[0], xDataDomainMin) < 0) {\n              xDataDomainMin = childXDataDomain[0];\n            }\n            if (Values.compare(xDataDomainMax, childXDataDomain[1]) < 0) {\n              xDataDomainMax = childXDataDomain[1];\n            }\n          } else {\n            xDataDomainMin = childXDataDomain[0];\n            xDataDomainMax = childXDataDomain[1];\n          }\n          const childXRangePadding = childView.xRangePadding.value;\n          xRangePaddingMin = Math.max(childXRangePadding[0], xRangePaddingMin);\n          xRangePaddingMax = Math.max(childXRangePadding[1], xRangePaddingMax);\n          xCount += 1;\n        }\n      }\n      if (ScaledYView.is<Y>(childView) && childView.yScale.derived) {\n        const childYDataDomain = childView.yDataDomain;\n        if (childYDataDomain !== null) {\n          if (yCount !== 0) {\n            if (Values.compare(childYDataDomain[0], yDataDomainMin) < 0) {\n              yDataDomainMin = childYDataDomain[0];\n            }\n            if (Values.compare(yDataDomainMax, childYDataDomain[1]) < 0) {\n              yDataDomainMax = childYDataDomain[1];\n            }\n          } else {\n            yDataDomainMin = childYDataDomain[0];\n            yDataDomainMax = childYDataDomain[1];\n          }\n          const childYRangePadding = childView.yRangePadding.value;\n          yRangePaddingMin = Math.max(childYRangePadding[0], yRangePaddingMin);\n          yRangePaddingMax = Math.max(childYRangePadding[1], yRangePaddingMax);\n          yCount += 1;\n        }\n      }\n    }\n    super.displayChildren(displayFlags, layoutChild);\n\n    this.setXDataDomain(xCount !== 0 ? this.xScale.createDomain(xDataDomainMin!, xDataDomainMax!) : null);\n    this.setYDataDomain(yCount !== 0 ? this.yScale.createDomain(yDataDomainMin!, yDataDomainMax!) : null);\n    this.xRangePadding.setIntrinsic([xRangePaddingMin, xRangePaddingMax]);\n    this.yRangePadding.setIntrinsic([yRangePaddingMin, yRangePaddingMax]);\n  }\n\n  protected onBeginBoundingXScale(xScale: ContinuousScale<X, number>): void {\n    // hook\n  }\n\n  protected onEndBoundingXScale(xScale: ContinuousScale<X, number>): void {\n    this.setScaledFlags(this.scaledFlags & ~ScaledView.XBoundingFlag);\n    this.didReboundX(xScale);\n  }\n\n  protected onInterruptBoundingXScale(xScale: ContinuousScale<X, number>): void {\n    this.setScaledFlags(this.scaledFlags & ~ScaledView.XBoundingFlag);\n    this.didReboundX(xScale);\n  }\n\n  protected onBeginBoundingYScale(yScale: ContinuousScale<Y, number>): void {\n    // hook\n  }\n\n  protected onEndBoundingYScale(yScale: ContinuousScale<Y, number>): void {\n    this.setScaledFlags(this.scaledFlags & ~ScaledView.YBoundingFlag);\n    this.didReboundY(yScale);\n  }\n\n  protected onInterruptBoundingYScale(yScale: ContinuousScale<Y, number>): void {\n    this.setScaledFlags(this.scaledFlags & ~ScaledView.YBoundingFlag);\n    this.didReboundY(yScale);\n  }\n\n  protected willReboundX(xScale: ContinuousScale<X, number>): void {\n    this.gesture.neutralizeX();\n  }\n\n  protected didReboundX(xScale: ContinuousScale<X, number>): void {\n    // hook\n  }\n\n  protected willReboundY(yScale: ContinuousScale<Y, number>): void {\n    this.gesture.neutralizeY();\n  }\n\n  protected didReboundY(yScale: ContinuousScale<Y, number>): void {\n    // hook\n  }\n\n  @ScaleGesture({\n    bindsOwner: true,\n    getXScale(): ContinuousScale<X, number> | null {\n      if ((this.owner.scaledFlags & ScaledView.XScaleGesturesFlag) !== 0) {\n        return this.owner.xScale.value;\n      }\n      return null;\n    },\n    setXScale(xScale: ContinuousScale<X, number> | null, timing?: TimingLike | boolean): void {\n      if ((this.owner.scaledFlags & ScaledView.XScaleGesturesFlag) !== 0) {\n        this.owner.xScale.set(xScale, timing);\n      }\n    },\n    getYScale(): ContinuousScale<Y, number> | null {\n      if ((this.owner.scaledFlags & ScaledView.YScaleGesturesFlag) !== 0) {\n        return this.owner.yScale.value;\n      }\n      return null;\n    },\n    setYScale(yScale: ContinuousScale<Y, number> | null, timing?: TimingLike | boolean): void {\n      if ((this.owner.scaledFlags & ScaledView.YScaleGesturesFlag) !== 0) {\n        this.owner.yScale.set(yScale, timing);\n      }\n    },\n    willStartInteracting(): void {\n      this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.BoundingMask | ScaledView.InteractingFlag);\n    },\n    didStopInteracting(): void {\n      const xScale = this.owner.xScale.value;\n      const xDataDomain = this.owner.xDataDomain;\n      if (xScale !== null && xDataDomain !== null) {\n        const xDomain = xScale.domain;\n        if (xDomain.contains(xDataDomain[0])) {\n          this.owner.setScaledFlags(this.owner.scaledFlags | ScaledView.XMinInRangeFlag);\n        } else {\n          this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.XMinInRangeFlag);\n        }\n        if (xDomain.contains(xDataDomain[1])) {\n          this.owner.setScaledFlags(this.owner.scaledFlags | ScaledView.XMaxInRangeFlag);\n        } else {\n          this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.XMaxInRangeFlag);\n        }\n      }\n      const yScale = this.owner.yScale.value;\n      const yDataDomain = this.owner.yDataDomain;\n      if (yScale !== null && yDataDomain !== null) {\n        const yDomain = yScale.domain;\n        if (yDomain.contains(yDataDomain[0])) {\n          this.owner.setScaledFlags(this.owner.scaledFlags | ScaledView.YMinInRangeFlag);\n        } else {\n          this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.YMinInRangeFlag);\n        }\n        if (yDomain.contains(yDataDomain[1])) {\n          this.owner.setScaledFlags(this.owner.scaledFlags | ScaledView.YMaxInRangeFlag);\n        } else {\n          this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.YMaxInRangeFlag);\n        }\n      }\n      this.owner.setScaledFlags(this.owner.scaledFlags & ~ScaledView.InteractingFlag | ScaledView.InteractedFlag);\n    },\n    didStopPressing(): void {\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    willBeginCoast(input: ScaleGestureInput, event: Event | null): boolean | void {\n      if ((this.owner.scaledFlags & ScaledView.XScaleGesturesFlag) === 0) {\n        input.disableX = true;\n        input.vx = 0;\n        input.ax = 0;\n      }\n      if ((this.owner.scaledFlags & ScaledView.YScaleGesturesFlag) === 0) {\n        input.disableY = true;\n        input.vy = 0;\n        input.ay = 0;\n      }\n    },\n  })\n  readonly gesture!: ScaleGesture<this, ScaledView<X, Y>, X, Y>;\n\n  /** @internal */\n  static createScale<X, Y>(x0: X, x1: X, y0: Y | undefined, y1: Y | undefined): ContinuousScale<X, Y> {\n    let range: LinearRange;\n    if (typeof y0 === \"number\" && typeof y1 === \"number\") {\n      range = LinearRange(y0, y1);\n    } else {\n      range = LinearRange(0, 1);\n    }\n    if (typeof x0 === \"number\" && typeof x1 === \"number\") {\n      return LinearScale(LinearDomain(x0, x1), range) as unknown as ContinuousScale<X, Y>;\n    } else if (x0 instanceof DateTime && x1 instanceof DateTime) {\n      return TimeScale(TimeDomain(x0, x1), range) as unknown as ContinuousScale<X, Y>;\n    }\n    throw new TypeError(x0 + \", \" + x1 + \", \" + y0 + \", \" + y1);\n  }\n\n  /** @internal */\n  static parseScale<X, Y>(string: string): ContinuousScale<X, Y> {\n    if (string === \"linear\") {\n      return LinearScale(LinearDomain(0, 1), LinearRange(0, 1)) as unknown as ContinuousScale<X, Y>;\n    } else if (string === \"time\") {\n      const d1 = DateTime.current();\n      const d0 = d1.withDay(d1.day - 1);\n      return TimeScale(TimeDomain(d0, d1), LinearRange(0, 1)) as unknown as ContinuousScale<X, Y>;\n    }\n    const domain = string.split(\"...\");\n    const x0 = +domain[0]!;\n    const x1 = +domain[1]!;\n    if (isFinite(x0) && isFinite(x1)) {\n      return LinearScale(LinearDomain(x0, x1), LinearRange(0, 1)) as unknown as ContinuousScale<X, Y>;\n    } else {\n      const d0 = DateTime.parse(domain[0]!);\n      const d1 = DateTime.parse(domain[1]!);\n      return TimeScale(TimeDomain(d0, d1), LinearRange(0, 1)) as unknown as ContinuousScale<X, Y>;\n    }\n  }\n\n  /** @internal */\n  static readonly XDomainTrackingFlag: ScaledFlags = 1 << 0;\n  /** @internal */\n  static readonly YDomainTrackingFlag: ScaledFlags = 1 << 1;\n  /** @internal */\n  static readonly XScaleGesturesFlag: ScaledFlags = 1 << 2;\n  /** @internal */\n  static readonly YScaleGesturesFlag: ScaledFlags = 1 << 3;\n  /** @internal */\n  static readonly XMinInRangeFlag: ScaledFlags = 1 << 4;\n  /** @internal */\n  static readonly XMaxInRangeFlag: ScaledFlags = 1 << 5;\n  /** @internal */\n  static readonly YMinInRangeFlag: ScaledFlags = 1 << 6;\n  /** @internal */\n  static readonly YMaxInRangeFlag: ScaledFlags = 1 << 7;\n  /** @internal */\n  static readonly InteractingFlag: ScaledFlags = 1 << 8;\n  /** @internal */\n  static readonly InteractedFlag: ScaledFlags = 1 << 9;\n  /** @internal */\n  static readonly XBoundingFlag: ScaledFlags = 1 << 10;\n  /** @internal */\n  static readonly YBoundingFlag: ScaledFlags = 1 << 11;\n  /** @internal */\n  static readonly XFitFlag: ScaledFlags = 1 << 12;\n  /** @internal */\n  static readonly YFitFlag: ScaledFlags = 1 << 13;\n  /** @internal */\n  static readonly XFitTweenFlag: ScaledFlags = 1 << 14;\n  /** @internal */\n  static readonly YFitTweenFlag: ScaledFlags = 1 << 15;\n  /** @internal */\n  static readonly RescaleFlag: ScaledFlags = 1 << 16;\n\n  /** @internal */\n  static readonly DomainTrackingMask: ScaledFlags = this.XDomainTrackingFlag\n                                                  | this.YDomainTrackingFlag;\n  /** @internal */\n  static readonly ScaleGesturesMask: ScaledFlags = this.XScaleGesturesFlag\n                                                 | this.YScaleGesturesFlag;\n  /** @internal */\n  static readonly XInRangeMask: ScaledFlags = this.XMinInRangeFlag\n                                            | this.XMaxInRangeFlag;\n  /** @internal */\n  static readonly YInRangeMask: ScaledFlags = this.YMinInRangeFlag\n                                            | this.YMaxInRangeFlag;\n  /** @internal */\n  static readonly InteractingMask: ScaledFlags = this.InteractingFlag\n                                               | this.InteractedFlag;\n  /** @internal */\n  static readonly BoundingMask: ScaledFlags = this.XBoundingFlag\n                                            | this.YBoundingFlag;\n  /** @internal */\n  static readonly FitMask: ScaledFlags = this.XFitFlag\n                                       | this.YFitFlag;\n  /** @internal */\n  static readonly FitTweenMask: ScaledFlags = this.XFitTweenFlag\n                                            | this.YFitTweenFlag;\n\n  /** @internal */\n  static LinearZoomMin: number = 1000000;\n  /** @internal */\n  static LinearZoomMax: number = 0.001;\n  /** @internal */\n  static TimeZoomMin: number = 86400000;\n  /** @internal */\n  static TimeZoomMax: number = 1;\n\n  static override readonly InsertChildFlags: ViewFlags = GraphicsView.InsertChildFlags | View.NeedsResize;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Mutable} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport {Equals} from \"@swim/util\";\nimport {Values} from \"@swim/util\";\nimport type {Domain} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {LinearRange} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport type {ViewFlags} from \"@swim/view\";\nimport {View} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport {DataPointView} from \"./DataPointView\";\nimport {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport type {PlotViewObserver} from \"./PlotView\";\nimport type {PlotView} from \"./PlotView\";\n\n/** @public */\nexport interface ScatterPlotViewObserver<X = unknown, Y = unknown, V extends ScatterPlotView<X, Y> = ScatterPlotView<X, Y>> extends PlotViewObserver<X, Y, V> {\n}\n\n/** @public */\nexport abstract class ScatterPlotView<X = unknown, Y = unknown> extends GraphicsView implements PlotView<X, Y> {\n  constructor() {\n    super();\n    this.xDataDomain = null;\n    this.yDataDomain = null;\n    this.xDataRange = null;\n    this.yDataRange = null;\n  }\n\n  declare readonly observerType?: Class<ScatterPlotViewObserver<X, Y>>;\n\n  @ThemeAnimator({\n    valueType: Number,\n    updateFlags: View.NeedsRender,\n    didSetValue(opacity: number | undefined): void {\n      this.owner.callObservers(\"viewDidSetOpacity\", opacity, this.owner);\n    },\n  })\n  readonly opacity!: ThemeAnimator<this, number | undefined>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(xScale: ContinuousScale<X, number> | null): void {\n      this.owner.updateXDataRange();\n      this.owner.callObservers(\"viewDidSetXScale\", xScale, this.owner);\n    },\n  })\n  readonly xScale!: ContinuousScaleAnimator<this, X, number>;\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(yScale: ContinuousScale<Y, number> | null): void {\n      this.owner.updateYDataRange();\n      this.owner.callObservers(\"viewDidSetYScale\", yScale, this.owner);\n    },\n  })\n  readonly yScale!: ContinuousScaleAnimator<this, Y, number>;\n\n  /** @override */\n  xDomain(): Domain<X> | null;\n  xDomain(xDomain: Domain<X> | string | null, timing?: TimingLike | boolean): this;\n  xDomain(xMin: X, xMax: X, timing?: TimingLike | boolean): this;\n  xDomain(xMin?: Domain<X> | X | string | null, xMax?: X | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<X> | null | this {\n    if (arguments.length === 0) {\n      const xScale = this.xScale.value;\n      return xScale !== null ? xScale.domain : null;\n    } else {\n      this.xScale.setDomain(xMin as any, xMax as any, timing);\n      return this;\n    }\n  }\n\n  /** @override */\n  yDomain(): Domain<Y> | null;\n  yDomain(yDomain: Domain<Y> | string | null, timing?: TimingLike | boolean): this;\n  yDomain(yMin: Y, yMax: Y, timing: TimingLike | boolean): this;\n  yDomain(yMin?: Domain<Y> | Y | string | null, yMax?: Y | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<Y> | null | this {\n    if (arguments.length === 0) {\n      const yScale = this.yScale.value;\n      return yScale !== null ? yScale.domain : null;\n    } else {\n      this.yScale.setDomain(yMin as any, yMax as any, timing);\n      return this;\n    }\n  }\n\n  /** @override */\n  xRange(): Range<number> | null {\n    const xScale = this.xScale.value;\n    return xScale !== null ? xScale.range : null;\n  }\n\n  /** @override */\n  yRange(): Range<number> | null {\n    const yScale = this.yScale.value;\n    return yScale !== null ? yScale.range : null;\n  }\n\n  /** @override */\n  @Property({\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(xRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetXRangePadding\", xRangePadding, this.owner);\n    },\n  })\n  readonly xRangePadding!: Property<this, readonly [number, number]>;\n\n  /** @override */\n  @Property({\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(yRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetYRangePadding\", yRangePadding, this.owner);\n    },\n  })\n  readonly yRangePadding!: Property<this, readonly [number, number]>;\n\n  /** @override */\n  readonly xDataDomain: Domain<X> | null;\n\n  protected setXDataDomain(newXDataDomain: Domain<X> | null): void {\n    const oldXDataDomain = this.xDataDomain;\n    if (Equals(newXDataDomain, oldXDataDomain)) {\n      return;\n    }\n    this.willSetXDataDomain(newXDataDomain, oldXDataDomain);\n    (this as Mutable<this>).xDataDomain = newXDataDomain;\n    this.onSetXDataDomain(newXDataDomain, oldXDataDomain);\n    this.didSetXDataDomain(newXDataDomain, oldXDataDomain);\n  }\n\n  protected willSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    // hook\n  }\n\n  protected onSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.updateXDataRange();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.callObservers(\"viewDidSetXDataDomain\", newXDataDomain, this);\n  }\n\n  protected updateXDataDomain(dataPointView: DataPointView<X, Y>): void {\n    const x: X = dataPointView.x.getValue();\n    let xDataDomain = this.xDataDomain;\n    if (xDataDomain === null) {\n      xDataDomain = this.xScale.createDomain(x, x);\n    } else {\n      if (Values.compare(x, xDataDomain[0]) < 0) {\n        xDataDomain = this.xScale.createDomain(x, xDataDomain[1]);\n      } else if (Values.compare(xDataDomain[1], x) < 0) {\n        xDataDomain = this.xScale.createDomain(xDataDomain[0], x);\n      }\n    }\n    this.setXDataDomain(xDataDomain);\n  }\n\n  /** @override */\n  readonly yDataDomain: Domain<Y> | null;\n\n  protected setYDataDomain(newYDataDomain: Domain<Y> | null): void {\n    const oldYDataDomain = this.yDataDomain;\n    if (Equals(newYDataDomain, oldYDataDomain)) {\n      return;\n    }\n    this.willSetYDataDomain(newYDataDomain, oldYDataDomain);\n    (this as Mutable<this>).yDataDomain = newYDataDomain;\n    this.onSetYDataDomain(newYDataDomain, oldYDataDomain);\n    this.didSetYDataDomain(newYDataDomain, oldYDataDomain);\n  }\n\n  protected willSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    // hook\n  }\n\n  protected onSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.updateYDataRange();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.callObservers(\"viewDidSetYDataDomain\", newYDataDomain, this);\n  }\n\n  protected updateYDataDomain(dataPointView: DataPointView<X, Y>): void {\n    const y = dataPointView.y.value as Y;\n    const y2 = dataPointView.y2.value;\n    let yDataDomain = this.yDataDomain;\n    if (yDataDomain === null) {\n      yDataDomain = this.yScale.createDomain(y, y);\n    } else {\n      if (Values.compare(y, yDataDomain[0]) < 0) {\n        yDataDomain = this.yScale.createDomain(y, yDataDomain[1]);\n      } else if (Values.compare(yDataDomain[1], y) < 0) {\n        yDataDomain = this.yScale.createDomain(yDataDomain[0], y);\n      }\n      if (y2 !== void 0) {\n        if (Values.compare(y2, yDataDomain[0]) < 0) {\n          yDataDomain = this.yScale.createDomain(y2, yDataDomain[1]);\n        } else if (Values.compare(yDataDomain[1], y2) < 0) {\n          yDataDomain = this.yScale.createDomain(yDataDomain[0], y2);\n        }\n      }\n    }\n    this.setYDataDomain(yDataDomain);\n  }\n\n  /** @override */\n  readonly xDataRange: Range<number> | null;\n\n  protected setXDataRange(xDataRange: Range<number> | null): void {\n    (this as Mutable<this>).xDataRange = xDataRange;\n  }\n\n  protected updateXDataRange(): void {\n    const xDataDomain = this.xDataDomain;\n    if (xDataDomain === null) {\n      return;\n    }\n    const xScale = this.xScale.value;\n    if (xScale !== null) {\n      this.setXDataRange(LinearRange(xScale(xDataDomain[0]), xScale(xDataDomain[1])));\n    } else {\n      this.setXDataRange(null);\n    }\n  }\n\n  /** @override */\n  readonly yDataRange: Range<number> | null;\n\n  protected setYDataRange(yDataRange: Range<number> | null): void {\n    (this as Mutable<this>).yDataRange = yDataRange;\n  }\n\n  protected updateYDataRange(): void {\n    const yDataDomain = this.yDataDomain;\n    if (yDataDomain === null) {\n      return;\n    }\n    const yScale = this.yScale.value;\n    if (yScale !== null) {\n      this.setYDataRange(LinearRange(yScale(yDataDomain[0]), yScale(yDataDomain[1])));\n    } else {\n      this.setYDataRange(null);\n    }\n  }\n\n  @ViewSet({\n    viewType: DataPointView,\n    binds: true,\n    observes: true,\n    willAttachView(newDataPointView: DataPointView<X, Y>, targetView: View | null): void {\n      this.owner.callObservers(\"viewWillAttachDataPoint\", newDataPointView, targetView, this.owner);\n    },\n    didAttachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateXDataDomain(dataPointView);\n      this.owner.updateYDataDomain(dataPointView);\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.attachDataPointLabelView(labelView);\n      }\n    },\n    willDetachView(dataPointView: DataPointView<X, Y>): void {\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.detachDataPointLabelView(labelView);\n      }\n      // xDataDomain and yDataDomain will be recomputed next layout pass\n    },\n    didDetachView(newDataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"viewDidDetachDataPoint\", newDataPointView, this.owner);\n    },\n    viewDidSetX(x: X | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateXDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewDidSetY(y: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateYDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewDidSetY2(y2: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateYDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.attachDataPointLabelView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.detachDataPointLabelView(labelView);\n    },\n    attachDataPointLabelView(labelView: GraphicsView): void {\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    detachDataPointLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n  })\n  readonly dataPoints!: ViewSet<this, DataPointView<X, Y>> & Observes<DataPointView<X, Y>> & {\n    attachDataPointLabelView(labelView: GraphicsView): void,\n    detachDataPointLabelView(labelView: GraphicsView): void,\n  };\n\n  protected override onLayout(): void {\n    super.onLayout();\n    const updateTime = this.updateTime;\n    this.xScale.recohere(updateTime);\n    this.yScale.recohere(updateTime);\n    this.resizeScales(this.viewFrame);\n  }\n\n  /**\n   * Updates own scale ranges to project onto view frame.\n   */\n  protected resizeScales(frame: R2Box): void {\n    const xScale = !this.xScale.derived ? this.xScale.value : null;\n    if (xScale !== null && xScale.range[1] !== frame.width) {\n      this.xScale.setRange(0, frame.width);\n    }\n    const yScale = !this.yScale.derived ? this.yScale.value : null;\n    if (yScale !== null && yScale.range[1] !== frame.height) {\n      this.yScale.setRange(0, frame.height);\n    }\n  }\n\n  protected override displayChildren(displayFlags: ViewFlags, displayChild: (this: this, childView: View, displayFlags: ViewFlags) => void): void {\n    let xScale: ContinuousScale<X, number> | null;\n    let yScale: ContinuousScale<Y, number> | null;\n    if ((displayFlags & View.NeedsLayout) !== 0 &&\n        (xScale = this.xScale.value, xScale !== null) &&\n        (yScale = this.yScale.value, yScale !== null)) {\n      this.layoutChildren(xScale, yScale, displayFlags, displayChild);\n    } else {\n      super.displayChildren(displayFlags, displayChild);\n    }\n  }\n\n  protected layoutChildren(xScale: ContinuousScale<X, number>, yScale: ContinuousScale<Y, number>,\n                           displayFlags: ViewFlags, displayChild: (this: this, childView: View, displayFlags: ViewFlags) => void): void {\n    // Recompute extrema when laying out child views.\n    const frame = this.viewFrame;\n    const size = Math.min(frame.width, frame.height);\n    let xDataDomainMin: X | undefined;\n    let xDataDomainMax: X | undefined;\n    let yDataDomainMin: Y | undefined;\n    let yDataDomainMax: Y | undefined;\n    let xRangePaddingMin = 0;\n    let xRangePaddingMax = 0;\n    let yRangePaddingMin = 0;\n    let yRangePaddingMax = 0;\n\n    let point0 = null as DataPointView<X, Y> | null;\n    type self = this;\n    function layoutChild(this: self, point1: View, displayFlags: ViewFlags): void {\n      if (point1 instanceof DataPointView) {\n        const x1 = point1.x.getValue();\n        const y1 = point1.y.getValue();\n        const dy1 = point1.y2.value;\n        const r1 = point1.radius.value;\n        const sx1 = xScale(x1);\n        const sy1 = yScale(y1);\n        point1.setXCoord(frame.xMin + sx1);\n        point1.setYCoord(frame.yMin + sy1);\n\n        if (point0 === null) {\n          xDataDomainMin = x1;\n          xDataDomainMax = x1;\n          yDataDomainMin = y1;\n          yDataDomainMax = y1;\n        } else {\n          // update extrema\n          if (Values.compare(x1, xDataDomainMin) < 0) {\n            xDataDomainMin = x1;\n          } else if (Values.compare(xDataDomainMax, x1) < 0) {\n            xDataDomainMax = x1;\n          }\n          if (Values.compare(y1, yDataDomainMin) < 0) {\n            yDataDomainMin = y1;\n          } else if (Values.compare(yDataDomainMax, y1) < 0) {\n            yDataDomainMax = y1;\n          }\n          if (dy1 !== void 0) {\n            if (Values.compare(dy1, yDataDomainMin) < 0) {\n              yDataDomainMin = dy1;\n            } else if (Values.compare(yDataDomainMax, dy1) < 0) {\n              yDataDomainMax = dy1;\n            }\n          }\n        }\n\n        if (r1 !== null) {\n          const radius = r1.pxValue(size);\n          xRangePaddingMin = Math.max(radius, xRangePaddingMin);\n          xRangePaddingMax = Math.max(radius, xRangePaddingMax);\n          yRangePaddingMin = Math.max(radius, yRangePaddingMin);\n          yRangePaddingMax = Math.max(radius, yRangePaddingMax);\n        }\n        point0 = point1;\n      }\n\n      displayChild.call(this, point1, displayFlags);\n    }\n    super.displayChildren(displayFlags, layoutChild);\n\n    this.setXDataDomain(point0 !== null ? this.xScale.createDomain(xDataDomainMin!, xDataDomainMax!) : null);\n    this.setYDataDomain(point0 !== null ? this.yScale.createDomain(yDataDomainMin!, yDataDomainMax!) : null);\n    this.xRangePadding.setIntrinsic([xRangePaddingMin, xRangePaddingMax]);\n    this.yRangePadding.setIntrinsic([yRangePaddingMin, yRangePaddingMax]);\n  }\n\n  protected override didRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer && !this.hidden && !this.culled) {\n      this.renderPlot(renderer.context, this.viewFrame);\n    }\n    super.didRender();\n  }\n\n  protected abstract renderPlot(context: CanvasContext, frame: R2Box): void;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Mutable} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport type {Instance} from \"@swim/util\";\nimport {Equals} from \"@swim/util\";\nimport {Values} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport type {Creatable} from \"@swim/util\";\nimport type {Domain} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {LinearRange} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {BTree} from \"@swim/collections\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport type {ViewFlags} from \"@swim/view\";\nimport {View} from \"@swim/view\";\nimport {ViewSet} from \"@swim/view\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport type {DataPointCategory} from \"./DataPointView\";\nimport {DataPointView} from \"./DataPointView\";\nimport {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport type {PlotViewObserver} from \"./PlotView\";\nimport type {PlotView} from \"./PlotView\";\n\n/** @public */\nexport type SeriesPlotHitMode = \"domain\" | \"plot\" | \"data\" | \"none\";\n\n/** @public */\nexport interface SeriesPlotViewObserver<X = unknown, Y = unknown, V extends SeriesPlotView<X, Y> = SeriesPlotView<X, Y>> extends PlotViewObserver<X, Y, V> {\n}\n\n/** @public */\nexport abstract class SeriesPlotView<X = unknown, Y = unknown> extends GraphicsView implements PlotView<X, Y> {\n  constructor() {\n    super();\n    this.xDataDomain = null;\n    this.yDataDomain = null;\n    this.xDataRange = null;\n    this.yDataRange = null;\n    this.gradientStops = 0;\n    this.dataPointViews = new BTree();\n  }\n\n  declare readonly observerType?: Class<SeriesPlotViewObserver<X, Y>>;\n\n  @ThemeAnimator({\n    valueType: Number,\n    updateFlags: View.NeedsRender,\n    didSetValue(opacity: number | undefined): void {\n      this.owner.callObservers(\"viewDidSetOpacity\", opacity, this.owner);\n    },\n  })\n  readonly opacity!: ThemeAnimator<this, number | undefined>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @Property({valueType: String, value: \"domain\"})\n  readonly hitMode!: Property<this, SeriesPlotHitMode>;\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(xScale: ContinuousScale<X, number> | null): void {\n      this.owner.updateXDataRange();\n      this.owner.callObservers(\"viewDidSetXScale\", xScale, this.owner);\n    },\n  })\n  readonly xScale!: ContinuousScaleAnimator<this, X, number>;\n\n  /** @override */\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: true,\n    updateFlags: View.NeedsLayout,\n    didSetValue(yScale: ContinuousScale<Y, number> | null): void {\n      this.owner.updateYDataRange();\n      this.owner.callObservers(\"viewDidSetYScale\", yScale, this.owner);\n    },\n  })\n  readonly yScale!: ContinuousScaleAnimator<this, Y, number>;\n\n  /** @override */\n  xDomain(): Domain<X> | null;\n  xDomain(xDomain: Domain<X> | string | null, timing?: TimingLike | boolean): this;\n  xDomain(xMin: X, xMax: X, timing: TimingLike | boolean): this;\n  xDomain(xMin?: Domain<X> | X | string | null, xMax?: X | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<X> | null | this {\n    if (arguments.length === 0) {\n      const xScale = this.xScale.value;\n      return xScale !== null ? xScale.domain : null;\n    } else {\n      this.xScale.setDomain(xMin as any, xMax as any, timing);\n      return this;\n    }\n  }\n\n  /** @override */\n  yDomain(): Domain<Y> | null;\n  yDomain(yDomain: Domain<Y> | string | null, timing?: TimingLike | boolean): this;\n  yDomain(yMin: Y, yMax: Y, timing: TimingLike | boolean): this;\n  yDomain(yMin?: Domain<Y> | Y | string | null, yMax?: Y | TimingLike | boolean,\n          timing?: TimingLike | boolean): Domain<Y> | null | this {\n    if (arguments.length === 0) {\n      const yScale = this.yScale.value;\n      return yScale !== null ? yScale.domain : null;\n    } else {\n      this.yScale.setDomain(yMin as any, yMax as any, timing);\n      return this;\n    }\n  }\n\n  /** @override */\n  xRange(): Range<number> | null {\n    const xScale = this.xScale.value;\n    return xScale !== null ? xScale.range : null;\n  }\n\n  /** @override */\n  yRange(): Range<number> | null {\n    const yScale = this.yScale.value;\n    return yScale !== null ? yScale.range : null;\n  }\n\n  /** @override */\n  @Property({\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(xRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetXRangePadding\", xRangePadding, this.owner);\n    },\n  })\n  readonly xRangePadding!: Property<this, readonly [number, number]>;\n\n  /** @override */\n  @Property({\n    initValue(): readonly [number, number] {\n      return [0, 0];\n    },\n    didSetValue(yRangePadding: readonly [number, number]): void {\n      this.owner.callObservers(\"viewDidSetYRangePadding\", yRangePadding, this.owner);\n    },\n  })\n  readonly yRangePadding!: Property<this, readonly [number, number]>;\n\n  /** @override */\n  readonly xDataDomain: Domain<X> | null;\n\n  protected setXDataDomain(newXDataDomain: Domain<X> | null): void {\n    const oldXDataDomain = this.xDataDomain;\n    if (Equals(newXDataDomain, oldXDataDomain)) {\n      return;\n    }\n    this.willSetXDataDomain(newXDataDomain, oldXDataDomain);\n    (this as Mutable<this>).xDataDomain = newXDataDomain;\n    this.onSetXDataDomain(newXDataDomain, oldXDataDomain);\n    this.didSetXDataDomain(newXDataDomain, oldXDataDomain);\n  }\n\n  protected willSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    // hook\n  }\n\n  protected onSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.updateXDataRange();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetXDataDomain(newXDataDomain: Domain<X> | null, oldXDataDomain: Domain<X> | null): void {\n    this.callObservers(\"viewDidSetXDataDomain\", newXDataDomain, this);\n  }\n\n  protected updateXDataDomain(dataPointView: DataPointView<X, Y>): void {\n    const dataPointViews = this.dataPointViews;\n    const xMin = dataPointViews.firstKey();\n    const xMax = dataPointViews.lastKey();\n    let xDataDomain: Domain<X>;\n    if (xMin !== void 0 && xMax !== void 0) {\n      xDataDomain = this.xScale.createDomain(xMin, xMax);\n    } else {\n      const x = dataPointView.x.getValue();\n      xDataDomain = this.xScale.createDomain(x, x);\n    }\n    this.setXDataDomain(xDataDomain);\n  }\n\n  /** @override */\n  readonly yDataDomain: Domain<Y> | null;\n\n  protected setYDataDomain(newYDataDomain: Domain<Y> | null): void {\n    const oldYDataDomain = this.yDataDomain;\n    if (Equals(newYDataDomain, oldYDataDomain)) {\n      return;\n    }\n    this.willSetYDataDomain(newYDataDomain, oldYDataDomain);\n    (this as Mutable<this>).yDataDomain = newYDataDomain;\n    this.onSetYDataDomain(newYDataDomain, oldYDataDomain);\n    this.didSetYDataDomain(newYDataDomain, oldYDataDomain);\n  }\n\n  protected willSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    // hook\n  }\n\n  protected onSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.updateYDataRange();\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetYDataDomain(newYDataDomain: Domain<Y> | null, oldYDataDomain: Domain<Y> | null): void {\n    this.callObservers(\"viewDidSetYDataDomain\", newYDataDomain, this);\n  }\n\n  protected updateYDataDomain(dataPointView: DataPointView<X, Y>): void {\n    const y = dataPointView.y.value as Y;\n    const y2 = dataPointView.y2.value;\n    let yDataDomain = this.yDataDomain;\n    if (yDataDomain === null) {\n      yDataDomain = this.yScale.createDomain(y, y);\n    } else {\n      if (Values.compare(y, yDataDomain[0]) < 0) {\n        yDataDomain = this.yScale.createDomain(y, yDataDomain[1]);\n      } else if (Values.compare(yDataDomain[1], y) < 0) {\n        yDataDomain = this.yScale.createDomain(yDataDomain[0], y);\n      }\n      if (y2 !== void 0) {\n        if (Values.compare(y2, yDataDomain[0]) < 0) {\n          yDataDomain = this.yScale.createDomain(y2, yDataDomain[1]);\n        } else if (Values.compare(yDataDomain[1], y2) < 0) {\n          yDataDomain = this.yScale.createDomain(yDataDomain[0], y2);\n        }\n      }\n    }\n    this.setYDataDomain(yDataDomain);\n  }\n\n  /** @override */\n  readonly xDataRange: Range<number> | null;\n\n  protected setXDataRange(xDataRange: Range<number> | null): void {\n    (this as Mutable<this>).xDataRange = xDataRange;\n  }\n\n  protected updateXDataRange(): void {\n    const xDataDomain = this.xDataDomain;\n    if (xDataDomain === null) {\n      return;\n    }\n    const xScale = this.xScale.value;\n    if (xScale !== null) {\n      this.setXDataRange(LinearRange(xScale(xDataDomain[0]), xScale(xDataDomain[1])));\n    } else {\n      this.setXDataRange(null);\n    }\n  }\n\n  /** @override */\n  readonly yDataRange: Range<number> | null;\n\n  protected setYDataRange(yDataRange: Range<number> | null): void {\n    (this as Mutable<this>).yDataRange = yDataRange;\n  }\n\n  protected updateYDataRange(): void {\n    const yDataDomain = this.yDataDomain;\n    if (yDataDomain === null) {\n      return;\n    }\n    const yScale = this.yScale.value;\n    if (yScale !== null) {\n      this.setYDataRange(LinearRange(yScale(yDataDomain[0]), yScale(yDataDomain[1])));\n    } else {\n      this.setYDataRange(null);\n    }\n  }\n\n  /** @internal */\n  readonly gradientStops: number;\n\n  @ViewSet({\n    viewType: DataPointView,\n    binds: true,\n    observes: true,\n    willAttachView(dataPointView: DataPointView<X, Y>, targetView: View | null): void {\n      this.owner.callObservers(\"viewWillAttachDataPoint\", dataPointView, targetView, this.owner);\n    },\n    didAttachView(dataPointView: DataPointView<X, Y>): void {\n      if (this.owner.dataPointViews.get(dataPointView.x.state!) === void 0) {\n        this.owner.dataPointViews.set(dataPointView.x.state!, dataPointView);\n      }\n      this.owner.updateXDataDomain(dataPointView);\n      this.owner.updateYDataDomain(dataPointView);\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.attachDataPointLabelView(labelView);\n      }\n    },\n    willDetachView(dataPointView: DataPointView<X, Y>): void {\n      if (this.owner.dataPointViews.get(dataPointView.x.state!) === dataPointView) {\n        this.owner.dataPointViews.delete(dataPointView.x.state!);\n      }\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.detachDataPointLabelView(labelView);\n      }\n      this.owner.updateXDataDomain(dataPointView);\n      // yDataDomain will be recomputed next layout pass\n    },\n    didDetachView(dataPointView: DataPointView<X, Y>): void {\n      this.owner.callObservers(\"viewDidDetachDataPoint\", dataPointView, this.owner);\n    },\n    viewDidSetX(x: X | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateXDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewDidSetY(y: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateYDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewDidSetY2(y2: Y | undefined, dataPointView: DataPointView<X, Y>): void {\n      this.owner.updateYDataDomain(dataPointView);\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    viewWillAttachLabel(labelView: GraphicsView): void {\n      this.attachDataPointLabelView(labelView);\n    },\n    viewDidDetachLabel(labelView: GraphicsView): void {\n      this.detachDataPointLabelView(labelView);\n    },\n    attachDataPointLabelView(labelView: GraphicsView): void {\n      this.owner.requireUpdate(View.NeedsLayout);\n    },\n    detachDataPointLabelView(labelView: GraphicsView): void {\n      // hook\n    },\n  })\n  readonly dataPoints!: ViewSet<this, DataPointView<X, Y>> & Observes<DataPointView<X, Y>> & {\n    attachDataPointLabelView(labelView: GraphicsView): void,\n    detachDataPointLabelView(labelView: GraphicsView): void,\n  };\n\n  /** @internal */\n  readonly dataPointViews: BTree<X, DataPointView<X, Y>>;\n\n  getDataPoint(x: X): DataPointView<X, Y> | null {\n    const dataPoint = this.dataPointViews.get(x);\n    return dataPoint !== void 0 ? dataPoint : null;\n  }\n\n  insertDataPoint(dataPointView: DataPointView<X, Y>): DataPointView<X, Y> {\n    return this.insertChild(dataPointView, null);\n  }\n\n  removeDataPoint(x: X): DataPointView<X, Y> | null {\n    const dataPointView = this.getDataPoint(x);\n    if (dataPointView !== null) {\n      this.removeChild(dataPointView);\n    }\n    return dataPointView;\n  }\n\n  override setChild<F extends Class<Instance<F, View>> & Creatable<Instance<F, View>>>(key: string, newChildFactory: F): View | null;\n  override setChild(key: string, newChild: View | LikeType<View> | null): View | null;\n  override setChild(key: string, newChild: View | LikeType<View> | null): View | null {\n    if (newChild !== null) {\n      newChild = View.fromLike(newChild);\n    }\n    if (newChild instanceof DataPointView) {\n      const target = this.dataPointViews.nextValue(newChild.x.state) ?? null;\n      const oldView = this.getChild(key);\n      super.insertChild(newChild, target, key);\n      return oldView;\n    }\n    return super.setChild(key, newChild) as View | null;\n  }\n\n  override appendChild<F extends Class<Instance<F, View>> & Creatable<Instance<F, View>>>(childFactory: F, key?: string): InstanceType<F>;\n  override appendChild<V extends View>(child: V | LikeType<V>, key?: string): V;\n  override appendChild(child: View | LikeType<View>, key?: string): View;\n  override appendChild(child: View | LikeType<View>, key?: string): View {\n    child = View.fromLike(child);\n    if (child instanceof DataPointView) {\n      const target = this.dataPointViews.nextValue(child.x.state) ?? null;\n      return super.insertChild(child, target, key);\n    }\n    return super.appendChild(child, key);\n  }\n\n  override prependChild<F extends Class<Instance<F, View>> & Creatable<Instance<F, View>>>(childFactory: F, key?: string): InstanceType<F>;\n  override prependChild<V extends View>(child: V | LikeType<V>, key?: string): V;\n  override prependChild(child: View | LikeType<View>, key?: string): View;\n  override prependChild(child: View | LikeType<View>, key?: string): View {\n    child = View.fromLike(child);\n    if (child instanceof DataPointView) {\n      const target = this.dataPointViews.nextValue(child.x.state) ?? null;\n      return super.insertChild(child, target, key);\n    }\n    return super.prependChild(child, key);\n  }\n\n  override insertChild<F extends Class<Instance<F, View>> & Creatable<Instance<F, View>>>(childFactory: F, target: View | null, key?: string): InstanceType<F>;\n  override insertChild<V extends View>(child: V | LikeType<V>, target: View | null, key?: string): V;\n  override insertChild(child: View | LikeType<View>, target: View | null, key?: string): View;\n  override insertChild(child: View | LikeType<View>, target: View | null, key?: string): View {\n    child = View.fromLike(child);\n    if (child instanceof DataPointView && target === null) {\n      target = this.dataPointViews.nextValue(child.x.state) ?? null;\n    }\n    return super.insertChild(child, target, key);\n  }\n\n  protected override onLayout(): void {\n    super.onLayout();\n    const updateTime = this.updateTime;\n    this.xScale.recohere(updateTime);\n    this.yScale.recohere(updateTime);\n    this.resizeScales(this.viewFrame);\n  }\n\n  /**\n   * Updates own scale ranges to project onto view frame.\n   */\n  protected resizeScales(frame: R2Box): void {\n    const xScale = !this.xScale.derived ? this.xScale.value : null;\n    if (xScale !== null && xScale.range[1] !== frame.width) {\n      this.xScale.setRange(0, frame.width);\n    }\n    const yScale = !this.yScale.derived ? this.yScale.value : null;\n    if (yScale !== null && yScale.range[1] !== frame.height) {\n      this.yScale.setRange(0, frame.height);\n    }\n  }\n\n  protected override displayChildren(displayFlags: ViewFlags, displayChild: (this: this, child: View, displayFlags: ViewFlags) => void): void {\n    let xScale: ContinuousScale<X, number> | null;\n    let yScale: ContinuousScale<Y, number> | null;\n    if ((displayFlags & View.NeedsLayout) !== 0 &&\n        (xScale = this.xScale.value, xScale !== null) &&\n        (yScale = this.yScale.value, yScale !== null)) {\n      this.layoutChildren(xScale, yScale, displayFlags, displayChild);\n    } else {\n      super.displayChildren(displayFlags, displayChild);\n    }\n  }\n\n  protected layoutChildren(xScale: ContinuousScale<X, number>, yScale: ContinuousScale<Y, number>,\n                           displayFlags: ViewFlags, displayChild: (this: this, child: View, displayFlags: ViewFlags) => void): void {\n    // Recompute extrema when laying out child views.\n    const frame = this.viewFrame;\n    let xDataDomainMin: X | undefined;\n    let xDataDomainMax: X | undefined;\n    let yDataDomainMin: Y | undefined;\n    let yDataDomainMax: Y | undefined;\n    let gradientStops = 0;\n\n    let point0 = null as DataPointView<X, Y> | null;\n    let point1 = null as DataPointView<X, Y> | null;\n    let y0: Y | undefined;\n    let y1: Y | undefined;\n    type self = this;\n    function layoutChild(this: self, child: View, displayFlags: ViewFlags): void {\n      const point2 = child as DataPointView<X, Y>;\n      const x2 = point2.x.getValue();\n      const y2 = point2.y.getValue();\n      const dy2 = point2.y2.value;\n\n      const sx2 = xScale(x2);\n      const sy2 = yScale(y2);\n      point2.setXCoord(frame.xMin + sx2);\n      point2.setYCoord(frame.yMin + sy2);\n\n      const sdy2 = dy2 !== void 0 ? yScale(dy2) : void 0;\n      if (sdy2 !== void 0) {\n        point2.setY2Coord(frame.yMin + sdy2);\n      } else if (point2.y2Coord !== void 0) {\n        point2.setY2Coord(void 0);\n      }\n\n      if (point2.isGradientStop()) {\n        gradientStops += 1;\n      }\n\n      if (point1 === null) {\n        xDataDomainMin = x2;\n        xDataDomainMax = x2;\n        yDataDomainMin = y2;\n        yDataDomainMax = y2;\n      } else {\n        let category: DataPointCategory;\n        if (point0 !== null) {\n          // categorize mid point\n          if (Values.compare(y0!, y1!) < 0 && Values.compare(y2, y1!) < 0) {\n            category = \"maxima\";\n          } else if (Values.compare(y1!, y0!) < 0 && Values.compare(y1!, y2) < 0) {\n            category = \"minima\";\n          } else if (Values.compare(y0!, y1!) < 0 && Values.compare(y1!, y2) < 0) {\n            category = \"increasing\";\n          } else if (Values.compare(y1!, y0!) < 0 && Values.compare(y2, y1!) < 0) {\n            category = \"decreasing\";\n          } else {\n            category = \"flat\";\n          }\n        } else {\n          // categorize start point\n          if (Values.compare(y1!, y2) < 0) {\n            category = \"increasing\";\n          } else if (Values.compare(y2, y1!) < 0) {\n            category = \"decreasing\";\n          } else {\n            category = \"flat\";\n          }\n        }\n        point1.category.setIntrinsic(category);\n\n        // update extrema\n        if (Values.compare(y2, yDataDomainMin) < 0) {\n          yDataDomainMin = y2;\n        } else if (Values.compare(yDataDomainMax, y2) < 0) {\n          yDataDomainMax = y2;\n        }\n        if (dy2 !== void 0) {\n          if (Values.compare(dy2, yDataDomainMin) < 0) {\n            yDataDomainMin = dy2;\n          } else if (Values.compare(yDataDomainMax, dy2) < 0) {\n            yDataDomainMax = dy2;\n          }\n        }\n      }\n\n      point0 = point1;\n      point1 = point2;\n      y0 = y1;\n      y1 = y2;\n      xDataDomainMax = x2;\n\n      displayChild.call(this, child, displayFlags);\n    }\n    super.displayChildren(displayFlags, layoutChild);\n\n    if (point1 !== null) {\n      let category: DataPointCategory;\n      if (point0 !== null) {\n        // categorize end point\n        if (Values.compare(y0!, y1!) < 0) {\n          category = \"increasing\";\n        } else if (Values.compare(y1!, y0!) < 0) {\n          category = \"decreasing\";\n        } else {\n          category = \"flat\";\n        }\n      } else {\n        // categorize sole point\n        category = \"flat\";\n      }\n      point1.category.setIntrinsic(category);\n    }\n\n    this.setXDataDomain(point0 !== null ? this.xScale.createDomain(xDataDomainMin!, xDataDomainMax!) : null);\n    this.setYDataDomain(point0 !== null ? this.yScale.createDomain(yDataDomainMin!, yDataDomainMax!) : null);\n    (this as Mutable<this>).gradientStops = gradientStops;\n  }\n\n  protected override didRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer && !this.hidden && !this.culled) {\n      this.renderPlot(renderer.context, this.viewFrame);\n    }\n    super.didRender();\n  }\n\n  protected abstract renderPlot(context: CanvasContext, frame: R2Box): void;\n\n  protected override hitTest(x: number, y: number): GraphicsView | null {\n    const hitMode = this.hitMode.value;\n    if (hitMode !== \"none\") {\n      const renderer = this.renderer.value;\n      if (renderer instanceof CanvasRenderer) {\n        let hit: GraphicsView | null;\n        if (hitMode === \"domain\") {\n          const viewFrame = this.viewFrame;\n          hit = this.hitTestDomain(x - viewFrame.x, y - viewFrame.y, renderer);\n        } else {\n          hit = this.hitTestPlot(x, y, renderer);\n        }\n        return hit;\n      }\n    }\n    return null;\n  }\n\n  protected override hitTestChildren(x: number, y: number): GraphicsView | null {\n    return null;\n  }\n\n  protected hitTestDomain(x: number, y: number, renderer: CanvasRenderer): GraphicsView | null {\n    const xScale = this.xScale.value;\n    if (xScale === null) {\n      return null;\n    }\n    const d = xScale.inverse(x);\n    const v0 = this.dataPointViews.previousValue(d);\n    const v1 = this.dataPointViews.nextValue(d);\n    const x0 = v0 !== void 0 ? v0.x.value : void 0;\n    const x1 = v1 !== void 0 ? v1.x.value : void 0;\n    const dx0 = x0 !== void 0 ? +d - +x0! : NaN;\n    const dx1 = x1 !== void 0 ? +x1! - +d : NaN;\n    if (dx0 <= dx1) {\n      return v0!;\n    } else if (dx0 > dx1) {\n      return v1!;\n    } else if (v0 !== void 0) {\n      return v0;\n    } else if (v1 !== void 0) {\n      return v1;\n    }\n    return null;\n  }\n\n  protected abstract hitTestPlot(x: number, y: number, renderer: CanvasRenderer): GraphicsView | null;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Length} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport type {FillView} from \"@swim/graphics\";\nimport type {StrokeView} from \"@swim/graphics\";\nimport type {ScatterPlotViewObserver} from \"./ScatterPlotView\";\nimport {ScatterPlotView} from \"./ScatterPlotView\";\n\n/** @public */\nexport interface BubblePlotViewObserver<X = unknown, Y = unknown, V extends BubblePlotView<X, Y> = BubblePlotView<X, Y>> extends ScatterPlotViewObserver<X, Y, V> {\n  viewDidSetRadius?(radius: Length | null, view: V): void;\n\n  viewDidSetFill?(fill: Color | null, view: V): void;\n}\n\n/** @public */\nexport class BubblePlotView<X = unknown, Y = unknown> extends ScatterPlotView<X, Y> implements FillView, StrokeView {\n  declare readonly observerType?: Class<BubblePlotViewObserver<X, Y>>;\n\n  @ThemeAnimator({\n    valueType: Length,\n    value: Length.px(5),\n    updateFlags: View.NeedsRender,\n    didSetValue(radius: Length | null): void {\n      this.owner.callObservers(\"viewDidSetRadius\", radius, this.owner);\n    },\n  })\n  readonly radius!: ThemeAnimator<this, Length | null>;\n\n  @ThemeAnimator({\n    valueType: Color,\n    value: null,\n    look: Look.accentColor,\n    updateFlags: View.NeedsRender,\n    didSetValue(fill: Color | null): void {\n      this.owner.callObservers(\"viewDidSetFill\", fill, this.owner);\n    },\n  })\n  readonly fill!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, updateFlags: View.NeedsRender})\n  readonly stroke!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Length, value: null, updateFlags: View.NeedsRender})\n  readonly strokeWidth!: ThemeAnimator<this, Length | null>;\n\n  protected renderPlot(context: CanvasContext, frame: R2Box): void {\n    const size = Math.min(frame.width, frame.height);\n    const radius = this.radius.getValueOr(Length.zero());\n    const opacity = this.opacity.value;\n    const fill = this.fill.value;\n    const stroke = this.stroke.value;\n    const strokeWidth = this.strokeWidth.value;\n\n    // save\n    const contextGlobalAlpha = context.globalAlpha;\n    const contextFillStyle = context.fillStyle;\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    if (opacity !== void 0) {\n      context.globalAlpha = opacity;\n    }\n\n    const dataPointViews = this.dataPoints.views;\n    for (const viewId in dataPointViews) {\n      const p = dataPointViews[viewId]!;\n      context.beginPath();\n      const r = p.radius.getValueOr(radius).pxValue(size);\n      context.arc(p.xCoord, p.yCoord, r, 0, 2 * Math.PI);\n      let fillColor = ThemeAnimator.tryValueOr(p, \"color\", fill);\n      if (fillColor !== null) {\n        const opacity = ThemeAnimator.tryValue(p, \"opacity\");\n        if (opacity !== void 0) {\n          fillColor = fillColor.alpha(opacity);\n        }\n        context.fillStyle = fillColor.toString();\n        context.fill();\n      }\n      if (stroke !== null) {\n        if (strokeWidth !== null) {\n          context.lineWidth = strokeWidth.pxValue(size);\n        }\n        context.strokeStyle = stroke.toString();\n        context.stroke();\n      }\n    }\n\n    // restore\n    context.globalAlpha = contextGlobalAlpha;\n    context.fillStyle = contextFillStyle;\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport type {CanvasRenderer} from \"@swim/graphics\";\nimport type {StrokeView} from \"@swim/graphics\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {SeriesPlotViewObserver} from \"./SeriesPlotView\";\nimport {SeriesPlotView} from \"./SeriesPlotView\";\n\n/** @public */\nexport interface LinePlotViewObserver<X = unknown, Y = unknown, V extends LinePlotView<X, Y> = LinePlotView<X, Y>> extends SeriesPlotViewObserver<X, Y, V> {\n  viewDidSetStroke?(stroke: Color | null, view: V): void;\n\n  viewDidSetStrokeWidth?(strokeWidth: Length | null, view: V): void;\n}\n\n/** @public */\nexport class LinePlotView<X = unknown, Y = unknown> extends SeriesPlotView<X, Y> implements StrokeView {\n  declare readonly observerType?: Class<LinePlotViewObserver<X, Y>>;\n\n  @ThemeAnimator({\n    valueType: Color,\n    value: null,\n    look: Look.accentColor,\n    updateFlags: View.NeedsRender,\n    didSetValue(stroke: Color | null): void {\n      this.owner.callObservers(\"viewDidSetStroke\", stroke, this.owner);\n    },\n  })\n  readonly stroke!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({\n    valueType: Length,\n    value: Length.px(1),\n    updateFlags: View.NeedsRender,\n    didSetValue(strokeWidth: Length | null): void {\n      if (this.owner.xRangePadding.hasAffinity(Affinity.Intrinsic) || this.owner.yRangePadding.hasAffinity(Affinity.Intrinsic)) {\n        const frame = this.owner.viewFrame;\n        const size = Math.min(frame.width, frame.height);\n        const strokeWidth = this.getValueOr(Length.zero()).pxValue(size);\n        const strokeRadius = strokeWidth / 2;\n        this.owner.xRangePadding.setIntrinsic([strokeRadius, strokeRadius]);\n        this.owner.yRangePadding.setIntrinsic([strokeRadius, strokeRadius]);\n      }\n      this.owner.callObservers(\"viewDidSetStrokeWidth\", strokeWidth, this.owner);\n    },\n  })\n  readonly strokeWidth!: ThemeAnimator<this, Length | null>;\n\n  @Property({valueType: Number, value: 5})\n  readonly hitWidth!: Property<this, number>;\n\n  protected renderPlot(context: CanvasContext, frame: R2Box): void {\n    const size = Math.min(frame.width, frame.height);\n    const opacity = this.opacity.value;\n    const stroke = this.stroke.getValueOr(Color.transparent());\n    const strokeWidth = this.strokeWidth.getValueOr(Length.zero()).pxValue(size);\n    const gradientStops = this.gradientStops;\n    let gradient: CanvasGradient | null = null;\n\n    let x0: number;\n    let x1: number;\n    let dx: number;\n    const dataPointViews = this.dataPointViews;\n    if (!dataPointViews.isEmpty()) {\n      const p0 = dataPointViews.firstValue()!;\n      const p1 = dataPointViews.lastValue()!;\n      x0 = p0.xCoord;\n      x1 = p1.xCoord;\n      dx = x1 - x0;\n      if (gradientStops !== 0) {\n        gradient = context.createLinearGradient(x0, 0, x1, 0);\n      }\n    } else {\n      x0 = NaN;\n      x1 = NaN;\n      dx = NaN;\n    }\n\n    context.beginPath();\n    let i = 0;\n    dataPointViews.forEach(function (p: DataPointView<X, Y>): void {\n      const xCoord = p.xCoord;\n      const yCoord = p.yCoord;\n      if (i === 0) {\n        context.moveTo(xCoord, yCoord);\n      } else {\n        context.lineTo(xCoord, yCoord);\n      }\n      if (gradient !== null && p.isGradientStop()) {\n        let color = ThemeAnimator.tryValueOr(p, \"color\", stroke);\n        const opacity = ThemeAnimator.tryValue(p, \"opacity\");\n        if (opacity !== void 0) {\n          color = color.alpha(opacity);\n        }\n        const offset = (xCoord - x0) / (dx || 1);\n        gradient!.addColorStop(offset, color.toString());\n      }\n      i += 1;\n    }, this);\n\n      // save\n    const contextGlobalAlpha = context.globalAlpha;\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    if (opacity !== void 0) {\n      context.globalAlpha = opacity;\n    }\n    context.lineWidth = strokeWidth;\n    context.strokeStyle = gradient !== null ? gradient : stroke.toString();\n    context.stroke();\n\n    // restore\n    context.globalAlpha = contextGlobalAlpha;\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n\n  protected hitTestPlot(x: number, y: number, renderer: CanvasRenderer): GraphicsView | null {\n    const context = renderer.context;\n    let hitWidth = this.hitWidth.value;\n    const strokeWidth = this.strokeWidth.value;\n    if (strokeWidth !== null) {\n      const frame = this.viewFrame;\n      const size = Math.min(frame.width, frame.height);\n      hitWidth = Math.max(hitWidth, strokeWidth.pxValue(size));\n    }\n\n    context.beginPath();\n    let i = 0;\n    this.dataPointViews.forEach(function (p: DataPointView<X, Y>): void {\n      const xCoord = p.xCoord;\n      const yCoord = p.yCoord;\n      if (i === 0) {\n        context.moveTo(xCoord, yCoord);\n      } else {\n        context.lineTo(xCoord, yCoord);\n      }\n      i += 1;\n    }, this);\n\n    // save\n    const contextLineWidth = context.lineWidth;\n\n    context.lineWidth = hitWidth;\n    const p = renderer.transform.transform(x, y);\n    const pointInStroke = context.isPointInStroke(p.x, p.y);\n\n    // restore\n    context.lineWidth = contextLineWidth;\n\n    if (pointInStroke) {\n      const hitMode = this.hitMode.value;\n      if (hitMode === \"plot\") {\n        return this;\n      } else if (hitMode === \"data\") {\n        return this.hitTestDomain(x, y, renderer);\n      }\n    }\n    return null;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {R2Box} from \"@swim/math\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport type {CanvasRenderer} from \"@swim/graphics\";\nimport type {FillView} from \"@swim/graphics\";\nimport type {SeriesPlotViewObserver} from \"./SeriesPlotView\";\nimport type {DataPointView} from \"./DataPointView\";\nimport {SeriesPlotView} from \"./SeriesPlotView\";\n\n/** @public */\nexport interface AreaPlotViewObserver<X = unknown, Y = unknown, V extends AreaPlotView<X, Y> = AreaPlotView<X, Y>> extends SeriesPlotViewObserver<X, Y, V> {\n  viewDidSetFill?(fill: Color | null, view: V): void;\n}\n\n/** @public */\nexport class AreaPlotView<X = unknown, Y = unknown> extends SeriesPlotView<X, Y> implements FillView {\n  declare readonly observerType?: Class<AreaPlotViewObserver<X, Y>>;\n\n  @ThemeAnimator({\n    valueType: Color,\n    value: null,\n    look: Look.accentColor,\n    updateFlags: View.NeedsRender,\n    didSetValue(fill: Color | null): void {\n      this.owner.callObservers(\"viewDidSetFill\", fill, this.owner);\n    },\n  })\n  readonly fill!: ThemeAnimator<this, Color | null>;\n\n  protected renderPlot(context: CanvasContext, frame: R2Box): void {\n    const opacity = this.opacity.value;\n    const fill = this.fill.getValueOr(Color.transparent());\n    const gradientStops = this.gradientStops;\n    let gradient: CanvasGradient | null = null;\n\n    context.beginPath();\n\n    let x0: number;\n    let x1: number;\n    let dx: number;\n    const dataPointViews = this.dataPointViews;\n    if (!dataPointViews.isEmpty()) {\n      const p0 = dataPointViews.firstValue()!;\n      const p1 = dataPointViews.lastValue()!;\n      x0 = p0.xCoord;\n      x1 = p1.xCoord;\n      dx = x1 - x0;\n      context.moveTo(p0.xCoord, p0.yCoord);\n      if (gradientStops !== 0) {\n        gradient = context.createLinearGradient(x0, 0, x1, 0);\n        if (p0.isGradientStop()) {\n          let color = ThemeAnimator.tryValueOr(p0, \"color\", fill);\n          const opacity = ThemeAnimator.tryValue(p0, \"opacity\");\n          if (opacity !== void 0) {\n            color = color.alpha(opacity);\n          }\n          gradient.addColorStop(0, color.toString());\n        }\n      }\n    } else {\n      x0 = NaN;\n      x1 = NaN;\n      dx = NaN;\n    }\n\n    const cursor = dataPointViews.values();\n    cursor.next();\n    while (cursor.hasNext()) {\n      const p = cursor.next().value as DataPointView<X, Y>;\n      context.lineTo(p.xCoord, p.yCoord);\n      if (gradient !== null && p.isGradientStop()) {\n        let color = ThemeAnimator.tryValueOr(p, \"color\", fill);\n        const opacity = ThemeAnimator.tryValue(p, \"opacity\");\n        if (opacity !== void 0) {\n          color = color.alpha(opacity);\n        }\n        const offset = (p.xCoord - x0) / (dx || 1);\n        gradient.addColorStop(offset, color.toString());\n      }\n    }\n    while (cursor.hasPrevious()) {\n      const p = cursor.previous().value!;\n      context.lineTo(p.xCoord, p.y2Coord!);\n    }\n    if (!dataPointViews.isEmpty()) {\n      context.closePath();\n    }\n\n    // save\n    const contextGlobalAlpha = context.globalAlpha;\n    const contextFillStyle = context.fillStyle;\n\n    if (opacity !== void 0) {\n      context.globalAlpha = opacity;\n    }\n    context.fillStyle = gradient !== null ? gradient : fill.toString();\n    context.fill();\n\n    // restore\n    context.globalAlpha = contextGlobalAlpha;\n    context.fillStyle = contextFillStyle;\n  }\n\n  protected hitTestPlot(x: number, y: number, renderer: CanvasRenderer): GraphicsView | null {\n    const context = renderer.context;\n    const dataPointViews = this.dataPointViews;\n\n    context.beginPath();\n    const cursor = dataPointViews.values();\n    if (cursor.hasNext()) {\n      const p = cursor.next().value!;\n      context.moveTo(p.xCoord, p.yCoord);\n    }\n    while (cursor.hasNext()) {\n      const p = cursor.next().value!;\n      context.lineTo(p.xCoord, p.yCoord);\n    }\n    while (cursor.hasPrevious()) {\n      const p = cursor.previous().value!;\n      context.lineTo(p.xCoord, p.y2Coord!);\n    }\n    if (!dataPointViews.isEmpty()) {\n      context.closePath();\n    }\n\n    const p = renderer.transform.transform(x, y);\n    if (context.isPointInPath(p.x, p.y)) {\n      const hitMode = this.hitMode.value;\n      if (hitMode === \"plot\") {\n        return this;\n      } else if (hitMode === \"data\") {\n        return this.hitTestDomain(x, y, renderer);\n      }\n    }\n    return null;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {DataSetTrait} from \"./DataSetTrait\";\nimport type {PlotController} from \"./PlotController\";\n\n/** @public */\nexport interface PlotTraitObserver<X = unknown, Y = unknown, T extends PlotTrait<X, Y> = PlotTrait<X, Y>> extends TraitObserver<T> {\n  traitWillAttachDataSet?(dataSetTrait: DataSetTrait<X, Y>, trait: T): void;\n\n  traitDidDetachDataSet?(dataSetTrait: DataSetTrait<X, Y>, trait: T): void;\n}\n\n/** @public */\nexport abstract class PlotTrait<X = unknown, Y = unknown> extends Trait {\n  declare readonly observerType?: Class<PlotTraitObserver<X, Y>>;\n\n  @TraitRef({\n    traitType: DataSetTrait,\n    binds: true,\n    willAttachTrait(dataSetTrait: DataSetTrait<X, Y>, targetTrait: Trait | null): void {\n      this.owner.callObservers(\"traitWillAttachDataSet\", dataSetTrait, this.owner);\n    },\n    didAttachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        dataSetTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        dataSetTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(dataSetTrait: DataSetTrait<X, Y>): void {\n      this.owner.callObservers(\"traitDidDetachDataSet\", dataSetTrait, this.owner);\n    },\n    detectModel(model: Model): DataSetTrait<X, Y> | null {\n      return null;\n    },\n    detectTrait(trait: Trait): DataSetTrait<X, Y> | null {\n      return trait instanceof DataSetTrait ? trait : null;\n    },\n  })\n  readonly dataSet!: TraitRef<this, DataSetTrait<X, Y>>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    const dataSetTrait = this.dataSet.trait;\n    if (dataSetTrait !== null) {\n      dataSetTrait.consume(this);\n    }\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    const dataSetTrait = this.dataSet.trait;\n    if (dataSetTrait !== null) {\n      dataSetTrait.unconsume(this);\n    }\n  }\n\n  abstract createPlotController(): PlotController<X, Y>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {PlotTraitObserver} from \"./PlotTrait\";\nimport {PlotTrait} from \"./PlotTrait\";\nimport type {ScatterPlotController} from \"./ScatterPlotController\";\n\n/** @public */\nexport interface ScatterPlotTraitObserver<X = unknown, Y = unknown, T extends ScatterPlotTrait<X, Y> = ScatterPlotTrait<X, Y>> extends PlotTraitObserver<X, Y, T> {\n}\n\n/** @public */\nexport abstract class ScatterPlotTrait<X = unknown, Y = unknown> extends PlotTrait<X, Y> {\n  declare readonly observerType?: Class<ScatterPlotTraitObserver<X, Y>>;\n\n  abstract override createPlotController(): ScatterPlotController<X, Y>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {PlotTraitObserver} from \"./PlotTrait\";\nimport {PlotTrait} from \"./PlotTrait\";\nimport type {SeriesPlotController} from \"./SeriesPlotController\";\n\n/** @public */\nexport interface SeriesPlotTraitObserver<X = unknown, Y = unknown, T extends SeriesPlotTrait<X, Y> = SeriesPlotTrait<X, Y>> extends PlotTraitObserver<X, Y, T> {\n}\n\n/** @public */\nexport abstract class SeriesPlotTrait<X = unknown, Y = unknown> extends PlotTrait<X, Y> {\n  declare readonly observerType?: Class<SeriesPlotTraitObserver<X, Y>>;\n\n  abstract override createPlotController(): SeriesPlotController<X, Y>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\nimport type {ScatterPlotTraitObserver} from \"./ScatterPlotTrait\";\nimport {ScatterPlotTrait} from \"./ScatterPlotTrait\";\nimport type {ScatterPlotController} from \"./ScatterPlotController\";\nimport {BubblePlotController} from \"./\"; // forward import\n\n/** @public */\nexport interface BubblePlotTraitObserver<X = unknown, Y = unknown, T extends BubblePlotTrait<X, Y> = BubblePlotTrait<X, Y>> extends ScatterPlotTraitObserver<X, Y, T> {\n  traitDidSetRadius?(radius: Length | null, trait: T): void;\n\n  traitDidSetFill?(fill: ColorOrLook | null, trait: T): void;\n}\n\n/** @public */\nexport class BubblePlotTrait<X = unknown, Y = unknown> extends ScatterPlotTrait<X, Y> {\n  declare readonly observerType?: Class<BubblePlotTraitObserver<X, Y>>;\n\n  @Property({\n    valueType: Length,\n    value: null,\n    didSetValue(radius: Length | null): void {\n      this.owner.callObservers(\"traitDidSetRadius\", radius, this.owner);\n    },\n  })\n  readonly radius!: Property<this, Length | null>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(fill: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetFill\", fill, this.owner);\n    },\n  })\n  readonly fill!: Property<this, ColorOrLook | null>;\n\n  override createPlotController(): ScatterPlotController<X, Y> {\n    return new BubblePlotController<X, Y>();\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\nimport type {SeriesPlotTraitObserver} from \"./SeriesPlotTrait\";\nimport {SeriesPlotTrait} from \"./SeriesPlotTrait\";\nimport type {SeriesPlotController} from \"./SeriesPlotController\";\nimport {LinePlotController} from \"./\"; // forward import\n\n/** @public */\nexport interface LinePlotTraitObserver<X = unknown, Y = unknown, T extends LinePlotTrait<X, Y> = LinePlotTrait<X, Y>> extends SeriesPlotTraitObserver<X, Y, T> {\n  traitDidSetStroke?(stroke: ColorOrLook | null, trait: T): void;\n\n  traitDidSetStrokeWidth?(strokeWidth: Length | null, trait: T): void;\n}\n\n/** @public */\nexport class LinePlotTrait<X = unknown, Y = unknown> extends SeriesPlotTrait<X, Y> {\n  declare readonly observerType?: Class<LinePlotTraitObserver<X, Y>>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(stroke: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetStroke\", stroke, this.owner);\n    },\n  })\n  readonly stroke!: Property<this, ColorOrLook | null>;\n\n  @Property({\n    valueType: Length,\n    value: null,\n    didSetValue(strokeWidth: Length | null): void {\n      this.owner.callObservers(\"traitDidSetStrokeWidth\", strokeWidth, this.owner);\n    },\n  })\n  readonly strokeWidth!: Property<this, Length | null>;\n\n  override createPlotController(): SeriesPlotController<X, Y> {\n    return new LinePlotController<X, Y>();\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {ColorLook} from \"@swim/theme\";\nimport type {SeriesPlotTraitObserver} from \"./SeriesPlotTrait\";\nimport {SeriesPlotTrait} from \"./SeriesPlotTrait\";\nimport type {SeriesPlotController} from \"./SeriesPlotController\";\nimport {AreaPlotController} from \"./\"; // forward import\n\n/** @public */\nexport interface AreaPlotTraitObserver<X = unknown, Y = unknown, T extends AreaPlotTrait<X, Y> = AreaPlotTrait<X, Y>> extends SeriesPlotTraitObserver<X, Y, T> {\n  traitDidSetFill?(fill: ColorOrLook | null, trait: T): void;\n}\n\n/** @public */\nexport class AreaPlotTrait<X = unknown, Y = unknown> extends SeriesPlotTrait<X, Y> {\n  declare readonly observerType?: Class<AreaPlotTraitObserver<X, Y>>;\n\n  @Property({\n    valueType: ColorLook,\n    value: null,\n    didSetValue(fill: ColorOrLook | null): void {\n      this.owner.callObservers(\"traitDidSetFill\", fill, this.owner);\n    },\n  })\n  readonly fill!: Property<this, ColorOrLook | null>;\n\n  override createPlotController(): SeriesPlotController<X, Y> {\n    return new AreaPlotController<X, Y>();\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport type {TraitViewRef} from \"@swim/controller\";\nimport type {DataSetControllerObserver} from \"./DataSetController\";\nimport {DataSetController} from \"./DataSetController\";\nimport type {PlotView} from \"./PlotView\";\nimport type {PlotTrait} from \"./PlotTrait\";\n\n/** @public */\nexport interface PlotControllerObserver<X = unknown, Y = unknown, C extends PlotController<X, Y> = PlotController<X, Y>> extends DataSetControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: PlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: PlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: PlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: PlotView<X, Y>, controller: C): void;\n}\n\n/** @public */\nexport abstract class PlotController<X = unknown, Y = unknown> extends DataSetController<X, Y> {\n  declare readonly observerType?: Class<PlotControllerObserver<X, Y>>;\n\n  @Property({valueType: Timing, inherits: true})\n  get plotTiming(): Property<this, Timing | boolean | undefined> {\n    return Property.getter();\n  }\n\n  abstract readonly plot: TraitViewRef<this, PlotTrait<X, Y>, PlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TraitViewRef} from \"@swim/controller\";\nimport type {ScatterPlotView} from \"./ScatterPlotView\";\nimport type {ScatterPlotTrait} from \"./ScatterPlotTrait\";\nimport type {PlotControllerObserver} from \"./PlotController\";\nimport {PlotController} from \"./PlotController\";\n\n/** @public */\nexport interface ScatterPlotControllerObserver<X = unknown, Y = unknown, C extends ScatterPlotController<X, Y> = ScatterPlotController<X, Y>> extends PlotControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: ScatterPlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: ScatterPlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: ScatterPlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: ScatterPlotView<X, Y>, controller: C): void;\n}\n\n/** @public */\nexport abstract class ScatterPlotController<X = unknown, Y = unknown> extends PlotController<X, Y> {\n  declare readonly observerType?: Class<ScatterPlotControllerObserver<X, Y>>;\n\n  abstract override readonly plot: TraitViewRef<this, ScatterPlotTrait<X, Y>, ScatterPlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TraitViewRef} from \"@swim/controller\";\nimport type {SeriesPlotView} from \"./SeriesPlotView\";\nimport type {SeriesPlotTrait} from \"./SeriesPlotTrait\";\nimport type {PlotControllerObserver} from \"./PlotController\";\nimport {PlotController} from \"./PlotController\";\n\n/** @public */\nexport interface SeriesPlotControllerObserver<X = unknown, Y = unknown, C extends SeriesPlotController<X, Y> = SeriesPlotController<X, Y>> extends PlotControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: SeriesPlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: SeriesPlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: SeriesPlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: SeriesPlotView<X, Y>, controller: C): void;\n}\n\n/** @public */\nexport abstract class SeriesPlotController<X = unknown, Y = unknown> extends PlotController<X, Y> {\n  declare readonly observerType?: Class<SeriesPlotControllerObserver<X, Y>>;\n\n  abstract override readonly plot: TraitViewRef<this, SeriesPlotTrait<X, Y>, SeriesPlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport type {Length} from \"@swim/math\";\nimport type {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {DataPointTrait} from \"./DataPointTrait\";\nimport type {DataPointController} from \"./DataPointController\";\nimport {DataSetTrait} from \"./DataSetTrait\";\nimport {BubblePlotView} from \"./BubblePlotView\";\nimport {BubblePlotTrait} from \"./BubblePlotTrait\";\nimport type {ScatterPlotControllerObserver} from \"./ScatterPlotController\";\nimport {ScatterPlotController} from \"./ScatterPlotController\";\n\n/** @public */\nexport interface BubblePlotControllerObserver<X = unknown, Y = unknown, C extends BubblePlotController<X, Y> = BubblePlotController<X, Y>> extends ScatterPlotControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: BubblePlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: BubblePlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: BubblePlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: BubblePlotView<X, Y>, controller: C): void;\n\n  controllerDidSetPlotRadius?(radius: Length | null, controller: C): void;\n\n  controllerDidSetPlotFill?(fill: Color | null, controller: C): void;\n}\n\n/** @public */\nexport class BubblePlotController<X = unknown, Y = unknown> extends ScatterPlotController<X, Y> {\n  declare readonly observerType?: Class<BubblePlotControllerObserver<X, Y>>;\n\n  @TraitViewControllerSet({\n    extends: true,\n    get parentView(): BubblePlotView<X, Y> | null {\n      return this.owner.plot.view;\n    },\n  })\n  override readonly dataPoints!: TraitViewControllerSet<this, DataPointTrait<X, Y>, DataPointView<X, Y>, DataPointController<X, Y>> & ScatterPlotController<X, Y>[\"dataPoints\"];\n\n  protected setRadius(radius: Length | null, timing?: TimingLike | boolean): void {\n    const plotView = this.plot.view;\n    if (plotView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.plotTiming.value;\n        if (timing === true) {\n          timing = plotView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      plotView.radius.setIntrinsic(radius, timing);\n    }\n  }\n\n  protected setFill(fill: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const plotView = this.plot.view;\n    if (plotView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.plotTiming.value;\n        if (timing === true) {\n          timing = plotView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      plotView.fill.setIntrinsic(fill, timing);\n    }\n  }\n\n  @TraitViewRef({\n    traitType: BubblePlotTrait,\n    observesTrait: true,\n    initTrait(plotTrait: BubblePlotTrait<X, Y>): void {\n      if (this.owner.dataSet.trait === null) {\n        const dataSetTrait = plotTrait.getTrait(DataSetTrait) as DataSetTrait<X, Y>;\n        if (dataSetTrait !== null) {\n          this.owner.dataSet.setTrait(dataSetTrait);\n        }\n      }\n      const plotView = this.view;\n      if (plotView !== null) {\n        this.owner.setRadius(plotTrait.radius.value);\n        this.owner.setFill(plotTrait.fill.value);\n      }\n    },\n    willAttachTrait(plotTrait: BubblePlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotTrait\", plotTrait, this.owner);\n    },\n    didDetachTrait(plotTrait: BubblePlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotTrait\", plotTrait, this.owner);\n    },\n    traitDidSetRadius(radius: Length | null): void {\n      this.owner.setRadius(radius);\n    },\n    traitDidSetFill(fill: ColorOrLook | null): void {\n      this.owner.setFill(fill);\n    },\n    viewType: BubblePlotView,\n    observesView: true,\n    initView(plotView: BubblePlotView<X, Y>): void {\n      const dataPointControllers = this.owner.dataPoints.controllers;\n      for (const controllerId in dataPointControllers) {\n        const dataPointController = dataPointControllers[controllerId]!;\n        dataPointController.dataPoint.insertView(plotView);\n      }\n      const plotTrait = this.trait;\n      if (plotTrait !== null) {\n        this.owner.setRadius(plotTrait.radius.value);\n        this.owner.setFill(plotTrait.fill.value);\n      }\n    },\n    willAttachView(plotView: BubblePlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotView\", plotView, this.owner);\n    },\n    didDetachView(plotView: BubblePlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotView\", plotView, this.owner);\n    },\n    viewDidSetRadius(radius: Length | null): void {\n      this.owner.callObservers(\"controllerDidSetPlotRadius\", radius, this.owner);\n    },\n    viewDidSetFill(fill: Color | null): void {\n      this.owner.callObservers(\"controllerDidSetPlotFill\", fill, this.owner);\n    },\n  })\n  readonly plot!: TraitViewRef<this, BubblePlotTrait<X, Y>, BubblePlotView<X, Y>> & Observes<BubblePlotTrait<X, Y>> & Observes<BubblePlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport type {Length} from \"@swim/math\";\nimport type {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {DataPointTrait} from \"./DataPointTrait\";\nimport type {DataPointController} from \"./DataPointController\";\nimport {DataSetTrait} from \"./DataSetTrait\";\nimport {LinePlotView} from \"./LinePlotView\";\nimport {LinePlotTrait} from \"./LinePlotTrait\";\nimport type {SeriesPlotControllerObserver} from \"./SeriesPlotController\";\nimport {SeriesPlotController} from \"./SeriesPlotController\";\n\n/** @public */\nexport interface LinePlotControllerObserver<X = unknown, Y = unknown, C extends LinePlotController<X, Y> = LinePlotController<X, Y>> extends SeriesPlotControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: LinePlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: LinePlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: LinePlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: LinePlotView<X, Y>, controller: C): void;\n\n  controllerDidSetPlotStroke?(stroke: Color | null, controller: C): void;\n\n  controllerDidSetPlotStrokeWidth?(strokeWidth: Length | null, controller: C): void;\n}\n\n/** @public */\nexport class LinePlotController<X = unknown, Y = unknown> extends SeriesPlotController<X, Y> {\n  declare readonly observerType?: Class<LinePlotControllerObserver<X, Y>>;\n\n  @TraitViewControllerSet({\n    extends: true,\n    get parentView(): LinePlotView<X, Y> | null {\n      return this.owner.plot.view;\n    },\n  })\n  override readonly dataPoints!: TraitViewControllerSet<this, DataPointTrait<X, Y>, DataPointView<X, Y>, DataPointController<X, Y>> & SeriesPlotController<X, Y>[\"dataPoints\"];\n\n  protected setStroke(stroke: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const plotView = this.plot.view;\n    if (plotView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.plotTiming.value;\n        if (timing === true) {\n          timing = plotView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      plotView.stroke.setIntrinsic(stroke, timing);\n    }\n  }\n\n  protected setStrokeWidth(strokeWidth: Length | null, timing?: TimingLike | boolean): void {\n    const plotView = this.plot.view;\n    if (plotView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.plotTiming.value;\n        if (timing === true) {\n          timing = plotView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      plotView.strokeWidth.setIntrinsic(strokeWidth, timing);\n    }\n  }\n\n  @TraitViewRef({\n    traitType: LinePlotTrait,\n    observesTrait: true,\n    initTrait(plotTrait: LinePlotTrait<X, Y>): void {\n      if (this.owner.dataSet.trait === null) {\n        const dataSetTrait = plotTrait.getTrait(DataSetTrait) as DataSetTrait<X, Y>;\n        if (dataSetTrait !== null) {\n          this.owner.dataSet.setTrait(dataSetTrait);\n        }\n      }\n      const plotView = this.view;\n      if (plotView !== null) {\n        const stroke = plotTrait.stroke.value;\n        if (stroke !== null) {\n          this.owner.setStroke(stroke);\n        }\n        const strokeWidth = plotTrait.strokeWidth.value;\n        if (strokeWidth !== null) {\n          this.owner.setStrokeWidth(strokeWidth);\n        }\n      }\n    },\n    willAttachTrait(plotTrait: LinePlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotTrait\", plotTrait, this.owner);\n    },\n    didDetachTrait(plotTrait: LinePlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotTrait\", plotTrait, this.owner);\n    },\n    traitDidSetStroke(stroke: ColorOrLook | null): void {\n      this.owner.setStroke(stroke);\n    },\n    traitDidSetStrokeWidth(strokeWidth: Length | null): void {\n      this.owner.setStrokeWidth(strokeWidth);\n    },\n    viewType: LinePlotView,\n    observesView: true,\n    initView(plotView: LinePlotView<X, Y>): void {\n      const dataPointControllers = this.owner.dataPoints.controllers;\n      for (const controllerId in dataPointControllers) {\n        const dataPointController = dataPointControllers[controllerId]!;\n        dataPointController.dataPoint.insertView(plotView);\n      }\n      const plotTrait = this.trait;\n      if (plotTrait !== null) {\n        const stroke = plotTrait.stroke.value;\n        if (stroke !== null) {\n          this.owner.setStroke(stroke);\n        }\n        const strokeWidth = plotTrait.strokeWidth.value;\n        if (strokeWidth !== null) {\n          this.owner.setStrokeWidth(strokeWidth);\n        }\n      }\n    },\n    willAttachView(plotView: LinePlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotView\", plotView, this.owner);\n    },\n    didDetachView(plotView: LinePlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotView\", plotView, this.owner);\n    },\n    viewDidSetStroke(stroke: Color | null): void {\n      this.owner.callObservers(\"controllerDidSetPlotStroke\", stroke, this.owner);\n    },\n    viewDidSetStrokeWidth(strokeWidth: Length | null): void {\n      this.owner.callObservers(\"controllerDidSetPlotStrokeWidth\", strokeWidth, this.owner);\n    },\n  })\n  readonly plot!: TraitViewRef<this, LinePlotTrait<X, Y>, LinePlotView<X, Y>> & Observes<LinePlotTrait<X, Y>> & Observes<LinePlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TimingLike} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport type {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {Mood} from \"@swim/theme\";\nimport type {ColorOrLook} from \"@swim/theme\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {DataPointTrait} from \"./DataPointTrait\";\nimport type {DataPointController} from \"./DataPointController\";\nimport {DataSetTrait} from \"./DataSetTrait\";\nimport {AreaPlotView} from \"./AreaPlotView\";\nimport {AreaPlotTrait} from \"./AreaPlotTrait\";\nimport type {SeriesPlotControllerObserver} from \"./SeriesPlotController\";\nimport {SeriesPlotController} from \"./SeriesPlotController\";\n\n/** @public */\nexport interface AreaPlotControllerObserver<X = unknown, Y = unknown, C extends AreaPlotController<X, Y> = AreaPlotController<X, Y>> extends SeriesPlotControllerObserver<X, Y, C> {\n  controllerWillAttachPlotTrait?(plotTrait: AreaPlotTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: AreaPlotTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: AreaPlotView<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: AreaPlotView<X, Y>, controller: C): void;\n\n  controllerDidSetPlotFill?(fill: Color | null, controller: C): void;\n}\n\n/** @public */\nexport class AreaPlotController<X = unknown, Y = unknown> extends SeriesPlotController<X, Y> {\n  declare readonly observerType?: Class<AreaPlotControllerObserver<X, Y>>;\n\n  @TraitViewControllerSet({\n    extends: true,\n    get parentView(): AreaPlotView<X, Y> | null {\n      return this.owner.plot.view;\n    },\n  })\n  override readonly dataPoints!: TraitViewControllerSet<this, DataPointTrait<X, Y>, DataPointView<X, Y>, DataPointController<X, Y>> & SeriesPlotController<X, Y>[\"dataPoints\"];\n\n  protected setFill(fill: ColorOrLook | null, timing?: TimingLike | boolean): void {\n    const plotView = this.plot.view;\n    if (plotView !== null) {\n      if (timing === void 0 || timing === true) {\n        timing = this.plotTiming.value;\n        if (timing === true) {\n          timing = plotView.getLook(Look.timing, Mood.ambient);\n        }\n      } else {\n        timing = Timing.fromLike(timing);\n      }\n      plotView.fill.setIntrinsic(fill, timing);\n    }\n  }\n\n  @TraitViewRef({\n    traitType: AreaPlotTrait,\n    observesTrait: true,\n    initTrait(plotTrait: AreaPlotTrait<X, Y>): void {\n      if (this.owner.dataSet.trait === null) {\n        const dataSetTrait = plotTrait.getTrait(DataSetTrait) as DataSetTrait<X, Y>;\n        if (dataSetTrait !== null) {\n          this.owner.dataSet.setTrait(dataSetTrait);\n        }\n      }\n      const plotView = this.view;\n      if (plotView !== null) {\n        const fill = plotTrait.fill.value;\n        if (fill !== null) {\n          this.owner.setFill(fill);\n        }\n      }\n    },\n    willAttachTrait(plotTrait: AreaPlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotTrait\", plotTrait, this.owner);\n    },\n    didDetachTrait(plotTrait: AreaPlotTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotTrait\", plotTrait, this.owner);\n    },\n    traitDidSetFill(fill: ColorOrLook | null): void {\n      this.owner.setFill(fill);\n    },\n    viewType: AreaPlotView,\n    observesView: true,\n    initView(plotView: AreaPlotView<X, Y>): void {\n      const dataPointControllers = this.owner.dataPoints.controllers;\n      for (const controllerId in dataPointControllers) {\n        const dataPointController = dataPointControllers[controllerId]!;\n        dataPointController.dataPoint.insertView(plotView);\n      }\n      const plotTrait = this.trait;\n      if (plotTrait !== null) {\n        const fill = plotTrait.fill.value;\n        if (fill !== null) {\n          this.owner.setFill(fill);\n        }\n      }\n    },\n    willAttachView(plotView: AreaPlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotView\", plotView, this.owner);\n    },\n    didDetachView(plotView: AreaPlotView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlotView\", plotView, this.owner);\n    },\n    viewDidSetFill(fill: Color | null): void {\n      this.owner.callObservers(\"controllerDidSetPlotFill\", fill, this.owner);\n    },\n  })\n  readonly plot!: TraitViewRef<this, AreaPlotTrait<X, Y>, AreaPlotView<X, Y>> & Observes<AreaPlotTrait<X, Y>> & Observes<AreaPlotView<X, Y>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {CanvasContext} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport type {ScaledViewObserver} from \"./ScaledView\";\nimport {ScaledView} from \"./ScaledView\";\n\n/** @public */\nexport interface GraphViewObserver<X = unknown, Y = unknown, V extends GraphView<X, Y> = GraphView<X, Y>> extends ScaledViewObserver<X, Y, V> {\n}\n\n/** @public */\nexport class GraphView<X = unknown, Y = unknown> extends ScaledView<X, Y> {\n  declare readonly observerType?: Class<GraphViewObserver<X, Y>>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  protected override willRender(): void {\n    super.willRender();\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const context = renderer.context;\n      context.save();\n      this.clipGraph(context, this.viewFrame);\n    }\n  }\n\n  protected override didRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const context = renderer.context;\n      context.restore();\n    }\n    super.didRender();\n  }\n\n  protected clipGraph(context: CanvasContext, frame: R2Box): void {\n    context.beginPath();\n    context.rect(frame.x, frame.y, frame.width, frame.height);\n    context.clip();\n  }\n\n  protected override hitTest(x: number, y: number): GraphicsView | null {\n    return this;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitSet} from \"@swim/model\";\nimport {PlotTrait} from \"./PlotTrait\";\n\n/** @public */\nexport interface GraphTraitObserver<X = unknown, Y = unknown, T extends GraphTrait<X, Y> = GraphTrait<X, Y>> extends TraitObserver<T> {\n  traitWillAttachPlot?(plotTrait: PlotTrait<X, Y>, trait: T): void;\n\n  traitDidDetachPlot?(plotTrait: PlotTrait<X, Y>, trait: T): void;\n}\n\n/** @public */\nexport class GraphTrait<X = unknown, Y = unknown> extends Trait {\n  declare readonly observerType?: Class<GraphTraitObserver<X, Y>>;\n\n  @TraitSet({\n    traitType: PlotTrait,\n    binds: true,\n    willAttachTrait(plotTrait: PlotTrait<X, Y>): void {\n      this.owner.callObservers(\"traitWillAttachPlot\", plotTrait, this.owner);\n    },\n    didAttachTrait(plotTrait: PlotTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        plotTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(plotTrait: PlotTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        plotTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(plotTrait: PlotTrait<X, Y>): void {\n      this.owner.callObservers(\"traitDidDetachPlot\", plotTrait, this.owner);\n    },\n    detectModel(model: Model): PlotTrait<X, Y> | null {\n      return model.getTrait(PlotTrait) as PlotTrait<X, Y>;\n    },\n  })\n  readonly plots!: TraitSet<this, PlotTrait<X, Y>>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    this.plots.consumeTraits(this);\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.plots.unconsumeTraits(this);\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport type {Trait} from \"@swim/model\";\nimport type {GraphicsView} from \"@swim/graphics\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerSet} from \"@swim/controller\";\nimport type {DataPointView} from \"./DataPointView\";\nimport type {DataPointTrait} from \"./DataPointTrait\";\nimport type {DataPointController} from \"./DataPointController\";\nimport type {DataSetTrait} from \"./DataSetTrait\";\nimport type {PlotView} from \"./PlotView\";\nimport type {PlotTrait} from \"./PlotTrait\";\nimport {PlotController} from \"./PlotController\";\nimport {GraphView} from \"./GraphView\";\nimport {GraphTrait} from \"./GraphTrait\";\n\n/** @public */\nexport interface GraphControllerObserver<X = unknown, Y = unknown, C extends GraphController<X, Y> = GraphController<X, Y>> extends ControllerObserver<C> {\n  controllerWillAttachGraphTrait?(graphTrait: GraphTrait<X, Y> | null, controller: C): void;\n\n  controllerDidDetachGraphTrait?(graphTrait: GraphTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachGraphView?(graphView: GraphView<X, Y>, controller: C): void;\n\n  controllerDidDetachGraphView?(graphView: GraphView<X, Y>, controller: C): void;\n\n  controllerWillAttachPlot?(plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachPlot?(plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotTrait?(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotTrait?(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachPlotView?(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachPlotView?(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataSetTrait?(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataSetTrait?(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPoint?(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPoint?(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointTrait?(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointView?(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointView?(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerWillAttachDataPointLabelView?(labelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n\n  controllerDidDetachDataPointLabelView?(labelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>, controller: C): void;\n}\n\n/** @public */\nexport class GraphController<X = unknown, Y = unknown> extends Controller {\n  declare readonly observerType?: Class<GraphControllerObserver<X, Y>>;\n\n  @TraitViewRef({\n    traitType: GraphTrait,\n    observesTrait: true,\n    willAttachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachGraphTrait\", graphTrait, this.owner);\n    },\n    didAttachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.plots.addTraits(graphTrait.plots.traits);\n    },\n    willDetachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.plots.deleteTraits(graphTrait.plots.traits);\n    },\n    didDetachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachGraphTrait\", graphTrait, this.owner);\n    },\n    traitWillAttachPlot(plotTrait: PlotTrait<X, Y>, targetTrait: Trait): void {\n      this.owner.plots.addTrait(plotTrait, targetTrait);\n    },\n    traitDidDetachPlot(plotTrait: PlotTrait<X, Y>): void {\n      this.owner.plots.deleteTrait(plotTrait);\n    },\n    viewType: GraphView,\n    initView(graphView: GraphView<X, Y>): void {\n      const plotControllers = this.owner.plots.controllers;\n      for (const controllerId in plotControllers) {\n        const plotController = plotControllers[controllerId]!;\n        const plotView = plotController.plot.view;\n        if (plotView !== null && plotView.parent === null) {\n          plotController.plot.insertView(graphView);\n        }\n      }\n    },\n    willAttachView(newGraphView: GraphView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachGraphView\", newGraphView, this.owner);\n    },\n    didDetachView(newGraphView: GraphView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachGraphView\", newGraphView, this.owner);\n    },\n  })\n  readonly graph!: TraitViewRef<this, GraphTrait<X, Y>, GraphView<X, Y>> & Observes<GraphTrait<X, Y>>;\n\n  @TraitViewControllerSet({\n    controllerType: PlotController,\n    binds: true,\n    observes: true,\n    get parentView(): GraphView<X, Y> | null {\n      return this.owner.graph.view;\n    },\n    getTraitViewRef(plotController: PlotController<X, Y>): TraitViewRef<unknown, PlotTrait<X, Y>, PlotView<X, Y>> {\n      return plotController.plot;\n    },\n    willAttachController(plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlot\", plotController, this.owner);\n    },\n    didAttachController(plotController: PlotController<X, Y>): void {\n      const plotTrait = plotController.plot.trait;\n      if (plotTrait !== null) {\n        this.attachPlotTrait(plotTrait, plotController);\n      }\n      const plotView = plotController.plot.view;\n      if (plotView !== null) {\n        this.attachPlotView(plotView, plotController);\n      }\n      const dataSetTrait = plotController.dataSet.trait;\n      if (dataSetTrait !== null) {\n        this.attachDataSetTrait(dataSetTrait, plotController);\n      }\n    },\n    willDetachController(plotController: PlotController<X, Y>): void {\n      const dataSetTrait = plotController.dataSet.trait;\n      if (dataSetTrait !== null) {\n        this.detachDataSetTrait(dataSetTrait, plotController);\n      }\n      const plotView = plotController.plot.view;\n      if (plotView !== null) {\n        this.detachPlotView(plotView, plotController);\n      }\n      const plotTrait = plotController.plot.trait;\n      if (plotTrait !== null) {\n        this.detachPlotTrait(plotTrait, plotController);\n      }\n    },\n    didDetachController(plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachPlot\", plotController, this.owner);\n    },\n    controllerWillAttachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotTrait\", plotTrait, plotController, this.owner);\n      this.attachPlotTrait(plotTrait, plotController);\n    },\n    controllerDidDetachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachPlotTrait(plotTrait, plotController);\n      this.owner.callObservers(\"controllerDidDetachPlotTrait\", plotTrait, plotController, this.owner);\n    },\n    attachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    detachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    controllerWillAttachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachPlotView\", plotView, plotController, this.owner);\n      this.attachPlotView(plotView, plotController);\n    },\n    controllerDidDetachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachPlotView(plotView, plotController);\n      this.owner.callObservers(\"controllerDidDetachPlotView\", plotView, plotController, this.owner);\n    },\n    attachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    detachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void {\n      plotView.remove();\n    },\n    controllerWillAttachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataSetTrait\", dataSetTrait, plotController, this.owner);\n      this.attachDataSetTrait(dataSetTrait, plotController);\n    },\n    controllerDidDetachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachDataSetTrait(dataSetTrait, plotController);\n      this.owner.callObservers(\"controllerDidDetachDataSetTrait\", dataSetTrait, plotController, this.owner);\n    },\n    attachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    detachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    controllerWillAttachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPoint\", dataPointController, plotController, this.owner);\n      this.attachDataPoint(dataPointController, plotController);\n    },\n    controllerDidDetachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachDataPoint(dataPointController, plotController);\n      this.owner.callObservers(\"controllerDidDetachDataPoint\", dataPointController, plotController, this.owner);\n    },\n    attachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      const dataPointTrait = dataPointController.dataPoint.trait;\n      if (dataPointTrait !== null) {\n        this.attachDataPointTrait(dataPointTrait, dataPointController, plotController);\n      }\n      const dataPointView = dataPointController.dataPoint.view;\n      if (dataPointView !== null) {\n        this.attachDataPointView(dataPointView, dataPointController, plotController);\n      }\n    },\n    detachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      const dataPointTrait = dataPointController.dataPoint.trait;\n      if (dataPointTrait !== null) {\n        this.detachDataPointTrait(dataPointTrait, dataPointController, plotController);\n      }\n      const dataPointView = dataPointController.dataPoint.view;\n      if (dataPointView !== null) {\n        this.detachDataPointView(dataPointView, dataPointController, plotController);\n      }\n    },\n    controllerWillAttachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointTrait\", dataPointTrait, dataPointController, plotController, this.owner);\n      this.attachDataPointTrait(dataPointTrait, dataPointController, plotController);\n    },\n    controllerDidDetachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachDataPointTrait(dataPointTrait, dataPointController, plotController);\n      this.owner.callObservers(\"controllerDidDetachDataPointTrait\", dataPointTrait, dataPointController, plotController, this.owner);\n    },\n    attachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    detachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    controllerWillAttachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointView\", dataPointView, dataPointController, plotController, this.owner);\n      this.attachDataPointView(dataPointView, dataPointController, plotController);\n    },\n    controllerDidDetachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachDataPointView(dataPointView, dataPointController, plotController);\n      this.owner.callObservers(\"controllerDidDetachDataPointView\", dataPointView, dataPointController, plotController, this.owner);\n    },\n    attachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.attachDataPointLabelView(labelView, dataPointController, plotController);\n      }\n    },\n    detachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      const labelView = dataPointView.label.view;\n      if (labelView !== null) {\n        this.detachDataPointLabelView(labelView, dataPointController, plotController);\n      }\n    },\n    controllerWillAttachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachDataPointLabelView\", labelView, dataPointController, plotController, this.owner);\n      this.attachDataPointLabelView(labelView, dataPointController, plotController);\n    },\n    controllerDidDetachDataPointLabelView(labelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      this.detachDataPointLabelView(labelView, dataPointController, plotController);\n      this.owner.callObservers(\"controllerDidDetachDataPointLabelView\", labelView, dataPointController, plotController, this.owner);\n    },\n    attachDataPointLabelView(dataPointLabelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    detachDataPointLabelView(dataPointLabelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void {\n      // hook\n    },\n    createController(plotTrait?: PlotTrait<X, Y>): PlotController<X, Y> {\n      if (plotTrait !== void 0) {\n        return plotTrait.createPlotController();\n      } else {\n        return super.createController();\n      }\n    },\n  })\n  readonly plots!: TraitViewControllerSet<this, PlotTrait<X, Y>, PlotView<X, Y>, PlotController<X, Y>> & Observes<PlotController<X, Y>> & {\n    attachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void,\n    detachPlotTrait(plotTrait: PlotTrait<X, Y>, plotController: PlotController<X, Y>): void,\n    attachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void,\n    detachPlotView(plotView: PlotView<X, Y>, plotController: PlotController<X, Y>): void,\n    attachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void,\n    detachDataSetTrait(dataSetTrait: DataSetTrait<X, Y>, plotController: PlotController<X, Y>): void,\n    attachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    detachDataPoint(dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    attachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    detachDataPointTrait(dataPointTrait: DataPointTrait<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    attachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    detachDataPointView(dataPointView: DataPointView<X, Y>, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    attachDataPointLabelView(dataPointLabelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n    detachDataPointLabelView(dataPointLabelView: GraphicsView, dataPointController: DataPointController<X, Y>, plotController: PlotController<X, Y>): void,\n  };\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {DomainLike} from \"@swim/util\";\nimport type {Domain} from \"@swim/util\";\nimport {LinearDomain} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport {LinearScale} from \"@swim/util\";\nimport {BTree} from \"@swim/collections\";\nimport type {TimeZone} from \"@swim/time\";\nimport type {DateTimeLike} from \"@swim/time\";\nimport {DateTime} from \"@swim/time\";\nimport {TimeDomain} from \"@swim/time\";\nimport {DateTimeFormat} from \"@swim/time\";\nimport {TimeInterval} from \"@swim/time\";\nimport {TimeScale} from \"@swim/time\";\n\nconst ERROR_10 = Math.sqrt(50);\nconst ERROR_5 = Math.sqrt(10);\nconst ERROR_2 = Math.sqrt(2);\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = 7 * DAY;\nconst MONTH = 30 * DAY;\nconst YEAR = 365 * DAY;\n\nconst TIME_TICK_INTERVALS = new BTree<number, TimeInterval>()\n  .set(SECOND, TimeInterval.second)\n  .set(5 * SECOND, TimeInterval.second.every(5))\n  .set(15 * SECOND, TimeInterval.second.every(15))\n  .set(30 * SECOND, TimeInterval.second.every(30))\n  .set(MINUTE, TimeInterval.minute)\n  .set(5 * MINUTE, TimeInterval.minute.every(5))\n  .set(15 * MINUTE, TimeInterval.minute.every(15))\n  .set(30 * MINUTE, TimeInterval.minute.every(30))\n  .set(HOUR, TimeInterval.hour)\n  .set(3 * HOUR, TimeInterval.hour.every(3))\n  .set(6 * HOUR, TimeInterval.hour.every(6))\n  .set(12 * HOUR, TimeInterval.hour.every(12))\n  .set(DAY, TimeInterval.day)\n  .set(2 * DAY, TimeInterval.day.every(2))\n  .set(WEEK, TimeInterval.week)\n  .set(MONTH, TimeInterval.month)\n  .set(3 * MONTH, TimeInterval.month.every(3))\n  .set(YEAR, TimeInterval.year);\n\nconst MILLISECOND_FORMAT = DateTimeFormat.pattern(\".%L\");\nconst SECOND_FORMAT = DateTimeFormat.pattern(\":%S\");\nconst MINUTE_FORMAT = DateTimeFormat.pattern(\"%i:%M\");\nconst HOUR_FORMAT = DateTimeFormat.pattern(\"%i %p\");\nconst WEEKDAY_FORMAT = DateTimeFormat.pattern(\"%a %e\");\nconst MONTHDAY_FORMAT = DateTimeFormat.pattern(\"%b %e\");\nconst MONTH_FORMAT = DateTimeFormat.pattern(\"%B\");\nconst YEAR_FORMAT = DateTimeFormat.pattern(\"%Y\");\n\n/** @public */\nexport abstract class TickGenerator<D> {\n  abstract count(): number;\n  abstract count(n: number): this;\n\n  abstract domain(): Domain<D>;\n  abstract domain(xs: DomainLike<D>): this;\n  abstract domain(x0: D, x1: D): this;\n\n  abstract generate(): D[];\n\n  format(tickValue: D): string {\n    return \"\" + tickValue;\n  }\n\n  static fromScale<D>(scale: ContinuousScale<D, number>, n?: number): TickGenerator<D> {\n    if (n === void 0) {\n      n = 10;\n    }\n    if (scale instanceof TimeScale) {\n      const domain = scale.domain;\n      return new TimeTickGenerator(domain[0], domain[1], n) as unknown as TickGenerator<D>;\n    } else if (scale instanceof LinearScale) {\n      const domain = scale.domain;\n      return new NumberTickGenerator(domain[0], domain[1], n) as unknown as TickGenerator<D>;\n    } else {\n      throw new TypeError(\"\" + scale);\n    }\n  }\n\n  /** @internal */\n  static step(dx: number, n: number): number {\n    const step0 = Math.abs(dx) / n;\n    let step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10));\n    const error = step0 / step1;\n    if (error >= ERROR_10) {\n      step1 *= 10;\n    } else if (error >= ERROR_5) {\n      step1 *= 5;\n    } else if (error >= ERROR_2) {\n      step1 *= 2;\n    }\n    return dx < 0 ? -step1 : step1;\n  }\n}\n\n/** @public */\nexport class NumberTickGenerator extends TickGenerator<number> {\n  /** @internal */\n  protected x0: number;\n  /** @internal */\n  protected dx: number;\n  /** @internal */\n  protected n: number;\n\n  constructor(x0: number, x1: number, n: number) {\n    super();\n    this.x0 = x0;\n    this.dx = x1 - this.x0;\n    this.n = Math.max(0, n);\n  }\n\n  override count(): number;\n  override count(n: number): this;\n  override count(n?: number): number | this {\n    if (n === void 0) {\n      return this.n;\n    } else {\n      this.n = Math.max(0, n);\n      return this;\n    }\n  }\n\n  override domain(): Domain<number>;\n  override domain(xs: DomainLike<number>): this;\n  override domain(x0: number, x1: number): this;\n  override domain(x0?: DomainLike<number> | number, x1?: number): Domain<number> | this {\n    if (x0 === void 0) {\n      return LinearDomain(this.x0, this.x0 + this.dx);\n    } else if (x1 === void 0) {\n      this.x0 = (x0 as DomainLike<number>)[0];\n      this.dx = (x0 as DomainLike<number>)[1] - this.x0;\n      return this;\n    } else {\n      this.x0 = x0 as number;\n      this.dx = x1 - this.x0;\n      return this;\n    }\n  }\n\n  override generate(): number[] {\n    let x0: number;\n    let x1: number;\n    if (this.dx < 0) {\n      x1 = this.x0;\n      x0 = x1 + this.dx;\n    } else {\n      x0 = this.x0;\n      x1 = x0 + this.dx;\n    }\n\n    const step = NumberTickGenerator.interval(x1 - x0, this.n);\n    if (step === 0 || !isFinite(step)) {\n      return [];\n    }\n\n    let ticks;\n    if (step > 0) {\n      x0 = Math.ceil(x0 / step);\n      x1 = Math.floor(x1 / step);\n      const n = Math.ceil(x1 - x0 + 1);\n      ticks = new Array<number>(n);\n      for (let i = 0; i < n; i += 1) {\n        ticks[i] = (x0 + i) * step;\n      }\n    } else {\n      x0 = Math.floor(x0 * step);\n      x1 = Math.ceil(x1 * step);\n      const n = Math.ceil(x0 - x1 + 1);\n      ticks = new Array<number>(n);\n      for (let i = 0; i < n; i += 1) {\n        ticks[i] = (x0 - i) / step;\n      }\n    }\n\n    if (this.dx < 0) {\n      ticks.reverse();\n    }\n\n    return ticks;\n  }\n\n  /** @internal */\n  static interval(dx: number, n: number = 10): number {\n    const step = dx / n;\n    const power = Math.floor(Math.log(step) / Math.LN10);\n    const power10 = Math.pow(10, power);\n    const error = step / power10;\n    const base = error >= ERROR_10 ? 10 : error >= ERROR_5 ? 5 : error >= ERROR_2 ? 2 : 1;\n    return power >= 0 ? power10 * base : -Math.pow(10, -power) / base;\n  }\n}\n\n/** @public */\nexport class TimeTickGenerator extends TickGenerator<DateTime> {\n  /** @internal */\n  protected t0: number;\n  /** @internal */\n  protected dt: number;\n  /** @internal */\n  protected zone: TimeZone;\n  /** @internal */\n  protected n: number;\n\n  constructor(t0: DateTimeLike, t1: DateTimeLike, n: number, zone?: TimeZone) {\n    super();\n    const d0 = DateTime.fromLike(t0);\n    const d1 = DateTime.fromLike(t1);\n    this.t0 = d0.time;\n    this.dt = d1.time - this.t0;\n    this.zone = zone !== void 0 ? zone : d0.zone;\n    this.n = Math.max(0, n);\n  }\n\n  override count(): number;\n  override count(n: number): this;\n  override count(n?: number): number | this {\n    if (n === void 0) {\n      return this.n;\n    } else {\n      this.n = Math.max(0, n);\n      return this;\n    }\n  }\n\n  override domain(): Domain<DateTime>;\n  override domain(ts: DomainLike<DateTime>): this;\n  override domain(d0: DateTimeLike, d1: DateTimeLike): this;\n  override domain(d0?: DomainLike<DateTime> | DateTimeLike,\n                  d1?: DateTimeLike): Domain<DateTime> | this {\n    if (d0 === void 0) {\n      return TimeDomain(new DateTime(this.t0, this.zone), new DateTime(this.t0 + this.dt, this.zone));\n    } else {\n      if (d1 === void 0) {\n        d1 = (d0 as DomainLike<DateTime>)[1];\n        d0 = (d0 as DomainLike<DateTime>)[0];\n      } else {\n        d0 = d0 as DateTimeLike;\n      }\n      d0 = DateTime.fromLike(d0);\n      d1 = DateTime.fromLike(d1);\n      this.t0 = d0.time;\n      this.dt = d1.time - this.t0;\n      return this;\n    }\n  }\n\n  override generate(interval?: TimeInterval | number): DateTime[] {\n    let t0: number;\n    let t1: number;\n    if (this.dt < 0) {\n      t1 = this.t0;\n      t0 = t1 + this.dt;\n    } else {\n      t0 = this.t0;\n      t1 = t0 + this.dt;\n    }\n\n    if (interval === void 0) {\n      interval = this.n;\n    }\n    interval = TimeTickGenerator.interval(t1 - t0, interval);\n    const ticks = interval.range(new DateTime(t0, this.zone), new DateTime(t1 + 1, this.zone));\n\n    if (this.dt < 0) {\n      ticks.reverse();\n    }\n\n    return ticks;\n  }\n\n  override format(tickValue: DateTime): string {\n    if (TimeInterval.second.floor(tickValue) < tickValue) {\n      return MILLISECOND_FORMAT.format(tickValue);\n    } else if (TimeInterval.minute.floor(tickValue) < tickValue) {\n      return SECOND_FORMAT.format(tickValue);\n    } else if (TimeInterval.hour.floor(tickValue) < tickValue) {\n      return MINUTE_FORMAT.format(tickValue);\n    } else if (TimeInterval.day.floor(tickValue) < tickValue) {\n      return HOUR_FORMAT.format(tickValue);\n    } else if (TimeInterval.month.floor(tickValue) < tickValue) {\n      if (TimeInterval.week.floor(tickValue) < tickValue) {\n        return WEEKDAY_FORMAT.format(tickValue);\n      } else {\n        return MONTHDAY_FORMAT.format(tickValue);\n      }\n    } else if (TimeInterval.year.floor(tickValue) < tickValue) {\n      return MONTH_FORMAT.format(tickValue);\n    } else {\n      return YEAR_FORMAT.format(tickValue);\n    }\n  }\n\n  /** @internal */\n  static interval(dt: number, interval: TimeInterval | number = 10): TimeInterval {\n    if (typeof interval === \"number\") {\n      const t = Math.abs(dt) / interval;\n      const duration = TIME_TICK_INTERVALS.nextKey(t);\n      if (duration === void 0) {\n        const k = TickGenerator.step(dt / YEAR, interval);\n        interval = TimeInterval.year.every(k);\n      } else if (duration > SECOND) {\n        if (t / TIME_TICK_INTERVALS.previousKey(t)! < duration / t) {\n          interval = TIME_TICK_INTERVALS.previousValue(t)!;\n        } else {\n          interval = TIME_TICK_INTERVALS.nextValue(t)!;\n        }\n      } else {\n        const k = Math.max(1, TickGenerator.step(dt, interval));\n        interval = TimeInterval.millisecond.every(k);\n      }\n    }\n    return interval;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Mutable} from \"@swim/util\";\nimport type {Class} from \"@swim/util\";\nimport type {Like} from \"@swim/util\";\nimport type {LikeType} from \"@swim/util\";\nimport type {Timing} from \"@swim/util\";\nimport {Animator} from \"@swim/component\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {PaintingContext} from \"@swim/graphics\";\nimport {PaintingRenderer} from \"@swim/graphics\";\nimport {CanvasRenderer} from \"@swim/graphics\";\nimport {TypesetView} from \"@swim/graphics\";\nimport {TextRunView} from \"@swim/graphics\";\n\n/** @internal */\nexport const enum TickState {\n  Excluded,\n  Entering,\n  Included,\n  Leaving,\n}\n\n/** @public */\nexport type TickOrientation = \"top\" | \"right\" | \"bottom\" | \"left\";\n\n/** @public */\nexport interface TickViewObserver<D = unknown, V extends TickView<D> = TickView<D>> extends GraphicsViewObserver<V> {\n  viewWillAttachTickLabel?(labelView: GraphicsView, view: V): void;\n\n  viewDidDetachTickLabel?(labelView: GraphicsView, view: V): void;\n}\n\n/** @public */\nexport abstract class TickView<D = unknown> extends GraphicsView {\n  constructor(value: D) {\n    super();\n    this.value = value;\n    this.offset = 0;\n    this.tickState = TickState.Excluded;\n    this.preserved = true;\n  }\n\n  declare readonly observerType?: Class<TickViewObserver<D>>;\n\n  abstract readonly orientation: TickOrientation;\n\n  readonly value: D;\n\n  /** @internal */\n  readonly offset: number;\n\n  /** @internal */\n  setOffset(offset: number): void {\n    (this as Mutable<this>).offset = offset;\n  }\n\n  /** @internal */\n  readonly tickState: TickState;\n\n  @Animator({valueType: R2Point, value: R2Point.origin(), updateFlags: View.NeedsRender})\n  readonly anchor!: Animator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Number, value: 1, updateFlags: View.NeedsRender})\n  readonly opacity!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 1, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 6, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkLength!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 2, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickLabelPadding!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly gridLineColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 0, inherits: true, updateFlags: View.NeedsRender})\n  readonly gridLineWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  @ViewRef({\n    viewType: TextRunView,\n    viewKey: true,\n    binds: true,\n    willAttachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewWillAttachTickLabel\", labelView, this.owner);\n    },\n    didDetachView(labelView: GraphicsView): void {\n      this.owner.callObservers(\"viewDidDetachTickLabel\", labelView, this.owner);\n    },\n    fromLike(value: GraphicsView | LikeType<GraphicsView> | string | undefined): GraphicsView {\n      if (value === void 0 || typeof value === \"string\") {\n        let view = this.view;\n        if (view === null) {\n          view = this.createView();\n        }\n        if (view instanceof TextRunView) {\n          view.text.setState(value !== void 0 ? value : \"\");\n        }\n        return view;\n      }\n      return super.fromLike(value);\n    },\n  })\n  readonly label!: ViewRef<this, Like<GraphicsView, string | undefined>>;\n\n  /** @internal */\n  readonly preserved: boolean;\n\n  preserve(): boolean;\n  preserve(preserve: boolean): this;\n  preserve(preserve?: boolean): this | boolean {\n    if (preserve === void 0) {\n      return this.preserved;\n    } else {\n      (this as Mutable<this>).preserved = preserve;\n      return this;\n    }\n  }\n\n  fadeIn(timing?: Timing | boolean): void {\n    if (this.tickState === TickState.Excluded || this.tickState === TickState.Leaving) {\n      this.opacity.set(1, timing);\n      (this as Mutable<this>).tickState = TickState.Entering;\n    }\n  }\n\n  fadeOut(timing?: Timing | boolean): void {\n    if (this.tickState === TickState.Entering || this.tickState === TickState.Included) {\n      this.opacity.set(0, timing);\n      (this as Mutable<this>).tickState = TickState.Leaving;\n    }\n  }\n\n  protected override onLayout(): void {\n    super.onLayout();\n    const labelView = this.label.view;\n    if (labelView !== null) {\n      this.layoutLabel(labelView);\n    }\n  }\n\n  /** @internal */\n  private static globalAlpha: number = NaN;\n\n  protected override willRender(): void {\n    super.willRender();\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const context = renderer.context;\n      // save\n      TickView.globalAlpha = context.globalAlpha;\n      context.globalAlpha = this.opacity.getValue();\n    }\n  }\n\n  protected override onRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof PaintingRenderer && !this.hidden && !this.culled) {\n      this.renderTick(renderer.context, this.viewFrame);\n    }\n  }\n\n  protected override didRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof CanvasRenderer) {\n      const context = renderer.context;\n      // restore\n      context.globalAlpha = TickView.globalAlpha;\n      TickView.globalAlpha = NaN;\n    }\n    super.didRender();\n  }\n\n  protected abstract layoutLabel(labelView: GraphicsView): void;\n\n  protected abstract renderTick(context: PaintingContext, frame: R2Box): void;\n\n  static top<D>(value: D): TopTickView<D> {\n    return new TopTickView(value);\n  }\n\n  static right<D>(value: D): RightTickView<D> {\n    return new RightTickView(value);\n  }\n\n  static bottom<D>(value: D): BottomTickView<D> {\n    return new BottomTickView(value);\n  }\n\n  static left<D>(value: D): LeftTickView<D> {\n    return new LeftTickView(value);\n  }\n\n  static from<D>(value: D, orientation: TickOrientation): TickView<D> {\n    if (orientation === \"top\") {\n      return this.top(value);\n    } else if (orientation === \"right\") {\n      return this.right(value);\n    } else if (orientation === \"bottom\") {\n      return this.bottom(value);\n    } else if (orientation === \"left\") {\n      return this.left(value);\n    } else {\n      throw new TypeError(orientation);\n    }\n  }\n}\n\n/** @public */\nexport class TopTickView<X = unknown> extends TickView<X> {\n  constructor(value: X) {\n    super(value);\n  }\n\n  override get orientation(): TickOrientation {\n    return \"top\";\n  }\n\n  protected override layoutLabel(labelView: GraphicsView): void {\n    const anchor = this.anchor.getValue();\n    const x = Math.round(anchor.x);\n    const y0 = Math.round(anchor.y);\n    const y1 = y0 - this.tickMarkLength.getValue();\n    const y2 = y1 - this.tickLabelPadding.getValue();\n\n    if (TypesetView[Symbol.hasInstance](labelView)) {\n      labelView.setIntrinsic({\n        textAlign: \"center\",\n        textBaseline: \"bottom\",\n        textOrigin: new R2Point(x, y2),\n      });\n    }\n  }\n\n  protected override renderTick(context: PaintingContext, frame: R2Box): void {\n    const anchor = this.anchor.getValue();\n    const x = Math.round(anchor.x);\n    const y0 = Math.round(anchor.y);\n    const tickMarkLength = this.tickMarkLength.getValue();\n    const y1 = y0 - tickMarkLength;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    const tickMarkColor = this.tickMarkColor.value;\n    const tickMarkWidth = this.tickMarkWidth.getValue();\n    if (tickMarkColor !== null && tickMarkWidth !== 0 && tickMarkLength !== 0) {\n      context.beginPath();\n      context.lineWidth = tickMarkWidth;\n      context.strokeStyle = tickMarkColor.toString();\n      context.moveTo(x, y0);\n      context.lineTo(x, y1);\n      context.stroke();\n    }\n\n    const gridLineColor = this.gridLineColor.value;\n    const gridLineWidth = this.gridLineWidth.getValue();\n    if (gridLineColor !== null && gridLineWidth !== 0 && frame.xMin < x && x < frame.xMax) {\n      context.beginPath();\n      context.lineWidth = gridLineWidth;\n      context.strokeStyle = gridLineColor.toString();\n      context.moveTo(x, y0);\n      context.lineTo(x, frame.yMax);\n      context.stroke();\n    }\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class RightTickView<Y = unknown> extends TickView<Y> {\n  constructor(value: Y) {\n    super(value);\n  }\n\n  override get orientation(): TickOrientation {\n    return \"right\";\n  }\n\n  protected override layoutLabel(labelView: GraphicsView): void {\n    const anchor = this.anchor.getValue();\n    const x0 = Math.round(anchor.x);\n    const y = Math.round(anchor.y);\n    const x1 = x0 + this.tickMarkLength.getValue();\n    const x2 = x1 + this.tickLabelPadding.getValue();\n\n    if (TypesetView[Symbol.hasInstance](labelView)) {\n      labelView.setIntrinsic({\n        textAlign: \"left\",\n        textBaseline: \"middle\",\n        textOrigin: new R2Point(x2, y),\n      });\n    }\n  }\n\n  protected override renderTick(context: PaintingContext, frame: R2Box): void {\n    const anchor = this.anchor.getValue();\n    const x0 = Math.round(anchor.x);\n    const y = Math.round(anchor.y);\n    const tickMarkLength = this.tickMarkLength.getValue();\n    const x1 = x0 + tickMarkLength;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    const tickMarkColor = this.tickMarkColor.value;\n    const tickMarkWidth = this.tickMarkWidth.getValue();\n    if (tickMarkColor !== null && tickMarkWidth !== 0 && tickMarkLength !== 0) {\n      context.beginPath();\n      context.lineWidth = tickMarkWidth;\n      context.strokeStyle = tickMarkColor.toString();\n      context.moveTo(x0, y);\n      context.lineTo(x1, y);\n      context.stroke();\n    }\n\n    const gridLineColor = this.gridLineColor.value;\n    const gridLineWidth = this.gridLineWidth.getValue();\n    if (gridLineColor !== null && gridLineWidth !== 0 && frame.yMin < y && y < frame.yMax) {\n      context.beginPath();\n      context.lineWidth = gridLineWidth;\n      context.strokeStyle = gridLineColor.toString();\n      context.moveTo(x0, y);\n      context.lineTo(frame.xMin, y);\n      context.stroke();\n    }\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class BottomTickView<X = unknown> extends TickView<X> {\n  constructor(value: X) {\n    super(value);\n  }\n\n  override get orientation(): TickOrientation {\n    return \"bottom\";\n  }\n\n  protected override layoutLabel(labelView: GraphicsView): void {\n    const anchor = this.anchor.getValue();\n    const x = Math.round(anchor.x);\n    const y0 = Math.round(anchor.y);\n    const y1 = y0 + this.tickMarkLength.getValue();\n    const y2 = y1 + this.tickLabelPadding.getValue();\n\n    if (TypesetView[Symbol.hasInstance](labelView)) {\n      labelView.setIntrinsic({\n        textAlign: \"center\",\n        textBaseline: \"top\",\n        textOrigin: new R2Point(x, y2),\n      });\n    }\n  }\n\n  protected override renderTick(context: PaintingContext, frame: R2Box): void {\n    const anchor = this.anchor.getValue();\n    const x = Math.round(anchor.x);\n    const y0 = Math.round(anchor.y);\n    const tickMarkLength = this.tickMarkLength.getValue();\n    const y1 = y0 + tickMarkLength;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    const tickMarkColor = this.tickMarkColor.value;\n    const tickMarkWidth = this.tickMarkWidth.getValue();\n    if (tickMarkColor !== null && tickMarkWidth !== 0 && tickMarkLength !== 0) {\n      context.beginPath();\n      context.lineWidth = tickMarkWidth;\n      context.strokeStyle = tickMarkColor.toString();\n      context.moveTo(x, y0);\n      context.lineTo(x, y1);\n      context.stroke();\n    }\n\n    const gridLineColor = this.gridLineColor.value;\n    const gridLineWidth = this.gridLineWidth.getValue();\n    if (gridLineColor !== null && gridLineWidth !== 0 && frame.xMin < x && x < frame.xMax) {\n      context.beginPath();\n      context.lineWidth = gridLineWidth;\n      context.strokeStyle = gridLineColor.toString();\n      context.moveTo(x, y0);\n      context.lineTo(x, frame.yMin);\n      context.stroke();\n    }\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class LeftTickView<Y = unknown> extends TickView<Y> {\n  constructor(value: Y) {\n    super(value);\n  }\n\n  override get orientation(): TickOrientation {\n    return \"left\";\n  }\n\n  protected override layoutLabel(labelView: GraphicsView): void {\n    const anchor = this.anchor.getValue();\n    const x0 = Math.round(anchor.x);\n    const y = Math.round(anchor.y);\n    const x1 = x0 - this.tickMarkLength.getValue();\n    const x2 = x1 - this.tickLabelPadding.getValue();\n\n    if (TypesetView[Symbol.hasInstance](labelView)) {\n      labelView.setIntrinsic({\n        textAlign: \"right\",\n        textBaseline: \"middle\",\n        textOrigin: new R2Point(x2, y),\n      });\n    }\n  }\n\n  protected override renderTick(context: PaintingContext, frame: R2Box): void {\n    const anchor = this.anchor.getValue();\n    const x0 = Math.round(anchor.x);\n    const y = Math.round(anchor.y);\n    const tickMarkLength = this.tickMarkLength.getValue();\n    const x1 = x0 - tickMarkLength;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    const tickMarkColor = this.tickMarkColor.value;\n    const tickMarkWidth = this.tickMarkWidth.getValue();\n    if (tickMarkColor !== null && tickMarkWidth !== 0 && tickMarkLength !== 0) {\n      context.beginPath();\n      context.strokeStyle = tickMarkColor.toString();\n      context.lineWidth = tickMarkWidth;\n      context.moveTo(x0, y);\n      context.lineTo(x1, y);\n      context.stroke();\n    }\n\n    const gridLineColor = this.gridLineColor.value;\n    const gridLineWidth = this.gridLineWidth.getValue();\n    if (gridLineColor !== null && gridLineWidth !== 0 && frame.yMin < y && y < frame.yMax) {\n      context.beginPath();\n      context.lineWidth = gridLineWidth;\n      context.strokeStyle = gridLineColor.toString();\n      context.moveTo(x0, y);\n      context.lineTo(frame.xMax, y);\n      context.stroke();\n    }\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport {Easing} from \"@swim/util\";\nimport type {ContinuousScale} from \"@swim/util\";\nimport {Affinity} from \"@swim/component\";\nimport {Property} from \"@swim/component\";\nimport {BTree} from \"@swim/collections\";\nimport {R2Point} from \"@swim/math\";\nimport type {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport type {ViewFlags} from \"@swim/view\";\nimport {View} from \"@swim/view\";\nimport type {GraphicsViewObserver} from \"@swim/graphics\";\nimport {GraphicsView} from \"@swim/graphics\";\nimport type {PaintingContext} from \"@swim/graphics\";\nimport {PaintingRenderer} from \"@swim/graphics\";\nimport {ContinuousScaleAnimator} from \"./ContinuousScaleAnimator\";\nimport {TickView} from \"./TickView\";\nimport {TickGenerator} from \"./TickGenerator\";\n\n/** @public */\nexport type AxisOrientation = \"top\" | \"right\" | \"bottom\" | \"left\";\n\n/** @public */\nexport interface AxisViewObserver<D = unknown, V extends AxisView<D> = AxisView<D>> extends GraphicsViewObserver<V> {\n  viewWillAttachTick?(tickView: TickView<D>, targetView: View | null, view: V): void;\n\n  viewDidDetachTick?(tickView: TickView<D>, view: V): void;\n\n  createTickLabel?(tickValue: D, tickView: TickView<D>, view: V): GraphicsView | string | null;\n\n  formatTickLabel?(tickLabel: string, tickView: TickView<D>, view: V): string | undefined;\n}\n\n/** @public */\nexport abstract class AxisView<D = unknown> extends GraphicsView {\n  constructor() {\n    super();\n    this.tickViews = new BTree();\n  }\n\n  declare readonly observerType?: Class<AxisViewObserver<D>>;\n\n  abstract readonly orientation: AxisOrientation;\n\n  abstract readonly scale: ContinuousScaleAnimator<this, D, number>;\n\n  /** @internal */\n  readonly tickViews!: BTree<D, TickView<D>>;\n\n  getTick(value: D): TickView<D> | null {\n    const tickView = this.tickViews.get(value);\n    return tickView !== void 0 ? tickView : null;\n  }\n\n  insertTick(value: D): TickView<D> | null {\n    const tickView = this.createTickView(value);\n    if (tickView !== null) {\n      return this.insertChild(tickView, null);\n    }\n    return tickView;\n  }\n\n  removeTick(value: D): TickView<D> | null {\n    const tickView = this.getTick(value);\n    if (tickView !== null) {\n      tickView.remove();\n    }\n    return tickView;\n  }\n\n  @Property({valueType: TickGenerator, value: true})\n  readonly tickGenerator!: Property<this, TickGenerator<D> | true | null>;\n\n  @ThemeAnimator({valueType: R2Point, value: R2Point.origin(), updateFlags: View.NeedsLayout | View.NeedsRender})\n  readonly origin!: ThemeAnimator<this, R2Point>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly borderColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 1, inherits: true, updateFlags: View.NeedsRender})\n  readonly borderWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 6, inherits: true, updateFlags: View.NeedsRender})\n  readonly borderSerif!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 80, updateFlags: View.NeedsRender})\n  readonly tickMarkSpacing!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 1, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 6, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickMarkLength!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 2, inherits: true, updateFlags: View.NeedsRender})\n  readonly tickLabelPadding!: ThemeAnimator<this, number>;\n\n  @Property({\n    valueType: Timing,\n    inherits: true,\n    initValue(): Timing {\n      return Easing.cubicOut.withDuration(250);\n    },\n  })\n  readonly tickTransition!: Property<this, Timing>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly gridLineColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 0, inherits: true, updateFlags: View.NeedsRender})\n  readonly gridLineWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, inherits: true, updateFlags: View.NeedsRender})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  protected updateTicks(): void {\n    const scale = this.scale.value;\n    let tickGenerator = this.tickGenerator.value;\n    if (scale === null || tickGenerator === null) {\n      return;\n    }\n    let timing: Timing | boolean = this.tickTransition.value;\n    if (tickGenerator === true) {\n      tickGenerator = TickGenerator.fromScale(scale);\n      this.tickGenerator.set(tickGenerator);\n      timing = false;\n    }\n    this.generateTicks(tickGenerator, scale, timing);\n  }\n\n  protected generateTicks(tickGenerator: TickGenerator<D>,\n                          scale: ContinuousScale<D, number>,\n                          timing: Timing | boolean): void {\n    const tickMarkSpacing = this.tickMarkSpacing.getValue();\n    if (tickMarkSpacing !== 0) {\n      const range = scale.range;\n      const dy = Math.abs(range[1] - range[0]);\n      const n = Math.max(1, Math.floor(dy / tickMarkSpacing));\n      tickGenerator.count(n);\n    }\n    tickGenerator.domain(scale.domain);\n\n    const oldTicks = this.tickViews.clone();\n    const tickValues = tickGenerator.generate();\n    for (let i = 0; i < tickValues.length; i += 1) {\n      const tickValue = tickValues[i]!;\n      const oldTick = oldTicks.get(tickValue);\n      if (oldTick !== void 0) {\n        oldTicks.delete(tickValue);\n        oldTick.fadeIn(timing);\n      } else {\n        const newTick = this.createTickView(tickValue);\n        if (newTick !== null) {\n          this.appendChild(newTick);\n          newTick.opacity.setInterpolatedValue(0, 0);\n          newTick.fadeIn(timing);\n        }\n      }\n    }\n    oldTicks.forEachValue(function (oldTick: TickView<D>): void {\n      if (!oldTick.preserved) {\n        oldTick.fadeOut(timing);\n      }\n    }, this);\n  }\n\n  protected createTickView(tickValue: D): TickView<D> | null {\n    const tickView = TickView.from(tickValue, this.orientation);\n    if (tickView === null) {\n      return null;\n    }\n    const tickLabel = this.createTickLabel(tickValue, tickView);\n    if (tickLabel !== null) {\n      tickView.label.set(tickLabel);\n      tickView.preserve(false);\n    }\n    return tickView;\n  }\n\n  protected createTickLabel(tickValue: D, tickView: TickView<D>): GraphicsView | string | null {\n    let tickLabel: GraphicsView | string | null = null;\n    const observers = this.observers;\n    if (observers !== null) {\n      for (const observer of observers) {\n        if (observer.createTickLabel === void 0) {\n          continue;\n        }\n        tickLabel = observer.createTickLabel(tickValue, tickView, this);\n      }\n    }\n    if (tickLabel === void 0 || tickLabel === null) {\n      const tickGenerator = this.tickGenerator.value;\n      if (tickGenerator instanceof TickGenerator) {\n        tickLabel = tickGenerator.format(tickValue);\n      } else {\n        tickLabel = \"\" + tickValue;\n      }\n    }\n    if (typeof tickLabel === \"string\") {\n      tickLabel = this.formatTickLabel(tickLabel, tickView);\n    }\n    return tickLabel;\n  }\n\n  protected formatTickLabel(tickLabel: string, tickView: TickView<D>): string | null {\n    const observers = this.observers;\n    if (observers === null) {\n      return tickLabel;\n    }\n    for (const observer of observers) {\n      if (observer.formatTickLabel === void 0) {\n        continue;\n      }\n      const label = observer.formatTickLabel(tickLabel, tickView, this);\n      if (label !== void 0) {\n        return label;\n      }\n    }\n    return tickLabel;\n  }\n\n  protected override onInsertChild(child: View, target: View | null): void {\n    super.onInsertChild(child, target);\n    if (child instanceof TickView && this.tickViews.get(child.value) !== child) {\n      this.tickViews.set(child.value, child);\n    }\n  }\n\n  protected override onRemoveChild(child: View): void {\n    super.onRemoveChild(child);\n    if (child instanceof TickView && this.tickViews.get(child.value) === child) {\n      this.tickViews.delete(child.value);\n    }\n  }\n\n  protected override needsDisplay(displayFlags: ViewFlags): ViewFlags {\n    if ((this.flags & View.NeedsLayout) === 0) {\n      displayFlags &= ~View.NeedsLayout;\n    }\n    return displayFlags;\n  }\n\n  protected override onLayout(): void {\n    super.onLayout();\n    this.scale.recohere(this.updateTime);\n    this.updateTicks();\n  }\n\n  protected override displayChild(child: View, displayFlags: ViewFlags): void {\n    if ((displayFlags & View.NeedsLayout) !== 0 && child instanceof TickView) {\n      const scale = this.scale.value;\n      if (scale !== null) {\n        this.layoutTick(child, this.origin.getValue(), this.viewFrame, scale);\n      }\n    }\n    super.displayChild(child, displayFlags);\n  }\n\n  protected abstract layoutTick(tick: TickView<D>, origin: R2Point, frame: R2Box,\n                                scale: ContinuousScale<D, number>): void;\n\n  protected override didRender(): void {\n    const renderer = this.renderer.value;\n    if (renderer instanceof PaintingRenderer) {\n      this.renderDomain(renderer.context, this.origin.getValue(), this.viewFrame);\n    }\n    super.didRender();\n  }\n\n  protected abstract renderDomain(context: PaintingContext, origin: R2Point, frame: R2Box): void;\n}\n\n/** @public */\nexport class TopAxisView<X = unknown> extends AxisView<X> {\n  override get orientation(): AxisOrientation {\n    return \"top\";\n  }\n\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: \"xScale\",\n    updateFlags: View.NeedsLayout,\n  })\n  override readonly scale!: ContinuousScaleAnimator<this, X, number>;\n\n  protected override layoutTick(tick: TickView<X>, origin: R2Point, frame: R2Box,\n                                scale: ContinuousScale<X, number>): void {\n    if (tick.anchor.hasAffinity(Affinity.Intrinsic)) {\n      const offset = scale(tick.value);\n      tick.setOffset(offset);\n      tick.anchor.setIntrinsic(new R2Point(frame.xMin + offset, origin.y));\n    }\n  }\n\n  protected override renderDomain(context: PaintingContext, origin: R2Point, frame: R2Box): void {\n    const borderColor = this.borderColor.value;\n    const borderWidth = this.borderWidth.getValue();\n    if (borderColor === null || borderWidth === 0) {\n      return;\n    }\n\n    const x0 = frame.xMin;\n    const x1 = frame.xMax;\n    const y = origin.y;\n    const dy = this.borderSerif.getValue();\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    context.beginPath();\n    context.lineWidth = borderWidth;\n    context.strokeStyle = borderColor.toString();\n    if (dy !== 0) {\n      context.moveTo(x0, y - dy);\n      context.lineTo(x0, y);\n      context.lineTo(x1, y);\n      context.lineTo(x1, y - dy);\n    } else {\n      context.moveTo(x0, y);\n      context.lineTo(x1, y);\n    }\n    context.stroke();\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class RightAxisView<Y = unknown> extends AxisView<Y> {\n  override get orientation(): AxisOrientation {\n    return \"right\";\n  }\n\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: \"yScale\",\n    updateFlags: View.NeedsLayout,\n  })\n  override readonly scale!: ContinuousScaleAnimator<this, Y, number>;\n\n  protected override layoutTick(tick: TickView<Y>, origin: R2Point, frame: R2Box,\n                                scale: ContinuousScale<Y, number>): void {\n    if (tick.anchor.hasAffinity(Affinity.Intrinsic)) {\n      const offset = scale(tick.value);\n      tick.setOffset(offset);\n      tick.anchor.setIntrinsic(new R2Point(origin.x, frame.yMin + offset));\n    }\n  }\n\n  protected override renderDomain(context: PaintingContext, origin: R2Point, frame: R2Box): void {\n    const borderColor = this.borderColor.value;\n    const borderWidth = this.borderWidth.getValue();\n    if (borderColor === null || borderWidth === 0) {\n      return;\n    }\n\n    const x = origin.x;\n    const dx = this.borderSerif.getValue();\n    const y0 = frame.yMin;\n    const y1 = frame.yMax;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    context.beginPath();\n    context.lineWidth = borderWidth;\n    context.strokeStyle = borderColor.toString();\n    if (dx !== 0) {\n      context.moveTo(x + dx, y0);\n      context.lineTo(x,      y0);\n      context.lineTo(x,      y1);\n      context.lineTo(x + dx, y1);\n    } else {\n      context.moveTo(x, y0);\n      context.lineTo(x, y1);\n    }\n    context.stroke();\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class BottomAxisView<X = unknown> extends AxisView<X> {\n  override get orientation(): AxisOrientation {\n    return \"bottom\";\n  }\n\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: \"xScale\",\n    updateFlags: View.NeedsLayout,\n  })\n  override readonly scale!: ContinuousScaleAnimator<this, X, number>;\n\n  protected override layoutTick(tick: TickView<X>, origin: R2Point, frame: R2Box,\n                                scale: ContinuousScale<X, number>): void {\n    if (tick.anchor.hasAffinity(Affinity.Intrinsic)) {\n      const offset = scale(tick.value);\n      tick.setOffset(offset);\n      tick.anchor.setIntrinsic(new R2Point(frame.xMin + offset, origin.y));\n    }\n  }\n\n  protected override renderDomain(context: PaintingContext, origin: R2Point, frame: R2Box): void {\n    const borderColor = this.borderColor.value;\n    const borderWidth = this.borderWidth.getValue();\n    if (borderColor === null || borderWidth === 0) {\n      return;\n    }\n\n    const x0 = frame.xMin;\n    const x1 = frame.xMax;\n    const y = origin.y;\n    const dy = this.borderSerif.getValue();\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    context.beginPath();\n    context.lineWidth = borderWidth;\n    context.strokeStyle = borderColor.toString();\n    if (dy !== 0) {\n      context.moveTo(x0, y + dy);\n      context.lineTo(x0, y);\n      context.lineTo(x1, y);\n      context.lineTo(x1, y + dy);\n    } else {\n      context.moveTo(x0, y);\n      context.lineTo(x1, y);\n    }\n    context.stroke();\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n\n/** @public */\nexport class LeftAxisView<Y = unknown> extends AxisView<Y> {\n  override get orientation(): AxisOrientation {\n    return \"left\";\n  }\n\n  @ContinuousScaleAnimator({\n    value: null,\n    inherits: \"yScale\",\n    updateFlags: View.NeedsLayout,\n  })\n  override readonly scale!: ContinuousScaleAnimator<this, Y, number>;\n\n  protected override layoutTick(tick: TickView<Y>, origin: R2Point, frame: R2Box,\n                                scale: ContinuousScale<Y, number>): void {\n    if (tick.anchor.hasAffinity(Affinity.Intrinsic)) {\n      const offset = scale(tick.value);\n      tick.setOffset(offset);\n      tick.anchor.setIntrinsic(new R2Point(origin.x, frame.yMin + offset));\n    }\n  }\n\n  protected override renderDomain(context: PaintingContext, origin: R2Point, frame: R2Box): void {\n    const borderColor = this.borderColor.value;\n    const borderWidth = this.borderWidth.getValue();\n    if (borderColor === null || borderWidth === 0) {\n      return;\n    }\n\n    const x = origin.x;\n    const dx = this.borderSerif.getValue();\n    const y0 = frame.yMin;\n    const y1 = frame.yMax;\n\n    // save\n    const contextLineWidth = context.lineWidth;\n    const contextStrokeStyle = context.strokeStyle;\n\n    context.beginPath();\n    context.lineWidth = borderWidth;\n    context.strokeStyle = borderColor.toString();\n    if (dx !== 0) {\n      context.moveTo(x - dx, y0);\n      context.lineTo(x,      y0);\n      context.lineTo(x,      y1);\n      context.lineTo(x - dx, y1);\n    } else {\n      context.moveTo(x, y0);\n      context.lineTo(x, y1);\n    }\n    context.stroke();\n\n    // restore\n    context.lineWidth = contextLineWidth;\n    context.strokeStyle = contextStrokeStyle;\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\n\n/** @public */\nexport interface AxisTraitObserver<D = unknown, T extends AxisTrait<D> = AxisTrait<D>> extends TraitObserver<T> {\n}\n\n/** @public */\nexport abstract class AxisTrait<D = unknown> extends Trait {\n  declare readonly observerType?: Class<AxisTraitObserver<D>>;\n}\n\n/** @public */\nexport abstract class TopAxisTrait<X = unknown> extends AxisTrait<X> {\n  declare readonly observerType?: Class<AxisTraitObserver<X, TopAxisTrait<X>>>;\n}\n\n/** @public */\nexport abstract class RightAxisTrait<Y = unknown> extends AxisTrait<Y> {\n  declare readonly observerType?: Class<AxisTraitObserver<Y, RightAxisTrait<Y>>>;\n}\n\n/** @public */\nexport abstract class BottomAxisTrait<X = unknown> extends AxisTrait<X> {\n  declare readonly observerType?: Class<AxisTraitObserver<X, BottomAxisTrait<X>>>;\n}\n\n/** @public */\nexport abstract class LeftAxisTrait<Y = unknown> extends AxisTrait<Y> {\n  declare readonly observerType?: Class<AxisTraitObserver<Y, LeftAxisTrait<Y>>>;\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {ControllerObserver} from \"@swim/controller\";\nimport {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {AxisView} from \"./AxisView\";\nimport {TopAxisView} from \"./AxisView\";\nimport {RightAxisView} from \"./AxisView\";\nimport {BottomAxisView} from \"./AxisView\";\nimport {LeftAxisView} from \"./AxisView\";\nimport {AxisTrait} from \"./AxisTrait\";\nimport {TopAxisTrait} from \"./AxisTrait\";\nimport {RightAxisTrait} from \"./AxisTrait\";\nimport {BottomAxisTrait} from \"./AxisTrait\";\nimport {LeftAxisTrait} from \"./AxisTrait\";\n\n/** @public */\nexport interface AxisControllerObserver<D = unknown, C extends AxisController<D> = AxisController<D>> extends ControllerObserver<C> {\n  controllerWillAttachAxisTrait?(axisTrait: AxisTrait<D>, controller: C): void;\n\n  controllerDidDetachAxisTrait?(axisTrait: AxisTrait<D>, controller: C): void;\n\n  controllerWillAttachAxisView?(axisView: AxisView<D>, controller: C): void;\n\n  controllerDidDetachAxisView?(axisView: AxisView<D>, controller: C): void;\n}\n\n/** @public */\nexport abstract class AxisController<D = unknown> extends Controller {\n  declare readonly observerType?: Class<AxisControllerObserver<D>>;\n\n  @TraitViewRef({\n    traitType: AxisTrait,\n    willAttachTrait(axisTrait: AxisTrait<D>): void {\n      this.owner.callObservers(\"controllerWillAttachAxisTrait\", axisTrait, this.owner);\n    },\n    didDetachTrait(axisTrait: AxisTrait<D>): void {\n      this.owner.callObservers(\"controllerDidDetachAxisTrait\", axisTrait, this.owner);\n    },\n    viewType: AxisView,\n    willAttachView(axisView: AxisView<D>): void {\n      this.owner.callObservers(\"controllerWillAttachAxisView\", axisView, this.owner);\n    },\n    didDetachView(axisView: AxisView<D>): void {\n      this.owner.callObservers(\"controllerDidDetachAxisView\", axisView, this.owner);\n    },\n  })\n  readonly axis!: TraitViewRef<this, AxisTrait<D>, AxisView<D>>;\n}\n\n/** @public */\nexport class TopAxisController<X = unknown> extends AxisController<X> {\n  @TraitViewRef({\n    extends: true,\n    traitType: TopAxisTrait,\n    viewType: TopAxisView,\n  })\n  override readonly axis!: TraitViewRef<this, TopAxisTrait<X>, TopAxisView<X>> & AxisController<X>[\"axis\"];\n}\n\n/** @public */\nexport class RightAxisController<Y = unknown> extends AxisController<Y> {\n  @TraitViewRef({\n    extends: true,\n    traitType: RightAxisTrait,\n    viewType: RightAxisView,\n  })\n  override readonly axis!: TraitViewRef<this, RightAxisTrait<Y>, RightAxisView<Y>> & AxisController<Y>[\"axis\"];\n}\n\n/** @public */\nexport class BottomAxisController<X = unknown> extends AxisController<X> {\n  @TraitViewRef({\n    extends: true,\n    traitType: BottomAxisTrait,\n    viewType: BottomAxisView,\n  })\n  override readonly axis!: TraitViewRef<this, BottomAxisTrait<X>, BottomAxisView<X>> & AxisController<X>[\"axis\"];\n}\n\n/** @public */\nexport class LeftAxisController<Y = unknown> extends AxisController<Y> {\n  @TraitViewRef({\n    extends: true,\n    traitType: LeftAxisTrait,\n    viewType: LeftAxisView,\n  })\n  override readonly axis!: TraitViewRef<this, LeftAxisTrait<Y>, LeftAxisView<Y>> & AxisController<Y>[\"axis\"];\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Range} from \"@swim/util\";\nimport {Timing} from \"@swim/util\";\nimport {Easing} from \"@swim/util\";\nimport {LinearRange} from \"@swim/util\";\nimport {Property} from \"@swim/component\";\nimport {Length} from \"@swim/math\";\nimport {R2Point} from \"@swim/math\";\nimport {R2Box} from \"@swim/math\";\nimport {Font} from \"@swim/style\";\nimport {Color} from \"@swim/style\";\nimport {Look} from \"@swim/theme\";\nimport {ThemeAnimator} from \"@swim/theme\";\nimport type {View} from \"@swim/view\";\nimport {ViewRef} from \"@swim/view\";\nimport type {ScaledViewObserver} from \"./ScaledView\";\nimport {ScaledView} from \"./ScaledView\";\nimport {GraphView} from \"./GraphView\";\nimport type {AxisView} from \"./AxisView\";\nimport {TopAxisView} from \"./AxisView\";\nimport {RightAxisView} from \"./AxisView\";\nimport {BottomAxisView} from \"./AxisView\";\nimport {LeftAxisView} from \"./AxisView\";\n\n/** @public */\nexport interface ChartViewObserver<X = unknown, Y = unknown, V extends ChartView<X, Y> = ChartView<X, Y>> extends ScaledViewObserver<X, Y, V> {\n  viewWillAttachGraph?(graphView: GraphView<X, Y>, view: V): void;\n\n  viewDidDetachGraph?(graphView: GraphView<X, Y>, view: V): void;\n\n  viewWillAttachTopAxis?(topAxisView: AxisView<X>, view: V): void;\n\n  viewDidDetachTopAxis?(topAxisView: AxisView<X>, view: V): void;\n\n  viewWillAttachRightAxis?(rightAxisView: AxisView<Y> , view: V): void;\n\n  viewDidDetachRightAxis?(rightAxisView: AxisView<Y>, view: V): void;\n\n  viewWillAttachBottomAxis?(bottomAxisView: AxisView<X>, view: V): void;\n\n  viewDidDetachBottomAxis?(bottomAxisView: AxisView<X>, view: V): void;\n\n  viewWillAttachLeftAxis?(leftAxisView: AxisView<Y>, view: V): void;\n\n  viewDidDetachLeftAxis?(leftAxisView: AxisView<Y>, view: V): void;\n}\n\n/** @public */\nexport class ChartView<X = unknown, Y = unknown> extends ScaledView<X, Y> {\n  declare readonly observerType?: Class<ChartViewObserver<X, Y>>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(20)})\n  readonly gutterTop!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(40)})\n  readonly gutterRight!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(20)})\n  readonly gutterBottom!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Length, value: Length.px(40)})\n  readonly gutterLeft!: ThemeAnimator<this, Length>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.tickColor})\n  readonly borderColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 1})\n  readonly borderWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 6})\n  readonly borderSerif!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.tickColor})\n  readonly tickMarkColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 1})\n  readonly tickMarkWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 6})\n  readonly tickMarkLength!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Number, value: 2})\n  readonly tickLabelPadding!: ThemeAnimator<this, number>;\n\n  @Property({\n    valueType: Timing,\n    initValue(): Timing {\n      return Easing.cubicOut.withDuration(250);\n    },\n  })\n  readonly tickTransition!: Property<this, Timing>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.gridColor})\n  readonly gridLineColor!: ThemeAnimator<this, Color | null>;\n\n  @ThemeAnimator({valueType: Number, value: 0})\n  readonly gridLineWidth!: ThemeAnimator<this, number>;\n\n  @ThemeAnimator({valueType: Font, value: null, inherits: true})\n  readonly font!: ThemeAnimator<this, Font | null>;\n\n  @ThemeAnimator({valueType: Color, value: null, look: Look.tickColor})\n  readonly textColor!: ThemeAnimator<this, Color | null>;\n\n  override xRange(): Range<number> | null {\n    const frame = this.viewFrame;\n    const gutterLeft = this.gutterLeft.getValue().pxValue(frame.width);\n    const gutterRight = this.gutterRight.getValue().pxValue(frame.width);\n    const xRangePadding = this.xRangePadding.value;\n    const xRangeMin = xRangePadding[0];\n    const xRangeMax = this.viewFrame.width - gutterRight - gutterLeft - xRangePadding[1];\n    return LinearRange(xRangeMin, xRangeMax);\n  }\n\n  override yRange(): Range<number> | null {\n    const frame = this.viewFrame;\n    const gutterTop = this.gutterTop.getValue().pxValue(frame.height);\n    const gutterBottom = this.gutterBottom.getValue().pxValue(frame.height);\n    const yRangePadding = this.yRangePadding.value;\n    const yRangeMin = yRangePadding[0];\n    const yRangeMax = this.viewFrame.height - gutterBottom - gutterTop - yRangePadding[1];\n    return LinearRange(yRangeMax, yRangeMin);\n  }\n\n  @ViewRef({\n    viewType: GraphView,\n    viewKey: true,\n    binds: true,\n    willAttachView(graphView: GraphView<X, Y>): void {\n      this.owner.callObservers(\"viewWillAttachGraph\", graphView, this.owner);\n    },\n    didDetachView(graphView: GraphView<X, Y>): void {\n      this.owner.callObservers(\"viewDidDetachGraph\", graphView, this.owner);\n    },\n    detectView(view: View): GraphView<X, Y> | null {\n      return view instanceof GraphView ? view : null;\n    },\n  })\n  readonly graph!: ViewRef<this, GraphView<X, Y>>;\n\n  @ViewRef({\n    viewType: TopAxisView,\n    viewKey: true,\n    binds: true,\n    willAttachView(topAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"viewWillAttachTopAxis\", topAxisView, this.owner);\n    },\n    didDetachView(topAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"viewDidDetachTopAxis\", topAxisView, this.owner);\n    },\n    detectView(view: View): AxisView<X> | null {\n      return view instanceof TopAxisView ? view : null;\n    },\n  })\n  readonly topAxis!: ViewRef<this, AxisView<X>>;\n\n  @ViewRef({\n    viewType: RightAxisView,\n    viewKey: true,\n    binds: true,\n    willAttachView(rightAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"viewWillAttachRightAxis\", rightAxisView, this.owner);\n    },\n    didDetachView(rightAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"viewDidDetachRightAxis\", rightAxisView, this.owner);\n    },\n    detectView(view: View): AxisView<Y> | null {\n      return view instanceof RightAxisView ? view : null;\n    },\n  })\n  readonly rightAxis!: ViewRef<this, AxisView<Y>>;\n\n  @ViewRef({\n    viewType: BottomAxisView,\n    viewKey: true,\n    binds: true,\n    willAttachView(bottomAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"viewWillAttachBottomAxis\", bottomAxisView, this.owner);\n    },\n    didDetachView(bottomAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"viewDidDetachBottomAxis\", bottomAxisView, this.owner);\n    },\n    detectView(view: View): AxisView<X> | null {\n      return view instanceof BottomAxisView ? view : null;\n    },\n  })\n  readonly bottomAxis!: ViewRef<this, AxisView<X>>;\n\n  @ViewRef({\n    viewType: LeftAxisView,\n    viewKey: true,\n    binds: true,\n    willAttachView(leftAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"viewWillAttachLeftAxis\", leftAxisView, this.owner);\n    },\n    didDetachView(leftAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"viewDidDetachLeftAxis\", leftAxisView, this.owner);\n    },\n    detectView(view: View): AxisView<Y> | null {\n      return view instanceof LeftAxisView ? view : null;\n    },\n  })\n  readonly leftAxis!: ViewRef<this, AxisView<Y>>;\n\n  protected override updateScales(): void {\n    this.layoutChart(this.viewFrame);\n    super.updateScales();\n  }\n\n  protected layoutChart(frame: R2Box): void {\n    const gutterTop = this.gutterTop.getValue().pxValue(frame.height);\n    const gutterRight = this.gutterRight.getValue().pxValue(frame.width);\n    const gutterBottom = this.gutterBottom.getValue().pxValue(frame.height);\n    const gutterLeft = this.gutterLeft.getValue().pxValue(frame.width);\n\n    const graphTop = frame.yMin + gutterTop;\n    const graphRight = frame.xMax - gutterRight;\n    const graphBottom = frame.yMax - gutterBottom;\n    const graphLeft = frame.xMin + gutterLeft;\n\n    const topAxisView = this.topAxis.view;\n    if (topAxisView !== null) {\n      topAxisView.setViewFrame(new R2Box(graphLeft, frame.yMin, graphRight, graphBottom));\n      topAxisView.origin.setIntrinsic(new R2Point(graphLeft, graphTop));\n    }\n    const rightAxisView = this.rightAxis.view;\n    if (rightAxisView !== null) {\n      rightAxisView.setViewFrame(new R2Box(graphLeft, graphTop, frame.xMax, graphBottom));\n      rightAxisView.origin.setIntrinsic(new R2Point(Math.max(graphLeft, graphRight), graphBottom));\n    }\n    const bottomAxisView = this.bottomAxis.view;\n    if (bottomAxisView !== null) {\n      bottomAxisView.setViewFrame(new R2Box(graphLeft, graphTop, graphRight, frame.yMax));\n      bottomAxisView.origin.setIntrinsic(new R2Point(graphLeft, Math.max(graphTop, graphBottom)));\n    }\n    const leftAxisView = this.leftAxis.view;\n    if (leftAxisView !== null) {\n      leftAxisView.setViewFrame(new R2Box(frame.xMin, graphTop, graphRight, graphBottom));\n      leftAxisView.origin.setIntrinsic(new R2Point(graphLeft, graphBottom));\n    }\n\n    const graphView = this.graph.view;\n    if (graphView !== null) {\n      graphView.setViewFrame(new R2Box(graphLeft, graphTop, graphRight, graphBottom));\n    }\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Model} from \"@swim/model\";\nimport type {TraitObserver} from \"@swim/model\";\nimport {Trait} from \"@swim/model\";\nimport {TraitRef} from \"@swim/model\";\nimport {GraphTrait} from \"./GraphTrait\";\nimport type {AxisTrait} from \"./AxisTrait\";\nimport {TopAxisTrait} from \"./AxisTrait\";\nimport {RightAxisTrait} from \"./AxisTrait\";\nimport {BottomAxisTrait} from \"./AxisTrait\";\nimport {LeftAxisTrait} from \"./AxisTrait\";\n\n/** @public */\nexport interface ChartTraitObserver<X = unknown, Y = unknown, T extends ChartTrait<X, Y> = ChartTrait<X, Y>> extends TraitObserver<T> {\n  traitWillAttachGraph?(graphTrait: GraphTrait<X, Y>, trait: T): void;\n\n  traitDidDetachGraph?(graphTrait: GraphTrait<X, Y>, trait: T): void;\n\n  traitWillAttachTopAxis?(topAxisTrait: AxisTrait<X>, trait: T): void;\n\n  traitDidDetachTopAxis?(topAxisTrait: AxisTrait<X>, trait: T): void;\n\n  traitWillAttachRightAxis?(rightAxisTrait: AxisTrait<Y>, trait: T): void;\n\n  traitDidDetachRightAxis?(rightAxisTrait: AxisTrait<Y>, trait: T): void;\n\n  traitWillAttachBottomAxis?(bottomAxisTrait: AxisTrait<X>, trait: T): void;\n\n  traitDidDetachBottomAxis?(bottomAxisTrait: AxisTrait<X>, trait: T): void;\n\n  traitWillAttachLeftAxis?(leftAxisTrait: AxisTrait<Y>, trait: T): void;\n\n  traitDidDetachLeftAxis?(leftAxisTrait: AxisTrait<Y>, trait: T): void;\n}\n\n/** @public */\nexport class ChartTrait<X = unknown, Y = unknown> extends Trait {\n  declare readonly observerType?: Class<ChartTraitObserver<X, Y>>;\n\n  @TraitRef({\n    traitType: GraphTrait,\n    binds: true,\n    willAttachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.callObservers(\"traitWillAttachGraph\", graphTrait, this.owner);\n    },\n    didAttachTrait(graphTrait: GraphTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        graphTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(graphTrait: GraphTrait<X, Y>): void {\n      if (this.owner.consuming) {\n        graphTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(graphTrait: GraphTrait<X, Y>): void {\n      this.owner.callObservers(\"traitDidDetachGraph\", graphTrait, this.owner);\n    },\n    detectModel(model: Model): GraphTrait<X, Y> | null {\n      return model.getTrait(GraphTrait) as GraphTrait<X, Y>;\n    },\n    detectTrait(trait: Trait): GraphTrait<X, Y> | null {\n      return trait instanceof GraphTrait ? trait : null;\n    },\n  })\n  readonly graph!: TraitRef<this, GraphTrait<X, Y>>;\n\n  @TraitRef({\n    traitType: TopAxisTrait,\n    binds: true,\n    willAttachTrait(topAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"traitWillAttachTopAxis\", topAxisTrait, this.owner);\n    },\n    didAttachTrait(topAxisTrait: AxisTrait<X>): void {\n      if (this.owner.consuming) {\n        topAxisTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(topAxisTrait: AxisTrait<X>): void {\n      if (this.owner.consuming) {\n        topAxisTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(topAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"traitDidDetachTopAxis\", topAxisTrait, this.owner);\n    },\n    detectModel(model: Model): AxisTrait<X> | null {\n      return model.getTrait(TopAxisTrait);\n    },\n    detectTrait(trait: Trait): AxisTrait<X> | null {\n      return trait instanceof TopAxisTrait ? trait : null;\n    },\n  })\n  readonly topAxis!: TraitRef<this, AxisTrait<X>>;\n\n  @TraitRef({\n    traitType: RightAxisTrait,\n    binds: true,\n    willAttachTrait(rightAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"traitWillAttachRightAxis\", rightAxisTrait, this.owner);\n    },\n    didAttachTrait(rightAxisTrait: AxisTrait<Y>): void {\n      if (this.owner.consuming) {\n        rightAxisTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(rightAxisTrait: AxisTrait<Y>): void {\n      if (this.owner.consuming) {\n        rightAxisTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(rightAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"traitDidDetachRightAxis\", rightAxisTrait, this.owner);\n    },\n    detectModel(model: Model): AxisTrait<Y> | null {\n      return model.getTrait(RightAxisTrait);\n    },\n    detectTrait(trait: Trait): AxisTrait<Y> | null {\n      return trait instanceof RightAxisTrait ? trait : null;\n    },\n  })\n  readonly rightAxis!: TraitRef<this, AxisTrait<Y>>;\n\n  @TraitRef({\n    traitType: BottomAxisTrait,\n    binds: true,\n    willAttachTrait(bottomAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"traitWillAttachBottomAxis\", bottomAxisTrait, this.owner);\n    },\n    didAttachTrait(bottomAxisTrait: AxisTrait<X>): void {\n      if (this.owner.consuming) {\n        bottomAxisTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(bottomAxisTrait: AxisTrait<X>): void {\n      if (this.owner.consuming) {\n        bottomAxisTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(bottomAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"traitDidDetachBottomAxis\", bottomAxisTrait, this.owner);\n    },\n    detectModel(model: Model): AxisTrait<X> | null {\n      return model.getTrait(BottomAxisTrait);\n    },\n    detectTrait(trait: Trait): AxisTrait<X> | null {\n      return trait instanceof BottomAxisTrait ? trait : null;\n    },\n  })\n  readonly bottomAxis!: TraitRef<this, AxisTrait<X>>;\n\n  @TraitRef({\n    traitType: LeftAxisTrait,\n    binds: true,\n    willAttachTrait(leftAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"traitWillAttachLeftAxis\", leftAxisTrait, this.owner);\n    },\n    didAttachTrait(leftAxisTrait: AxisTrait<Y>): void {\n      if (this.owner.consuming) {\n        leftAxisTrait.consume(this.owner);\n      }\n    },\n    willDetachTrait(leftAxisTrait: AxisTrait<Y>): void {\n      if (this.owner.consuming) {\n        leftAxisTrait.unconsume(this.owner);\n      }\n    },\n    didDetachTrait(leftAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"traitDidDetachLeftAxis\", leftAxisTrait, this.owner);\n    },\n    detectModel(model: Model): AxisTrait<Y> | null {\n      return model.getTrait(LeftAxisTrait);\n    },\n    detectTrait(trait: Trait): AxisTrait<Y> | null {\n      return trait instanceof LeftAxisTrait ? trait : null;\n    },\n  })\n  readonly leftAxis!: TraitRef<this, AxisTrait<Y>>;\n\n  protected override onStartConsuming(): void {\n    super.onStartConsuming();\n    const graphTrait = this.graph.trait;\n    if (graphTrait !== null) {\n      graphTrait.consume(this);\n    }\n    const topAxisTrair = this.topAxis.trait;\n    if (topAxisTrair !== null) {\n      topAxisTrair.consume(this);\n    }\n    const rightAxisTrait = this.rightAxis.trait;\n    if (rightAxisTrait !== null) {\n      rightAxisTrait.consume(this);\n    }\n    const bottomAxisTrait = this.bottomAxis.trait;\n    if (bottomAxisTrait !== null) {\n      bottomAxisTrait.consume(this);\n    }\n    const leftAxisTrait = this.leftAxis.trait;\n    if (leftAxisTrait !== null) {\n      leftAxisTrait.consume(this);\n    }\n  }\n\n  protected override onStopConsuming(): void {\n    super.onStopConsuming();\n    const graphTrait = this.graph.trait;\n    if (graphTrait !== null) {\n      graphTrait.unconsume(this);\n    }\n    const topAxisTrair = this.topAxis.trait;\n    if (topAxisTrair !== null) {\n      topAxisTrair.unconsume(this);\n    }\n    const rightAxisTrait = this.rightAxis.trait;\n    if (rightAxisTrait !== null) {\n      rightAxisTrait.unconsume(this);\n    }\n    const bottomAxisTrait = this.bottomAxis.trait;\n    if (bottomAxisTrait !== null) {\n      bottomAxisTrait.unconsume(this);\n    }\n    const leftAxisTrait = this.leftAxis.trait;\n    if (leftAxisTrait !== null) {\n      leftAxisTrait.unconsume(this);\n    }\n  }\n}\n","// Copyright 2015-2023 Swim.inc\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport type {Class} from \"@swim/util\";\nimport type {Observes} from \"@swim/util\";\nimport type {View} from \"@swim/view\";\nimport type {Controller} from \"@swim/controller\";\nimport {TraitViewRef} from \"@swim/controller\";\nimport {TraitViewControllerRef} from \"@swim/controller\";\nimport type {GraphControllerObserver} from \"./GraphController\";\nimport type {GraphView} from \"./GraphView\";\nimport type {GraphTrait} from \"./GraphTrait\";\nimport {GraphController} from \"./GraphController\";\nimport type {AxisView} from \"./AxisView\";\nimport type {AxisTrait} from \"./AxisTrait\";\nimport type {AxisController} from \"./AxisController\";\nimport {TopAxisController} from \"./AxisController\";\nimport {RightAxisController} from \"./AxisController\";\nimport {BottomAxisController} from \"./AxisController\";\nimport {LeftAxisController} from \"./AxisController\";\nimport {ChartView} from \"./ChartView\";\nimport {ChartTrait} from \"./ChartTrait\";\n\n/** @public */\nexport interface ChartControllerObserver<X = unknown, Y = unknown, C extends ChartController<X, Y> = ChartController<X, Y>> extends GraphControllerObserver<X, Y, C> {\n  controllerWillAttachChartTrait?(chartTrait: ChartTrait<X, Y>, controller: C): void;\n\n  controllerDidDetachChartTrait?(chartTrait: ChartTrait<X, Y>, controller: C): void;\n\n  controllerWillAttachChartView?(chartView: ChartView<X, Y>, controller: C): void;\n\n  controllerDidDetachChartView?(chartView: ChartView<X, Y>, controller: C): void;\n\n  controllerWillAttachTopAxis?(topAxisController: AxisController<X>, controller: C): void;\n\n  controllerDidDetachTopAxis?(topAxisController: AxisController<X>, controller: C): void;\n\n  controllerWillAttachTopAxisTrait?(topAxisTrait: AxisTrait<X>, controller: C): void;\n\n  controllerDidDetachTopAxisTrait?(topAxisTrait: AxisTrait<X>, controller: C): void;\n\n  controllerWillAttachTopAxisView?(topAxisView: AxisView<X>, controller: C): void;\n\n  controllerDidDetachTopAxisView?(topAxisView: AxisView<X>, controller: C): void;\n\n  controllerWillAttachRightAxis?(rightAxisController: AxisController<Y>, controller: C): void;\n\n  controllerDidDetachRightAxis?(rightAxisController: AxisController<Y>, controller: C): void;\n\n  controllerWillAttachRightAxisTrait?(rightAxisTrait: AxisTrait<Y>, controller: C): void;\n\n  controllerDidDetachRightAxisTrait?(rightAxisTrait: AxisTrait<Y>, controller: C): void;\n\n  controllerWillAttachRightAxisView?(rightAxisView: AxisView<Y>, controller: C): void;\n\n  controllerDidDetachRightAxisView?(rightAxisView: AxisView<Y>, controller: C): void;\n\n  controllerWillAttachBottomAxis?(bottomAxisController: AxisController<X>, controller: C): void;\n\n  controllerDidDetachBottomAxis?(bottomAxisController: AxisController<X>, controller: C): void;\n\n  controllerWillAttachBottomAxisTrait?(bottomAxisTrait: AxisTrait<X>, controller: C): void;\n\n  controllerDidDetachBottomAxisTrait?(bottomAxisTrait: AxisTrait<X>, controller: C): void;\n\n  controllerWillAttachBottomAxisView?(bottomAxisView: AxisView<X>, controller: C): void;\n\n  controllerDidDetachBottomAxisView?(bottomAxisView: AxisView<X>, controller: C): void;\n\n  controllerWillAttachLeftAxis?(leftAxisController: AxisController<Y>, controller: C): void;\n\n  controllerDidDetachLeftAxis?(leftAxisController: AxisController<Y>, controller: C): void;\n\n  controllerWillAttachLeftAxisTrait?(leftAxisTrait: AxisTrait<Y>, controller: C): void;\n\n  controllerDidDetachLeftAxisTrait?(leftAxisTrait: AxisTrait<Y>, controller: C): void;\n\n  controllerWillAttachLeftAxisView?(leftAxisView: AxisView<Y>, controller: C): void;\n\n  controllerDidDetachLeftAxisView?(leftAxisView: AxisView<Y>, controller: C): void;\n}\n\n/** @public */\nexport class ChartController<X = unknown, Y = unknown> extends GraphController<X, Y> {\n  declare readonly observerType?: Class<ChartControllerObserver<X, Y>>;\n\n  @TraitViewRef({\n    traitType: ChartTrait,\n    observesTrait: true,\n    initTrait(chartTrait: ChartTrait<X, Y>): void {\n      this.owner.graph.setTrait(chartTrait.graph.trait);\n      const topAxisTrait = chartTrait.topAxis.trait;\n      if (topAxisTrait !== null) {\n        this.owner.topAxis.setTrait(topAxisTrait);\n      }\n      const rightAxisTrait = chartTrait.rightAxis.trait;\n      if (rightAxisTrait !== null) {\n        this.owner.rightAxis.setTrait(rightAxisTrait);\n      }\n      const bottomAxisTrait = chartTrait.bottomAxis.trait;\n      if (bottomAxisTrait !== null) {\n        this.owner.bottomAxis.setTrait(bottomAxisTrait);\n      }\n      const leftAxisTrait = chartTrait.leftAxis.trait;\n      if (leftAxisTrait !== null) {\n        this.owner.leftAxis.setTrait(leftAxisTrait);\n      }\n    },\n    deinitTrait(chartTrait: ChartTrait<X, Y>): void {\n      const leftAxisTrait = chartTrait.leftAxis.trait;\n      if (leftAxisTrait !== null) {\n        this.owner.leftAxis.deleteTrait(leftAxisTrait);\n      }\n      const bottomAxisTrait = chartTrait.bottomAxis.trait;\n      if (bottomAxisTrait !== null) {\n        this.owner.bottomAxis.deleteTrait(bottomAxisTrait);\n      }\n      const rightAxisTrait = chartTrait.rightAxis.trait;\n      if (rightAxisTrait !== null) {\n        this.owner.rightAxis.deleteTrait(rightAxisTrait);\n      }\n      const topAxisTrait = chartTrait.topAxis.trait;\n      if (topAxisTrait !== null) {\n        this.owner.topAxis.deleteTrait(topAxisTrait);\n      }\n      this.owner.graph.setTrait(null);\n    },\n    willAttachTrait(newChartTrait: ChartTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachChartTrait\", newChartTrait, this.owner);\n    },\n    didDetachTrait(newChartTrait: ChartTrait<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachChartTrait\", newChartTrait, this.owner);\n    },\n    traitWillAttachTopAxis(topAxisTrait: AxisTrait<unknown>): void {\n      this.owner.topAxis.setTrait(topAxisTrait);\n    },\n    traitDidDetachTopAxis(topAxisTrait: AxisTrait<unknown>): void {\n      this.owner.topAxis.setTrait(null);\n    },\n    traitWillAttachRightAxis(rightAxisTrait: AxisTrait<unknown>): void {\n      this.owner.rightAxis.setTrait(rightAxisTrait);\n    },\n    traitDidDetachRightAxis(rightAxisTrait: AxisTrait<unknown>): void {\n      this.owner.rightAxis.setTrait(null);\n    },\n    traitWillAttachBottomAxis(bottomAxisTrait: AxisTrait<unknown>): void {\n      this.owner.bottomAxis.setTrait(bottomAxisTrait);\n    },\n    traitDidDetachBottomAxis(bottomAxisTrait: AxisTrait<unknown>): void {\n      this.owner.bottomAxis.setTrait(null);\n    },\n    traitWillAttachLeftAxis(leftAxisTrait: AxisTrait<unknown>): void {\n      this.owner.leftAxis.setTrait(leftAxisTrait);\n    },\n    traitDidDetachLeftAxis(leftAxisTrait: AxisTrait<unknown>): void {\n      this.owner.leftAxis.setTrait(null);\n    },\n    viewType: ChartView,\n    initView(chartView: ChartView<X, Y>): void {\n      const topAxisController = this.owner.topAxis.controller;\n      if (topAxisController !== null) {\n        topAxisController.axis.insertView(chartView);\n      }\n      const rightAxisController = this.owner.rightAxis.controller;\n      if (rightAxisController !== null) {\n        rightAxisController.axis.insertView(chartView);\n      }\n      const bottomAxisController = this.owner.bottomAxis.controller;\n      if (bottomAxisController !== null) {\n        bottomAxisController.axis.insertView(chartView);\n      }\n      const leftAxisController = this.owner.leftAxis.controller;\n      if (leftAxisController !== null) {\n        leftAxisController.axis.insertView(chartView);\n      }\n      if (this.owner.graph.view !== null || this.owner.graph.trait !== null) {\n        this.owner.graph.insertView(chartView);\n      }\n    },\n    willAttachView(chartView: ChartView<X, Y>): void {\n      this.owner.callObservers(\"controllerWillAttachChartView\", chartView, this.owner);\n    },\n    didDetachView(chartView: ChartView<X, Y>): void {\n      this.owner.callObservers(\"controllerDidDetachChartView\", chartView, this.owner);\n    },\n  })\n  readonly chart!: TraitViewRef<this, ChartTrait<X, Y>, ChartView<X, Y>> & Observes<ChartTrait<X, Y>>;\n\n  @TraitViewRef({\n    extends: true,\n    initTrait(graphTrait: GraphTrait<X, Y>): void {\n      super.initTrait(graphTrait as GraphTrait);\n      const chartView = this.owner.chart.view;\n      if (chartView !== null) {\n        this.insertView(chartView);\n      }\n    },\n    initView(graphView: GraphView<X, Y>): void {\n      super.initView(graphView as GraphView);\n      const chartView = this.owner.chart.view;\n      if (chartView !== null) {\n        this.insertView(chartView);\n      }\n    },\n    deinitView(graphView: GraphView<X, Y>): void {\n      super.deinitView(graphView as GraphView);\n      graphView.remove();\n    },\n  })\n  override readonly graph!: TraitViewRef<this, GraphTrait<X, Y>, GraphView<X, Y>> & GraphController<X, Y>[\"graph\"];\n\n  @TraitViewControllerRef({\n    controllerType: TopAxisController,\n    binds: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.view;\n    },\n    getTraitViewRef(controller: AxisController<X>): TraitViewRef<unknown, AxisTrait<X>, AxisView<X>> {\n      return controller.axis;\n    },\n    willAttachController(topAxisController: AxisController<X>): void {\n      this.owner.callObservers(\"controllerWillAttachTopAxis\", topAxisController, this.owner);\n    },\n    didAttachController(topAxisController: AxisController<X>): void {\n      const topAxisTrait = topAxisController.axis.trait;\n      if (topAxisTrait !== null) {\n        this.attachAxisTrait(topAxisTrait);\n      }\n      const topAxisView = topAxisController.axis.view;\n      if (topAxisView !== null) {\n        this.attachAxisView(topAxisView);\n      }\n    },\n    willDetachController(topAxisController: AxisController<X>): void {\n      const topAxisView = topAxisController.axis.view;\n      if (topAxisView !== null) {\n        this.detachAxisView(topAxisView);\n      }\n      const topAxisTrait = topAxisController.axis.trait;\n      if (topAxisTrait !== null) {\n        this.detachAxisTrait(topAxisTrait);\n      }\n    },\n    didDetachController(topAxisController: AxisController<X>): void {\n      this.owner.callObservers(\"controllerDidDetachTopAxis\", topAxisController, this.owner);\n    },\n    controllerWillAttachAxisTrait(topAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"controllerWillAttachTopAxisTrait\", topAxisTrait, this.owner);\n      this.attachAxisTrait(topAxisTrait);\n    },\n    controllerDidDetachAxisTrait(topAxisTrait: AxisTrait<X>): void {\n      this.detachAxisTrait(topAxisTrait);\n      this.owner.callObservers(\"controllerDidDetachTopAxisTrait\", topAxisTrait, this.owner);\n    },\n    attachAxisTrait(topAxisTrait: AxisTrait<X>): void {\n      // hook\n    },\n    detachAxisTrait(topAxisTrait: AxisTrait<X>): void {\n      // hook\n    },\n    controllerWillAttachAxisView(topAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"controllerWillAttachTopAxisView\", topAxisView, this.owner);\n      this.attachAxisView(topAxisView);\n    },\n    controllerDidDetachAxisView(topAxisView: AxisView<X>): void {\n      this.detachAxisView(topAxisView);\n      this.owner.callObservers(\"controllerDidDetachTopAxisView\", topAxisView, this.owner);\n    },\n    attachAxisView(topAxisView: AxisView<X>): void {\n      // hook\n    },\n    detachAxisView(topAxisView: AxisView<X>): void {\n      topAxisView.remove();\n    },\n    detectController(controller: Controller): AxisController<X> | null {\n      return controller instanceof TopAxisController ? controller : null;\n    },\n  })\n  readonly topAxis!: TraitViewControllerRef<this, AxisTrait<X>, AxisView<X>, AxisController<X>> & Observes<AxisController<X>> & {\n    attachAxisTrait(axisTrait: AxisTrait<X>): void,\n    detachAxisTrait(axisTrait: AxisTrait<X>): void,\n    attachAxisView(axisView: AxisView<X>): void,\n    detachAxisView(axisView: AxisView<X>): void,\n  };\n\n  @TraitViewControllerRef({\n    controllerType: RightAxisController,\n    binds: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.view;\n    },\n    getTraitViewRef(controller: AxisController<Y>): TraitViewRef<unknown, AxisTrait<Y>, AxisView<Y>> {\n      return controller.axis;\n    },\n    willAttachController(rightAxisController: AxisController<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachRightAxis\", rightAxisController, this.owner);\n    },\n    didAttachController(rightAxisController: AxisController<Y>): void {\n      const rightAxisTrait = rightAxisController.axis.trait;\n      if (rightAxisTrait !== null) {\n        this.attachAxisTrait(rightAxisTrait);\n      }\n      const rightAxisView = rightAxisController.axis.view;\n      if (rightAxisView !== null) {\n        this.attachAxisView(rightAxisView);\n      }\n    },\n    willDetachController(rightAxisController: AxisController<Y>): void {\n      const rightAxisView = rightAxisController.axis.view;\n      if (rightAxisView !== null) {\n        this.detachAxisView(rightAxisView);\n      }\n      const rightAxisTrait = rightAxisController.axis.trait;\n      if (rightAxisTrait !== null) {\n        this.detachAxisTrait(rightAxisTrait);\n      }\n    },\n    didDetachController(rightAxisController: AxisController<Y>): void {\n      this.owner.callObservers(\"controllerDidDetachRightAxis\", rightAxisController, this.owner);\n    },\n    controllerWillAttachAxisTrait(rightAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachRightAxisTrait\", rightAxisTrait, this.owner);\n      this.attachAxisTrait(rightAxisTrait);\n    },\n    controllerDidDetachAxisTrait(rightAxisTrait: AxisTrait<Y>): void {\n      this.detachAxisTrait(rightAxisTrait);\n      this.owner.callObservers(\"controllerDidDetachRightAxisTrait\", rightAxisTrait, this.owner);\n    },\n    attachAxisTrait(rightAxisTrait: AxisTrait<Y>): void {\n      // hook\n    },\n    detachAxisTrait(rightAxisTrait: AxisTrait<Y>): void {\n      // hook\n    },\n    controllerWillAttachAxisView(rightAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachRightAxisView\", rightAxisView, this.owner);\n      this.attachAxisView(rightAxisView);\n    },\n    controllerDidDetachAxisView(rightAxisView: AxisView<Y>): void {\n      this.detachAxisView(rightAxisView);\n      this.owner.callObservers(\"controllerDidDetachRightAxisView\", rightAxisView, this.owner);\n    },\n    attachAxisView(rightAxisView: AxisView<Y>): void {\n      // hook\n    },\n    detachAxisView(rightAxisView: AxisView<Y>): void {\n      rightAxisView.remove();\n    },\n    detectController(controller: Controller): AxisController<Y> | null {\n      return controller instanceof RightAxisController ? controller : null;\n    },\n  })\n  readonly rightAxis!: TraitViewControllerRef<this, AxisTrait<Y>, AxisView<Y>, AxisController<Y>> & Observes<AxisController<Y>> & {\n    attachAxisTrait(axisTrait: AxisTrait<Y>): void,\n    detachAxisTrait(axisTrait: AxisTrait<Y>): void,\n    attachAxisView(axisView: AxisView<Y>): void,\n    detachAxisView(axisView: AxisView<Y>): void,\n  };\n\n  @TraitViewControllerRef({\n    controllerType: BottomAxisController,\n    binds: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.view;\n    },\n    getTraitViewRef(controller: AxisController<X>): TraitViewRef<unknown, AxisTrait<X>, AxisView<X>> {\n      return controller.axis;\n    },\n    willAttachController(bottomAxisController: AxisController<X>): void {\n      this.owner.callObservers(\"controllerWillAttachBottomAxis\", bottomAxisController, this.owner);\n    },\n    didAttachController(bottomAxisController: AxisController<X>): void {\n      const bottomAxisTrait = bottomAxisController.axis.trait;\n      if (bottomAxisTrait !== null) {\n        this.attachAxisTrait(bottomAxisTrait);\n      }\n      const bottomAxisView = bottomAxisController.axis.view;\n      if (bottomAxisView !== null) {\n        this.attachAxisView(bottomAxisView);\n      }\n    },\n    willDetachController(bottomAxisController: AxisController<X>): void {\n      const bottomAxisView = bottomAxisController.axis.view;\n      if (bottomAxisView !== null) {\n        this.detachAxisView(bottomAxisView);\n      }\n      const bottomAxisTrait = bottomAxisController.axis.trait;\n      if (bottomAxisTrait !== null) {\n        this.detachAxisTrait(bottomAxisTrait);\n      }\n    },\n    didDetachController(bottomAxisController: AxisController<X>): void {\n      this.owner.callObservers(\"controllerDidDetachBottomAxis\", bottomAxisController, this.owner);\n    },\n    controllerWillAttachAxisTrait(bottomAxisTrait: AxisTrait<X>): void {\n      this.owner.callObservers(\"controllerWillAttachBottomAxisTrait\", bottomAxisTrait, this.owner);\n      this.attachAxisTrait(bottomAxisTrait);\n    },\n    controllerDidDetachAxisTrait(bottomAxisTrait: AxisTrait<X>): void {\n      this.detachAxisTrait(bottomAxisTrait);\n      this.owner.callObservers(\"controllerDidDetachBottomAxisTrait\", bottomAxisTrait, this.owner);\n    },\n    attachAxisTrait(bottomAxisTrait: AxisTrait<X>): void {\n      // hook\n    },\n    detachAxisTrait(bottomAxisTrait: AxisTrait<X>): void {\n      // hook\n    },\n    controllerWillAttachAxisView(bottomAxisView: AxisView<X>): void {\n      this.owner.callObservers(\"controllerWillAttachBottomAxisView\", bottomAxisView, this.owner);\n      this.attachAxisView(bottomAxisView);\n    },\n    controllerDidDetachAxisView(bottomAxisView: AxisView<X>): void {\n      this.detachAxisView(bottomAxisView);\n      this.owner.callObservers(\"controllerDidDetachBottomAxisView\", bottomAxisView, this.owner);\n    },\n    attachAxisView(bottomAxisView: AxisView<X>): void {\n      // hook\n    },\n    detachAxisView(bottomAxisView: AxisView<X>): void {\n      bottomAxisView.remove();\n    },\n    detectController(controller: Controller): AxisController<X> | null {\n      return controller instanceof BottomAxisController ? controller : null;\n    },\n  })\n  readonly bottomAxis!: TraitViewControllerRef<this, AxisTrait<X>, AxisView<X>, AxisController<X>> & Observes<AxisController<X>> & {\n    attachAxisTrait(axisTrait: AxisTrait<X>): void;\n    detachAxisTrait(axisTrait: AxisTrait<X>): void;\n    attachAxisView(axisView: AxisView<X>): void;\n    detachAxisView(axisView: AxisView<X>): void;\n  };\n\n  @TraitViewControllerRef({\n    controllerType: LeftAxisController,\n    binds: true,\n    observes: true,\n    get parentView(): View | null {\n      return this.owner.chart.view;\n    },\n    getTraitViewRef(controller: AxisController<Y>): TraitViewRef<unknown, AxisTrait<Y>, AxisView<Y>> {\n      return controller.axis;\n    },\n    willAttachController(leftAxisController: AxisController<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachLeftAxis\", leftAxisController, this.owner);\n    },\n    didAttachController(leftAxisController: AxisController<Y>): void {\n      const leftAxisTrait = leftAxisController.axis.trait;\n      if (leftAxisTrait !== null) {\n        this.attachAxisTrait(leftAxisTrait);\n      }\n      const leftAxisView = leftAxisController.axis.view;\n      if (leftAxisView !== null) {\n        this.attachAxisView(leftAxisView);\n      }\n    },\n    willDetachController(leftAxisController: AxisController<Y>): void {\n      const leftAxisView = leftAxisController.axis.view;\n      if (leftAxisView !== null) {\n        this.detachAxisView(leftAxisView);\n      }\n      const leftAxisTrait = leftAxisController.axis.trait;\n      if (leftAxisTrait !== null) {\n        this.detachAxisTrait(leftAxisTrait);\n      }\n    },\n    didDetachController(leftAxisController: AxisController<Y>): void {\n      this.owner.callObservers(\"controllerDidDetachLeftAxis\", leftAxisController, this.owner);\n    },\n    controllerWillAttachAxisTrait(leftAxisTrait: AxisTrait<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachLeftAxisTrait\", leftAxisTrait, this.owner);\n      this.attachAxisTrait(leftAxisTrait);\n    },\n    controllerDidDetachAxisTrait(leftAxisTrait: AxisTrait<Y>): void {\n      this.detachAxisTrait(leftAxisTrait);\n      this.owner.callObservers(\"controllerDidDetachLeftAxisTrait\", leftAxisTrait, this.owner);\n    },\n    attachAxisTrait(leftAxisTrait: AxisTrait<Y>): void {\n      // hook\n    },\n    detachAxisTrait(leftAxisTrait: AxisTrait<Y>): void {\n      // hook\n    },\n    controllerWillAttachAxisView(leftAxisView: AxisView<Y>): void {\n      this.owner.callObservers(\"controllerWillAttachLeftAxisView\", leftAxisView, this.owner);\n      this.attachAxisView(leftAxisView);\n    },\n    controllerDidDetachAxisView(leftAxisView: AxisView<Y>): void {\n      this.detachAxisView(leftAxisView);\n      this.owner.callObservers(\"controllerDidDetachLeftAxisView\", leftAxisView, this.owner);\n    },\n    attachAxisView(leftAxisView: AxisView<Y>): void {\n      // hook\n    },\n    detachAxisView(leftAxisView: AxisView<Y>): void {\n      leftAxisView.remove();\n    },\n    detectController(controller: Controller): AxisController<Y> | null {\n      return controller instanceof LeftAxisController ? controller : null;\n    },\n  })\n  readonly leftAxis!: TraitViewControllerRef<this, AxisTrait<Y>, AxisView<Y>, AxisController<Y>> & Observes<AxisController<Y>> & {\n    attachAxisTrait(axisTrait: AxisTrait<Y>): void;\n    detachAxisTrait(axisTrait: AxisTrait<Y>): void;\n    attachAxisView(axisView: AxisView<Y>): void;\n    detachAxisView(axisView: AxisView<Y>): void;\n  };\n}\n"],"names":["__esDecorate","ctor","descriptorIn","decorators","contextIn","initializers","extraInitializers","accept","f","TypeError","_","kind","key","target","prototype","descriptor","Object","getOwnPropertyDescriptor","name","done","i","length","context","p","access","addInitializer","push","result","get","set","init","unshift","defineProperty","__runInitializers","thisArg","value","useValue","arguments","call","SuppressedError","DialView","_a","GraphicsView","this","_instanceExtraInitializers","_value_initializers","limit","_limit_initializers","center","_center_initializers","innerRadius","_innerRadius_initializers","outerRadius","_outerRadius_initializers","startAngle","_startAngle_initializers","sweepAngle","_sweepAngle_initializers","cornerRadius","_cornerRadius_initializers","dialColor","_dialColor_initializers","meterColor","_meterColor_initializers","labelPadding","_labelPadding_initializers","tickAlign","_tickAlign_initializers","tickRadius","_tickRadius_initializers","tickLength","_tickLength_initializers","tickWidth","_tickWidth_initializers","tickPadding","_tickPadding_initializers","tickColor","_tickColor_initializers","font","_font_initializers","textColor","_textColor_initializers","label","_label_initializers","legend","_legend_initializers","arrangement","_arrangement_initializers","onLayout","super","recohere","updateTime","onRender","renderer","CanvasRenderer","hidden","culled","save","renderDial","viewFrame","restore","frame","width","height","size","Math","min","getValue","delta","px","deltaRadius","rad","dial","Arc","Angle","zero","meter","withSweepAngle","times","beginPath","fillStyle","toString","draw","fill","clip","labelView","view","r","rx","cos","Equivalent","Epsilon","ry","sin","textAlign","padAngle","PI","pxValue","dx","dy","TypesetView","Symbol","hasInstance","setIntrinsic","textBaseline","textOrigin","R2Point","x","y","legendView","tickAngle","cx","cy","r1x","r1y","r2x","r2y","lineWidth","strokeStyle","moveTo","lineTo","stroke","FillView","hitTest","transform","hitTestDial","isPointInPath","_value_decorators","Animator","valueType","Number","updateFlags","View","NeedsRender","didSetValue","owner","callObservers","_limit_decorators","origin","inherits","ThemeAnimator","Length","pct","_startAngle_decorators","_sweepAngle_decorators","Color","look","Look","etchColor","accentColor","legendColor","Font","_label_decorators","ViewRef","viewType","TextRunView","viewKey","binds","willAttachView","didDetachView","fromLike","createView","text","setState","_legend_decorators","Property","String","static","private","has","obj","_center_decorators","_innerRadius_decorators","_outerRadius_decorators","_cornerRadius_decorators","_dialColor_decorators","_meterColor_decorators","_labelPadding_decorators","_tickAlign_decorators","_tickRadius_decorators","_tickLength_decorators","_tickWidth_decorators","_tickPadding_decorators","_tickColor_decorators","_font_decorators","_textColor_decorators","_arrangement_decorators","DialTrait","Trait","formatLabel","formatLegend","ColorLook","DialController","Controller","_dial_initializers","updateLabel","dialTrait","hasAffinity","Affinity","Intrinsic","updateLegend","setValue","timing","dialView","dialTiming","getLook","Mood","ambient","Timing","setLimit","setDialColor","setMeterColor","setLabelView","setLegendView","getter","_dial_decorators","TraitViewRef","traitType","observesTrait","willAttachTrait","didAttachTrait","didDetachTrait","traitDidSetValue","traitDidSetLimit","traitDidSetDialColor","traitDidSetMeterColor","traitDidSetLabel","traitDidSetLegend","observesView","didAttachView","trait","setView","willDetachView","viewDidSetValue","viewDidSetLimit","viewWillAttachLabel","viewDidDetachLabel","viewWillAttachLegend","viewDidDetachLegend","_get_dialTiming_decorators","GaugeView","dialSpacing","_dialSpacing_initializers","title","_title_initializers","dials","_dials_initializers","layoutGauge","xMin","xMax","yMin","yMax","dialViews","views","autoCount","viewId","gaugeLimit","r0","r1","rs","dr","isFinite","dialLimit","max","titleView","state","NeedsLayout","_title_decorators","initView","_dials_decorators","ViewSet","observes","targetView","attachLabelView","attachLegendView","detachLegendView","detachLabelView","requireUpdate","_dialSpacing_decorators","GaugeTrait","onStartConsuming","consumeTraits","onStopConsuming","unconsumeTraits","TraitSet","targetTrait","consuming","consume","willDetachTrait","unconsume","detectModel","model","getTrait","GaugeController","gauge","_gauge_initializers","setTitleView","gaugeView","_gauge_decorators","gaugeTrait","addTraits","traits","deleteTraits","traitDidSetTitle","traitWillAttachDial","addTrait","traitDidDetachDial","deleteTrait","dialControllers","controllers","controllerId","dialController","parent","insertView","deinitView","viewWillAttachTitle","viewDidDetachTitle","TraitViewControllerSet","controllerType","parentView","getTraitViewRef","willAttachController","didAttachController","attachDialTrait","attachDialView","willDetachController","detachDialView","detachDialTrait","didDetachController","controllerWillAttachDialTrait","controllerDidDetachDialTrait","controllerWillAttachDialView","controllerDidDetachDialView","attachDialLabelView","attachDialLegendView","detachDialLegendView","detachDialLabelView","remove","controllerDidSetDialValue","controllerDidSetDialLimit","controllerWillAttachDialLabelView","controllerDidDetachDialLabelView","controllerWillAttachDialLegendView","controllerDidDetachDialLegendView","SliceView","total","_total_initializers","phaseAngle","_phaseAngle_initializers","_padAngle_initializers","padRadius","_padRadius_initializers","labelRadius","_labelRadius_initializers","sliceColor","_sliceColor_initializers","PaintingRenderer","renderSlice","getValueOr","arc","contextFillStyle","labelAngle","contextLineWidth","contextStrokeStyle","hitTestSlice","_total_decorators","_phaseAngle_decorators","deg","_padAngle_decorators","_padRadius_decorators","_labelRadius_decorators","_sliceColor_decorators","SliceTrait","SliceController","slice","_slice_initializers","sliceTrait","sliceView","sliceTiming","setSliceColor","_slice_decorators","traitDidSetSliceColor","setHidden","_get_sliceTiming_decorators","PieView","baseAngle","_baseAngle_initializers","slices","_slices_initializers","layoutPie","sliceViews","_slices_decorators","_baseAngle_decorators","PieTrait","PieController","pie","_pie_initializers","pieView","_pie_decorators","pieTrait","traitWillAttachSlice","traitDidDetachSlice","sliceControllers","sliceController","attachSliceTrait","attachSliceView","detachSliceView","detachSliceTrait","controllerWillAttachSliceTrait","controllerDidDetachSliceTrait","controllerWillAttachSliceView","controllerDidDetachSliceView","attachSliceLabelView","attachSliceLegendView","detachSliceLegendView","detachSliceLabelView","controllerDidSetSliceValue","sliceValue","controllerWillAttachSliceLabelView","controllerDidDetachSliceLabelView","controllerWillAttachSliceLegendView","controllerDidDetachSliceLegendView","DataPointView","constructor","xCoord","_x_initializers","_y_initializers","NaN","yCoord","y2Coord","gradientStop","setXCoord","setYCoord","setY2Coord","y2","radius","hitRadius","color","opacity","category","labelPlacement","isGradientStop","updateGradientStop","layoutDataPoint","tryView","layoutLabel","placement","y1","hitTestPoint","tryValue","_x_decorators","oldX","_y_decorators","oldY","_get_y2_decorators","oldY2","_get_radius_decorators","_get_color_decorators","_get_opacity_decorators","_get_category_decorators","_get_labelPadding_decorators","_get_hitRadius_decorators","_get_font_decorators","_get_textColor_decorators","_get_labelPlacement_decorators","DataPointTrait","_get_label_decorators","DataPointController","dataPoint","_dataPoint_initializers","dataPointTrait","setX","dataPointView","dataPointTiming","setY","setY2","setRadius","setColor","setOpacity","_dataPoint_decorators","tryFastener","traitDidSetX","traitDidSetY","traitDidSetY2","traitDidSetRadius","traitDidSetColor","traitDidSetOpacity","viewDidSetX","viewDidSetY","viewDidSetY2","viewDidSetRadius","viewDidSetColor","viewDidSetOpacity","_get_dataPointTiming_decorators","DataSetTrait","dataPoints","_dataPoints_initializers","_dataPoints_decorators","DataSetController","dataSet","_dataSet_initializers","_dataSet_decorators","TraitRef","dataSetTrait","traitWillAttachDataPoint","traitDidDetachDataPoint","dataPointController","attachDataPointTrait","attachDataPointView","detachDataPointView","detachDataPointTrait","controllerWillAttachDataPointTrait","controllerDidDetachDataPointTrait","controllerWillAttachDataPointView","controllerDidDetachDataPointView","attachDataPointLabelView","detachDataPointLabelView","controllerDidSetDataPointX","controllerDidSetDataPointY","controllerDidSetDataPointY2","controllerDidSetDataPointRadius","controllerDidSetDataPointColor","controllerDidSetDataPointOpacity","controllerWillAttachDataPointLabelView","controllerDidDetachDataPointLabelView","ContinuousScaleAnimator","extend","ContinuousScale","setScale","ScaledView","parseScale","domain","Domain","oldState","newState","createScale","withDomain","overRange","flags","TweeningFlag","newValue","Extrinsic","setDomain","setRange","Range","setBaseScale","derived","inlet","setBaseDomain","setBaseRange","createDomain","DateTime","TimeDomain","ScaledXView","object","ScaledYView","ScaledXYView","scaledFlags","xScale","_xScale_initializers","yScale","_yScale_initializers","xDomainBounds","_xDomainBounds_initializers","yDomainBounds","_yDomainBounds_initializers","xZoomBounds","_xZoomBounds_initializers","yZoomBounds","_yZoomBounds_initializers","xDomainPadding","_xDomainPadding_initializers","yDomainPadding","_yDomainPadding_initializers","xRangePadding","_xRangePadding_initializers","yRangePadding","_yRangePadding_initializers","fitAlign","_fitAlign_initializers","fitAspectRatio","_fitAspectRatio_initializers","rescaleTransition","_rescaleTransition_initializers","reboundTransition","_reboundTransition_initializers","scaled","_scaled_initializers","gesture","_gesture_initializers","xDataDomain","yDataDomain","xDataRange","yDataRange","xDataDomainPadded","yDataDomainPadded","setScaledFlags","xDomain","xRange","yDomain","yRange","xRangeMin","xRangeMax","LinearRange","yRangeMin","yRangeMax","setXDataDomain","newXDataDomain","oldXDataDomain","Equals","willSetXDataDomain","onSetXDataDomain","didSetXDataDomain","updateXDataRange","updateXDataDomainPadded","updateXDataDomain","xScaledDomain","viewCount","Values","compare","setYDataDomain","newYDataDomain","oldYDataDomain","willSetYDataDomain","onSetYDataDomain","didSetYDataDomain","updateYDataRange","updateYDataDomainPadded","updateYDataDomain","yScaledDomain","setXDataRange","setYDataRange","setXDataDomainPadded","xDataDomainPaddedMin","xDataDomainPaddedMax","setYDataDomainPadded","yDataDomainPaddedMin","yDataDomainPaddedMax","equivalent","floor","ceil","updateXRangePadding","xScaledRangePadding","updateYRangePadding","yScaledRangePadding","xFitAlign","yFitAlign","preserveAspectRatio","domainTracking","xDomainTracking","yDomainTracking","XDomainTrackingFlag","YDomainTrackingFlag","Array","isArray","scaleGestures","xScaleGestures","yScaleGestures","XScaleGesturesFlag","YScaleGesturesFlag","fitX","tween","XFitFlag","XFitTweenFlag","fitY","YFitFlag","YFitTweenFlag","fit","FitTweenMask","resizeScales","updateScales","range","equals","RescaleFlag","inletValue","pressing","isCoasting","coasting","boundScales","oldXScale","oldYScale","oldXDomain","oldYDomain","newXDomain","newYDomain","XInRangeMask","YInRangeMask","xDomainPadded","xDomainMin","xDomainMax","xZoomMin","xZoomMax","LinearScale","LinearZoomMin","TimeScale","TimeZoomMin","LinearZoomMax","TimeZoomMax","clampDomain","yDomainPadded","yDomainMin","yDomainMax","yZoomMin","yZoomMax","xDomainWidth","XMinInRangeFlag","yDomainWidth","YMinInRangeFlag","FitMask","oldDomainWidth","oldDomainHeight","domainAspectRatio","rangeAspectRatio","anamorphicAspectRatio","abs","XBoundingFlag","InteractingMask","willReboundX","didReboundX","getState","YBoundingFlag","willReboundY","didReboundY","InteractedFlag","displayChildren","displayFlags","displayChild","layoutChildren","xDataDomainMin","xDataDomainMax","yDataDomainMin","yDataDomainMax","xRangePaddingMin","xRangePaddingMax","yRangePaddingMin","yRangePaddingMax","xCount","yCount","childView","is","childXDataDomain","childXRangePadding","childYDataDomain","childYRangePadding","onBeginBoundingXScale","onEndBoundingXScale","onInterruptBoundingXScale","onBeginBoundingYScale","onEndBoundingYScale","onInterruptBoundingYScale","neutralizeX","neutralizeY","x0","x1","y0","LinearDomain","string","d1","current","d0","withDay","day","split","parse","_xScale_decorators","willTransition","didTransition","didInterrupt","_yScale_decorators","_xDomainBounds_decorators","initValue","equalValues","newXDomainBounds","oldXDomainBounds","Arrays","equal","_yDomainBounds_decorators","newYDomainBounds","oldYDomainBounds","_xZoomBounds_decorators","newXZoomBounds","oldXZoomBounds","_yZoomBounds_decorators","_xDomainPadding_decorators","newXDomainPadding","oldXDomainPadding","_yDomainPadding_decorators","newYDomainPadding","oldYDomainPadding","_xRangePadding_decorators","newXRangePadding","oldXRangePadding","_yRangePadding_decorators","newYRangePadding","oldYRangePadding","_fitAlign_decorators","newFitAlign","oldFitAlign","_fitAspectRatio_decorators","_rescaleTransition_decorators","Easing","linear","withDuration","_reboundTransition_decorators","cubicOut","_scaled_decorators","scaledView","newScaledView","viewDidSetXRangePadding","viewDidSetYRangePadding","viewDidSetXDataDomain","viewDidSetYDataDomain","detectView","_gesture_decorators","ScaleGesture","bindsOwner","getXScale","setXScale","getYScale","setYScale","willStartInteracting","BoundingMask","InteractingFlag","didStopInteracting","contains","XMaxInRangeFlag","YMaxInRangeFlag","didStopPressing","willBeginCoast","input","event","disableX","vx","ax","disableY","vy","ay","DomainTrackingMask","ScaleGesturesMask","InsertChildFlags","NeedsResize","ScatterPlotView","_opacity_initializers","point0","point1","dy1","sx1","sy1","didRender","renderPlot","_opacity_decorators","newDataPointView","SeriesPlotView","hitMode","_hitMode_initializers","gradientStops","dataPointViews","BTree","firstKey","lastKey","getDataPoint","insertDataPoint","insertChild","removeDataPoint","removeChild","setChild","newChild","nextValue","oldView","getChild","appendChild","child","prependChild","point2","x2","dy2","sx2","sy2","sdy2","hit","hitTestDomain","hitTestPlot","hitTestChildren","d","inverse","v0","previousValue","v1","dx0","dx1","delete","_hitMode_decorators","BubblePlotView","_radius_initializers","_fill_initializers","_stroke_initializers","strokeWidth","_strokeWidth_initializers","contextGlobalAlpha","globalAlpha","fillColor","tryValueOr","alpha","_radius_decorators","_fill_decorators","_stroke_decorators","_strokeWidth_decorators","LinePlotView","hitWidth","_hitWidth_initializers","transparent","gradient","isEmpty","p0","firstValue","p1","lastValue","createLinearGradient","forEach","offset","addColorStop","pointInStroke","isPointInStroke","strokeRadius","_hitWidth_decorators","AreaPlotView","cursor","values","next","hasNext","hasPrevious","previous","closePath","PlotTrait","detectTrait","ScatterPlotTrait","SeriesPlotTrait","BubblePlotTrait","createPlotController","BubblePlotController","LinePlotTrait","LinePlotController","AreaPlotTrait","AreaPlotController","PlotController","plotTiming","_get_plotTiming_decorators","ScatterPlotController","SeriesPlotController","plot","_plot_initializers","plotView","setFill","extends","_plot_decorators","initTrait","plotTrait","setTrait","traitDidSetFill","dataPointControllers","viewDidSetFill","setStroke","setStrokeWidth","traitDidSetStroke","traitDidSetStrokeWidth","viewDidSetStroke","viewDidSetStrokeWidth","GraphView","willRender","clipGraph","rect","GraphTrait","plots","_plots_initializers","_plots_decorators","GraphController","graph","_graph_initializers","_graph_decorators","graphTrait","traitWillAttachPlot","traitDidDetachPlot","graphView","plotControllers","plotController","newGraphView","attachPlotTrait","attachPlotView","attachDataSetTrait","detachDataSetTrait","detachPlotView","detachPlotTrait","controllerWillAttachPlotTrait","controllerDidDetachPlotTrait","controllerWillAttachPlotView","controllerDidDetachPlotView","controllerWillAttachDataSetTrait","controllerDidDetachDataSetTrait","controllerWillAttachDataPoint","attachDataPoint","controllerDidDetachDataPoint","detachDataPoint","dataPointLabelView","createController","ERROR_10","sqrt","ERROR_5","ERROR_2","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","TIME_TICK_INTERVALS","TimeInterval","second","every","minute","hour","week","month","year","MILLISECOND_FORMAT","DateTimeFormat","pattern","SECOND_FORMAT","MINUTE_FORMAT","HOUR_FORMAT","WEEKDAY_FORMAT","MONTHDAY_FORMAT","MONTH_FORMAT","YEAR_FORMAT","TickGenerator","format","tickValue","fromScale","scale","n","TimeTickGenerator","NumberTickGenerator","step","step0","step1","pow","log","LN10","error","count","generate","interval","ticks","reverse","power","power10","base","t0","t1","zone","time","dt","t","duration","nextKey","k","previousKey","millisecond","TickState","TickView","anchor","_anchor_initializers","tickMarkColor","_tickMarkColor_initializers","tickMarkWidth","_tickMarkWidth_initializers","tickMarkLength","_tickMarkLength_initializers","tickLabelPadding","_tickLabelPadding_initializers","gridLineColor","_gridLineColor_initializers","gridLineWidth","_gridLineWidth_initializers","tickState","Excluded","preserved","setOffset","preserve","fadeIn","Leaving","Entering","fadeOut","Included","renderTick","top","TopTickView","right","RightTickView","bottom","BottomTickView","left","LeftTickView","from","orientation","_anchor_decorators","_tickMarkColor_decorators","_tickMarkWidth_decorators","_tickMarkLength_decorators","_tickLabelPadding_decorators","_gridLineColor_decorators","_gridLineWidth_decorators","round","AxisView","tickViews","tickGenerator","_tickGenerator_initializers","_origin_initializers","borderColor","_borderColor_initializers","borderWidth","_borderWidth_initializers","borderSerif","_borderSerif_initializers","tickMarkSpacing","_tickMarkSpacing_initializers","tickTransition","_tickTransition_initializers","getTick","tickView","insertTick","createTickView","removeTick","updateTicks","generateTicks","oldTicks","clone","tickValues","oldTick","newTick","setInterpolatedValue","forEachValue","tickLabel","createTickLabel","observers","observer","formatTickLabel","onInsertChild","onRemoveChild","needsDisplay","layoutTick","renderDomain","_tickMarkSpacing_decorators","_tickTransition_decorators","_tickGenerator_decorators","_origin_decorators","_borderColor_decorators","_borderWidth_decorators","_borderSerif_decorators","TopAxisView","_instanceExtraInitializers_1","_scale_initializers","tick","_scale_decorators","RightAxisView","_instanceExtraInitializers_2","BottomAxisView","_instanceExtraInitializers_3","LeftAxisView","_instanceExtraInitializers_4","AxisTrait","TopAxisTrait","RightAxisTrait","BottomAxisTrait","LeftAxisTrait","AxisController","axis","_axis_initializers","_axis_decorators","axisTrait","axisView","TopAxisController","RightAxisController","BottomAxisController","LeftAxisController","ChartView","gutterTop","_gutterTop_initializers","gutterRight","_gutterRight_initializers","gutterBottom","_gutterBottom_initializers","gutterLeft","_gutterLeft_initializers","topAxis","_topAxis_initializers","rightAxis","_rightAxis_initializers","bottomAxis","_bottomAxis_initializers","leftAxis","_leftAxis_initializers","layoutChart","graphTop","graphRight","graphBottom","graphLeft","topAxisView","setViewFrame","R2Box","rightAxisView","bottomAxisView","leftAxisView","_gutterTop_decorators","_gutterRight_decorators","_gutterBottom_decorators","_gutterLeft_decorators","gridColor","_topAxis_decorators","_rightAxis_decorators","_bottomAxis_decorators","_leftAxis_decorators","ChartTrait","topAxisTrair","rightAxisTrait","bottomAxisTrait","leftAxisTrait","topAxisTrait","ChartController","chart","_chart_initializers","_chart_decorators","chartTrait","deinitTrait","newChartTrait","traitWillAttachTopAxis","traitDidDetachTopAxis","traitWillAttachRightAxis","traitDidDetachRightAxis","traitWillAttachBottomAxis","traitDidDetachBottomAxis","traitWillAttachLeftAxis","traitDidDetachLeftAxis","chartView","topAxisController","controller","rightAxisController","bottomAxisController","leftAxisController","TraitViewControllerRef","attachAxisTrait","attachAxisView","detachAxisView","detachAxisTrait","controllerWillAttachAxisTrait","controllerDidDetachAxisTrait","controllerWillAttachAxisView","controllerDidDetachAxisView","detectController"],"mappings":"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"}