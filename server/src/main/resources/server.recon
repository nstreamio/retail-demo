@kernel(class: "swim.meta.MetaKernel")

retail360: @fabric {
  @plane(class: "swim.retail360.Retail360Plane")

  @node {
      uri: "/store/main"
      @agent(class: "swim.retail360.agent.StoreAgent")
  }

  @node {
      uri: "/customer/:id"
      @agent(class: "swim.retail360.agent.CustomerAgent")
  }

  @node {
      uri: "/order/:id"
      @agent(class: "swim.retail360.agent.OrderAgent")
  }

}

@web(port: 9001) {
  space: "retail360"
  documentRoot: "./ui/"
  @websocket {
    serverCompressionLevel: 0# -1 = default; 0 = off; 1-9 = deflate level
    clientCompressionLevel: 0# -1 = default; 0 = off; 1-9 = deflate level
  }
}
